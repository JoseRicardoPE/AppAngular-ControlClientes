(self.webpackChunkcontrol_clientes=self.webpackChunkcontrol_clientes||[]).push([[179],{2011:(ut,xe,L)=>{"use strict";L.d(xe,{hO:()=>Ge,xv:()=>pe,Dh:()=>fe,GT:()=>_e,cc:()=>ke,on:()=>H,pX:()=>se});var d=L(5e3),X=L(127),P=L(5813);ut=L.hmd(ut);const ge=["ngOnDestroy"],se=(he,Re,Le,de={})=>new Proxy(he,{get:(Ee,Ie)=>Le.runOutsideAngular(()=>{var ze;if(he[Ie])return(null===(ze=null==de?void 0:de.spy)||void 0===ze?void 0:ze.get)&&de.spy.get(Ie,he[Ie]),he[Ie];if(ge.indexOf(Ie)>-1)return()=>{};const q=Re.toPromise().then(ae=>{const K=ae&&ae[Ie];return"function"==typeof K?K.bind(ae):K&&K.then?K.then(le=>Le.run(()=>le)):Le.run(()=>K)});return new Proxy(()=>{},{get:(ae,K)=>q[K],apply:(ae,K,le)=>q.then(me=>{var te;const Pe=me&&me(...le);return(null===(te=null==de?void 0:de.spy)||void 0===te?void 0:te.apply)&&de.spy.apply(Ie,le,Pe),Pe})})})}),_e=(he,Re)=>{Re.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(de=>{Object.defineProperty(he.prototype,de,Object.getOwnPropertyDescriptor(Le.prototype||Le,de))})})};class ce{constructor(Re){return Re}}const fe=new d.OlP("angularfire2.app.options"),pe=new d.OlP("angularfire2.app.name");function H(he,Re,Le){const Ee="object"==typeof Le&&Le||{};Ee.name=Ee.name||"string"==typeof Le&&Le||"[DEFAULT]";const ze=X.Z.apps.filter(q=>q&&q.name===Ee.name)[0]||Re.runOutsideAngular(()=>X.Z.initializeApp(he,Ee));try{JSON.stringify(he)!==JSON.stringify(ze.options)&&$("error",`${ze.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(q){}return new ce(ze)}const $=(he,...Re)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[he](...Re)},ee={provide:ce,useFactory:H,deps:[fe,d.R0b,[new d.FiY,pe]]};let Ge=(()=>{class he{constructor(Le){X.Z.registerVersion("angularfire",P.q4.full,"core"),X.Z.registerVersion("angularfire",P.q4.full,"app-compat"),X.Z.registerVersion("angular",d.q4F.full,Le.toString())}static initializeApp(Le,de){return{ngModule:he,providers:[{provide:fe,useValue:Le},{provide:pe,useValue:de}]}}}return he.\u0275fac=function(Le){return new(Le||he)(d.LFG(d.Lbi))},he.\u0275mod=d.oAB({type:he}),he.\u0275inj=d.cJS({providers:[ee]}),he})();function ke(he,Re,Le,de,Ee){const[,Ie,ze]=globalThis.\u0275AngularfireInstanceCache.find(q=>q[0]===he)||[];if(Ie)return function Fe(he,Re){try{return he.toString()===Re.toString()}catch(Le){return he===Re}}(Ee,ze)||(Q("error",`${Re} was already initialized on the ${Le} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),Q("warn",{is:Ee,was:ze})),Ie;{const q=de();return globalThis.\u0275AngularfireInstanceCache.push([he,q,Ee]),q}}const He=!!ut.hot,Q=(he,...Re)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[he](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,xe,L)=>{"use strict";L.d(xe,{q4:()=>sa,iC:()=>To,HU:()=>ll,vb:()=>bd,JM:()=>wd});var d=L(5e3),X=L(5867),P=L(5861),ge=L(9681),se=L(2090),_e=L(4859),ce=L(1877),fe=L(2940);const pe="@firebase/installations",H="0.5.5",ee=`w:${H}`,Ge="FIS_v2",Re=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(D){return D instanceof se.ZR&&D.code.includes("request-failed")}function de({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ee(D){return{token:D.token,requestStatus:2,expiresIn:me(D.expiresIn),creationTime:Date.now()}}function Ie(D,T){return ze.apply(this,arguments)}function ze(){return(ze=(0,P.Z)(function*(D,T){const U=(yield T.json()).error;return Re.create("request-failed",{requestName:D,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function q({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ae(D,{refreshToken:T}){const O=q(D);return O.append("Authorization",function te(D){return`${Ge} ${D}`}(T)),O}function K(D){return le.apply(this,arguments)}function le(){return(le=(0,P.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function me(D){return Number(D.replace("s","000"))}function Pe(D,T){return ye.apply(this,arguments)}function ye(){return(ye=(0,P.Z)(function*(D,{fid:T}){const O=de(D),ue={method:"POST",headers:q(D),body:JSON.stringify({fid:T,authVersion:Ge,appId:D.appId,sdkVersion:ee})},we=yield K(()=>fetch(O,ue));if(we.ok){const Be=yield we.json();return{fid:Be.fid||T,registrationStatus:2,refreshToken:Be.refreshToken,authToken:Ee(Be.authToken)}}throw yield Ie("Create Installation",we)})).apply(this,arguments)}function vt(D){return new Promise(T=>{setTimeout(T,D)})}const En=/^[cdef][\w-]{21}$/;function et(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function an(D){return function $t(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return En.test(O)?O:""}catch(D){return""}}function Xt(D){return`${D.appName}!${D.appId}`}const Cn=new Map;function Lt(D,T){const O=Xt(D);At(O,T),function ui(D,T){const O=function Ei(){return!Xn&&"BroadcastChannel"in self&&(Xn=new BroadcastChannel("[Firebase] FID Change"),Xn.onmessage=D=>{At(D.data.key,D.data.fid)}),Xn}();O&&O.postMessage({key:D,fid:T}),function er(){0===Cn.size&&Xn&&(Xn.close(),Xn=null)}()}(O,T)}function At(D,T){const O=Cn.get(D);if(O)for(const U of O)U(T)}let Xn=null;const Hn="firebase-installations-store";let un=null;function rt(){return un||(un=(0,fe.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Hn)})),un}function Nr(D,T){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,P.Z)(function*(D,T){const O=Xt(D),J=(yield rt()).transaction(Hn,"readwrite"),ue=J.objectStore(Hn),we=yield ue.get(O);return yield ue.put(T,O),yield J.complete,(!we||we.fid!==T.fid)&&Lt(D,T.fid),T})).apply(this,arguments)}function mn(D){return ls.apply(this,arguments)}function ls(){return(ls=(0,P.Z)(function*(D){const T=Xt(D),U=(yield rt()).transaction(Hn,"readwrite");yield U.objectStore(Hn).delete(T),yield U.complete})).apply(this,arguments)}function gt(D,T){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,P.Z)(function*(D,T){const O=Xt(D),J=(yield rt()).transaction(Hn,"readwrite"),ue=J.objectStore(Hn),we=yield ue.get(O),Be=T(we);return void 0===Be?yield ue.delete(O):yield ue.put(Be,O),yield J.complete,Be&&(!we||we.fid!==Be.fid)&&Lt(D,Be.fid),Be})).apply(this,arguments)}function wt(D){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,P.Z)(function*(D){let T;const O=yield gt(D,U=>{const J=Tn(U),ue=ft(D,J);return T=ue.registrationPromise,ue.installationEntry});return""===O.fid?{installationEntry:yield T}:{installationEntry:O,registrationPromise:T}})).apply(this,arguments)}function Tn(D){return io(D||{fid:et(),registrationStatus:0})}function ft(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Re.create("app-offline"))};const O={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},U=function Ze(D,T){return ct.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:U}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:yr(D)}:{installationEntry:T}}function ct(){return(ct=(0,P.Z)(function*(D,T){try{return Nr(D,yield Pe(D,T))}catch(O){throw Le(O)&&409===O.customData.serverCode?yield mn(D):yield Nr(D,{fid:T.fid,registrationStatus:0}),O}})).apply(this,arguments)}function yr(D){return vn.apply(this,arguments)}function vn(){return(vn=(0,P.Z)(function*(D){let T=yield Vt(D);for(;1===T.registrationStatus;)yield vt(100),T=yield Vt(D);if(0===T.registrationStatus){const{installationEntry:O,registrationPromise:U}=yield wt(D);return U||O}return T})).apply(this,arguments)}function Vt(D){return gt(D,T=>{if(!T)throw Re.create("installation-not-found");return io(T)})}function io(D){return function vr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function _r(D,T){return j.apply(this,arguments)}function j(){return(j=(0,P.Z)(function*({appConfig:D,platformLoggerProvider:T},O){const U=z(D,O),J=ae(D,O),ue=T.getImmediate({optional:!0});ue&&J.append("x-firebase-client",ue.getPlatformInfoString());const Be={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ee}})},Je=yield K(()=>fetch(U,Be));if(Je.ok)return Ee(yield Je.json());throw yield Ie("Generate Auth Token",Je)})).apply(this,arguments)}function z(D,{fid:T}){return`${de(D)}/${T}/authTokens:generate`}function Z(D){return re.apply(this,arguments)}function re(){return(re=(0,P.Z)(function*(D,T=!1){let O;const U=yield gt(D.appConfig,ue=>{if(!ln(ue))throw Re.create("not-registered");const we=ue.authToken;if(!T&&Pr(we))return ue;if(1===we.requestStatus)return O=oe(D,T),ue;{if(!navigator.onLine)throw Re.create("app-offline");const Be=Ln(ue);return O=en(D,Be),Be}});return O?yield O:U.authToken})).apply(this,arguments)}function oe(D,T){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,P.Z)(function*(D,T){let O=yield mt(D.appConfig);for(;1===O.authToken.requestStatus;)yield vt(100),O=yield mt(D.appConfig);const U=O.authToken;return 0===U.requestStatus?Z(D,T):U})).apply(this,arguments)}function mt(D){return gt(D,T=>{if(!ln(T))throw Re.create("not-registered");return function wr(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function en(D,T){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,P.Z)(function*(D,T){try{const O=yield _r(D,T),U=Object.assign(Object.assign({},T),{authToken:O});return yield Nr(D.appConfig,U),O}catch(O){if(!Le(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Nr(D.appConfig,U)}else yield mn(D.appConfig);throw O}})).apply(this,arguments)}function ln(D){return void 0!==D&&2===D.registrationStatus}function Pr(D){return 2===D.requestStatus&&!function kt(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Ln(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function Fo(){return(Fo=(0,P.Z)(function*(D){const T=D,{installationEntry:O,registrationPromise:U}=yield wt(T.appConfig);return U?U.catch(console.error):Z(T).catch(console.error),O.fid})).apply(this,arguments)}function Li(){return(Li=(0,P.Z)(function*(D,T=!1){const O=D;return yield Vn(O.appConfig),(yield Z(O,T)).token})).apply(this,arguments)}function Vn(D){return br.apply(this,arguments)}function br(){return(br=(0,P.Z)(function*(D){const{registrationPromise:T}=yield wt(D);T&&(yield T)})).apply(this,arguments)}function oo(D){return Re.create("missing-app-config-values",{valueName:D})}const Fr="installations",St=D=>{const T=D.getProvider("app").getImmediate(),O=function dt(D){if(!D||!D.options)throw oo("App Configuration");if(!D.name)throw oo("App Name");const T=["projectId","apiKey","appId"];for(const O of T)if(!D.options[O])throw oo(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:O,platformLoggerProvider:(0,ge._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},sn=D=>{const T=D.getProvider("app").getImmediate(),O=(0,ge._getProvider)(T,Fr).getImmediate();return{getId:()=>function so(D){return Fo.apply(this,arguments)}(O),getToken:J=>function wa(D){return Li.apply(this,arguments)}(O,J)}};(function Er(){(0,ge._registerComponent)(new _e.wA(Fr,St,"PUBLIC")),(0,ge._registerComponent)(new _e.wA("installations-internal",sn,"PRIVATE"))})(),(0,ge.registerVersion)(pe,H),(0,ge.registerVersion)(pe,H,"esm2017");const li="@firebase/remote-config",_n=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Wa{constructor(T,O,U,J){this.client=T,this.storage=O,this.storageCache=U,this.logger=J}isCachedDataFresh(T,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-O,J=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${J}.`),J}fetch(T){var O=this;return(0,P.Z)(function*(){const[U,J]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(J&&O.isCachedDataFresh(T.cacheMaxAgeMillis,U))return J;T.eTag=J&&J.eTag;const ue=yield O.client.fetch(T),we=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&we.push(O.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(we),ue})()}}function Vo(D=navigator){return D.languages&&D.languages[0]||D.language}class Sn{constructor(T,O,U,J,ue,we){this.firebaseInstallations=T,this.sdkVersion=O,this.namespace=U,this.projectId=J,this.apiKey=ue,this.appId=we}fetch(T){var O=this;return(0,P.Z)(function*(){const[U,J]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),we=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Je={sdk_version:O.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:O.appId,language_code:Vo()},Ot={method:"POST",headers:Be,body:JSON.stringify(Je)},on=fetch(we,Ot),Bn=new Promise((Ri,Ji)=>{T.signal.addEventListener(()=>{const gu=new Error("The operation was aborted.");gu.name="AbortError",Ji(gu)})});let Sr;try{yield Promise.race([on,Bn]),Sr=yield on}catch(Ri){let Ji="fetch-client-network";throw"AbortError"===Ri.name&&(Ji="fetch-timeout"),_n.create(Ji,{originalErrorMessage:Ri.message})}let Qn=Sr.status;const Ao=Sr.headers.get("ETag")||void 0;let Oi,ys;if(200===Sr.status){let Ri;try{Ri=yield Sr.json()}catch(Ji){throw _n.create("fetch-client-parse",{originalErrorMessage:Ji.message})}Oi=Ri.entries,ys=Ri.state}if("INSTANCE_STATE_UNSPECIFIED"===ys?Qn=500:"NO_CHANGE"===ys?Qn=304:("NO_TEMPLATE"===ys||"EMPTY_CONFIG"===ys)&&(Oi={}),304!==Qn&&200!==Qn)throw _n.create("fetch-status",{httpStatus:Qn});return{status:Qn,eTag:Ao,config:Oi}})()}}class $i{constructor(T,O){this.client=T,this.storage=O}fetch(T){var O=this;return(0,P.Z)(function*(){const U=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:O,backoffCount:U}){var J=this;return(0,P.Z)(function*(){yield function $u(D,T){return new Promise((O,U)=>{const J=Math.max(T-Date.now(),0),ue=setTimeout(O,J);D.addEventListener(()=>{clearTimeout(ue),U(_n.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,O);try{const ue=yield J.client.fetch(T);return yield J.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function cd(D){if(!(D instanceof se.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ue))throw ue;const we={throttleEndTimeMillis:Date.now()+(0,se.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(we),J.attemptFetch(T,we)}})()}}class hd{constructor(T,O,U,J,ue){this.app=T,this._client=O,this._storageCache=U,this._storage=J,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Uo(D,T){const O=D.target.error||void 0;return _n.create(T,{originalErrorMessage:O&&O.message})}const Kr="app_namespace_store";class Gu{constructor(T,O,U,J=function pd(){return new Promise((D,T)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=U=>{T(Uo(U,"storage-open"))},O.onsuccess=U=>{D(U.target.result)},O.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Kr,{keyPath:"compositeKey"})}}catch(O){T(_n.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=T,this.appName=O,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var O=this;return(0,P.Z)(function*(){const U=yield O.openDbPromise;return new Promise((J,ue)=>{const Be=U.transaction([Kr],"readonly").objectStore(Kr),Je=O.createCompositeKey(T);try{const Ot=Be.get(Je);Ot.onerror=on=>{ue(Uo(on,"storage-get"))},Ot.onsuccess=on=>{const Bn=on.target.result;J(Bn?Bn.value:void 0)}}catch(Ot){ue(_n.create("storage-get",{originalErrorMessage:Ot&&Ot.message}))}})})()}set(T,O){var U=this;return(0,P.Z)(function*(){const J=yield U.openDbPromise;return new Promise((ue,we)=>{const Je=J.transaction([Kr],"readwrite").objectStore(Kr),Ot=U.createCompositeKey(T);try{const on=Je.put({compositeKey:Ot,value:O});on.onerror=Bn=>{we(Uo(Bn,"storage-set"))},on.onsuccess=()=>{ue()}}catch(on){we(_n.create("storage-set",{originalErrorMessage:on&&on.message}))}})})()}delete(T){var O=this;return(0,P.Z)(function*(){const U=yield O.openDbPromise;return new Promise((J,ue)=>{const Be=U.transaction([Kr],"readwrite").objectStore(Kr),Je=O.createCompositeKey(T);try{const Ot=Be.delete(Je);Ot.onerror=on=>{ue(Uo(on,"storage-delete"))},Ot.onsuccess=()=>{J()}}catch(Ot){ue(_n.create("storage-delete",{originalErrorMessage:Ot&&Ot.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class co{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const O=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),J=T.storage.getActiveConfig(),ue=yield O;ue&&(T.lastFetchStatus=ue);const we=yield U;we&&(T.lastSuccessfulFetchTimestampMillis=we);const Be=yield J;Be&&(T.activeConfig=Be)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function zh(){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,P.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}!function gd(){(0,ge._registerComponent)(new _e.wA("remote-config",function D(T,{instanceIdentifier:O}){const U=T.getProvider("app").getImmediate(),J=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw _n.create("registration-window");if(!(0,se.hl)())throw _n.create("indexed-db-unavailable");const{projectId:ue,apiKey:we,appId:Be}=U.options;if(!ue)throw _n.create("registration-project-id");if(!we)throw _n.create("registration-api-key");if(!Be)throw _n.create("registration-app-id");const Je=new Gu(Be,U.name,O=O||"firebase"),Ot=new co(Je),on=new ce.Yd(li);on.logLevel=ce.in.ERROR;const Bn=new Sn(J,ge.SDK_VERSION,O,ue,we,Be),Sr=new $i(Bn,Je),Qn=new Wa(Sr,Je,Ot,on),Ao=new hd(U,Qn,Ot,Je,on);return function Yt(D){const T=(0,se.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ao),Ao},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(li,"0.3.4"),(0,ge.registerVersion)(li,"0.3.4","esm2017")}();const ds="/firebase-messaging-sw.js",Yr="/firebase-cloud-messaging-push-scope",hs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ks="google.c.a.c_id",qu="google.c.a.c_l",zl="google.c.a.ts",Os="google.c.a.e";var Gi=(()=>{return(D=Gi||(Gi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Gi;var D})();function qn(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zu(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(O),J=new Uint8Array(U.length);for(let ue=0;ue<U.length;++ue)J[ue]=U.charCodeAt(ue);return J}const hr="fcm_token_details_db",Wu="fcm_token_object_Store";function Ku(D){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,P.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(hr))return null;let T=null;return(yield(0,fe.openDb)(hr,5,function(){var U=(0,P.Z)(function*(J){var ue;if(J.oldVersion<2||!J.objectStoreNames.contains(Wu))return;const we=J.transaction.objectStore(Wu),Be=yield we.index("fcmSenderId").get(D);if(yield we.clear(),Be)if(2===J.oldVersion){const Je=Be;if(!Je.auth||!Je.p256dh||!Je.endpoint)return;T={token:Je.fcmToken,createTime:null!==(ue=Je.createTime)&&void 0!==ue?ue:Date.now(),subscriptionOptions:{auth:Je.auth,p256dh:Je.p256dh,endpoint:Je.endpoint,swScope:Je.swScope,vapidKey:"string"==typeof Je.vapidKey?Je.vapidKey:qn(Je.vapidKey)}}}else if(3===J.oldVersion){const Je=Be;T={token:Je.fcmToken,createTime:Je.createTime,subscriptionOptions:{auth:qn(Je.auth),p256dh:qn(Je.p256dh),endpoint:Je.endpoint,swScope:Je.swScope,vapidKey:qn(Je.vapidKey)}}}else if(4===J.oldVersion){const Je=Be;T={token:Je.fcmToken,createTime:Je.createTime,subscriptionOptions:{auth:qn(Je.auth),p256dh:qn(Je.p256dh),endpoint:Je.endpoint,swScope:Je.swScope,vapidKey:qn(Je.vapidKey)}}}});return function(J){return U.apply(this,arguments)}}())).close(),yield(0,fe.deleteDb)(hr),yield(0,fe.deleteDb)("fcm_vapid_details_db"),yield(0,fe.deleteDb)("undefined"),Ca(T)?T:null}),Ea.apply(this,arguments)}function Ca(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const di="firebase-messaging-store";let Da=null;function tn(){return Da||(Da=(0,fe.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(di)})),Da}function jo(D){return fs.apply(this,arguments)}function fs(){return(fs=(0,P.Z)(function*(D){const T=zn(D),U=yield(yield tn()).transaction(di).objectStore(di).get(T);if(U)return U;{const J=yield Ku(D.appConfig.senderId);if(J)return yield Ut(D,J),J}})).apply(this,arguments)}function Ut(D,T){return $o.apply(this,arguments)}function $o(){return($o=(0,P.Z)(function*(D,T){const O=zn(D),J=(yield tn()).transaction(di,"readwrite");return yield J.objectStore(di).put(T,O),yield J.complete,T})).apply(this,arguments)}function Ho(D){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,P.Z)(function*(D){const T=zn(D),U=(yield tn()).transaction(di,"readwrite");yield U.objectStore(di).delete(T),yield U.complete})).apply(this,arguments)}function zn({appConfig:D}){return D.appId}const wn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Lr(D,T){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,P.Z)(function*(D,T){const O=yield ps(D),U=Go(T),J={method:"POST",headers:O,body:JSON.stringify(U)};let ue;try{ue=yield(yield fetch(qi(D.appConfig),J)).json()}catch(we){throw wn.create("token-subscribe-failed",{errorInfo:we})}if(ue.error)throw wn.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw wn.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function fo(D,T){return Di.apply(this,arguments)}function Di(){return(Di=(0,P.Z)(function*(D,T){const O=yield ps(D),U=Go(T.subscriptionOptions),J={method:"PATCH",headers:O,body:JSON.stringify(U)};let ue;try{ue=yield(yield fetch(`${qi(D.appConfig)}/${T.token}`,J)).json()}catch(we){throw wn.create("token-update-failed",{errorInfo:we})}if(ue.error)throw wn.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw wn.create("token-update-no-token");return ue.token})).apply(this,arguments)}function Aa(D,T){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,P.Z)(function*(D,T){const U={method:"DELETE",headers:yield ps(D)};try{const ue=yield(yield fetch(`${qi(D.appConfig)}/${T}`,U)).json();if(ue.error)throw wn.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(J){throw wn.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function qi({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function ps(D){return pt.apply(this,arguments)}function pt(){return(pt=(0,P.Z)(function*({appConfig:D,installations:T}){const O=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Go({p256dh:D,auth:T,endpoint:O,vapidKey:U}){const J={web:{endpoint:O,auth:T,p256dh:D}};return U!==hs&&(J.web.applicationPubKey=U),J}const qo=6048e5;function Yu(D){return zo.apply(this,arguments)}function zo(){return(zo=(0,P.Z)(function*(D){const T=yield dn(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:qn(T.getKey("auth")),p256dh:qn(T.getKey("p256dh"))},U=yield jo(D.firebaseDependencies);if(U){if(Wo(U.subscriptionOptions,O))return Date.now()>=U.createTime+qo?Zl(D,{token:U.token,createTime:Date.now(),subscriptionOptions:O}):U.token;try{yield Aa(D.firebaseDependencies,U.token)}catch(J){console.warn(J)}return Nt(D.firebaseDependencies,O)}return Nt(D.firebaseDependencies,O)})).apply(this,arguments)}function Qa(D){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,P.Z)(function*(D){const T=yield jo(D.firebaseDependencies);T&&(yield Aa(D.firebaseDependencies,T.token),yield Ho(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Zl(D,T){return Me.apply(this,arguments)}function Me(){return(Me=(0,P.Z)(function*(D,T){try{const O=yield fo(D.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:O,createTime:Date.now()});return yield Ut(D.firebaseDependencies,U),O}catch(O){throw yield Qa(D),O}})).apply(this,arguments)}function Nt(D,T){return po.apply(this,arguments)}function po(){return(po=(0,P.Z)(function*(D,T){const U={token:yield Lr(D,T),createTime:Date.now(),subscriptionOptions:T};return yield Ut(D,U),U.token})).apply(this,arguments)}function dn(D,T){return zi.apply(this,arguments)}function zi(){return(zi=(0,P.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zu(T)})})).apply(this,arguments)}function Wo(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function Ir(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Ja(D,T){if(!T.notification)return;D.notification={};const O=T.notification.title;O&&(D.notification.title=O);const U=T.notification.body;U&&(D.notification.body=U);const J=T.notification.image;J&&(D.notification.image=J)}(T,D),function Sa(D,T){!T.data||(D.data=T.data)}(T,D),function Qu(D,T){if(!T.fcmOptions)return;D.fcmOptions={};const O=T.fcmOptions.link;O&&(D.fcmOptions.link=O);const U=T.fcmOptions.analytics_label;U&&(D.fcmOptions.analyticsLabel=U)}(T,D),T}function xa(D){return"object"==typeof D&&!!D&&ks in D}function go(D,T){const O=[];for(let U=0;U<D.length;U++)O.push(D.charAt(U)),U<T.length&&O.push(T.charAt(U));return O.join("")}function In(D){return wn.create("missing-app-config-values",{valueName:D})}go("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),go("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hi{constructor(T,O,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Rs(D){if(!D||!D.options)throw In("App Configuration Object");if(!D.name)throw In("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const U of T)if(!O[U])throw In(U);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:J,installations:O,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Xa(D){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,P.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(ds,{scope:Yr}),D.swRegistration.update().catch(()=>{})}catch(T){throw wn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Qr(D,T){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,P.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Xa(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw wn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function Ju(D,T){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,P.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=hs)})).apply(this,arguments)}function gs(){return(gs=(0,P.Z)(function*(D,T){if(!navigator)throw wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wn.create("permission-blocked");return yield Ju(D,null==T?void 0:T.vapidKey),yield Qr(D,null==T?void 0:T.serviceWorkerRegistration),Yu(D)})).apply(this,arguments)}function eu(D,T,O){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,P.Z)(function*(D,T,O){const U=tu(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:O[ks],message_name:O[qu],message_time:O[zl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tu(D){switch(D){case Gi.NOTIFICATION_CLICKED:return"notification_open";case Gi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Jo(){return(Jo=(0,P.Z)(function*(D,T){const O=T.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===Gi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ir(O)):D.onMessageHandler.next(Ir(O)));const U=O.data;xa(U)&&"1"===U[Os]&&(yield eu(D,O.messageType,U))})).apply(this,arguments)}const Ns="@firebase/messaging",Ps=D=>{const T=new hi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function el(D,T){return Jo.apply(this,arguments)}(T,O)),T},tl=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:U=>function Xu(D,T){return gs.apply(this,arguments)}(T,U)}};function mo(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,P.Z)(function*(){try{yield(0,se.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wl(){(0,ge._registerComponent)(new _e.wA("messaging",Ps,"PUBLIC")),(0,ge._registerComponent)(new _e.wA("messaging-internal",tl,"PRIVATE")),(0,ge.registerVersion)(Ns,"0.9.8"),(0,ge.registerVersion)(Ns,"0.9.8","esm2017")}();const il="analytics",ru="firebase_id",iu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ma="https://www.googletagmanager.com/gtag/js",Kn=new ce.Yd("@firebase/analytics");function su(D){return Promise.all(D.map(T=>T.catch(O=>O)))}function Dr(D,T){const O=document.createElement("script");O.src=`${Ma}?l=${D}&id=${T}`,O.async=!0,document.head.appendChild(O)}function md(D,T,O,U,J,ue){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,P.Z)(function*(D,T,O,U,J,ue){const we=U[J];try{if(we)yield T[we];else{const Je=(yield su(O)).find(Ot=>Ot.measurementId===J);Je&&(yield T[Je.appId])}}catch(Be){Kn.error(Be)}D("config",J,ue)})).apply(this,arguments)}function ea(D,T,O,U,J){return ka.apply(this,arguments)}function ka(){return(ka=(0,P.Z)(function*(D,T,O,U,J){try{let ue=[];if(J&&J.send_to){let we=J.send_to;Array.isArray(we)||(we=[we]);const Be=yield su(O);for(const Je of we){const Ot=Be.find(Bn=>Bn.measurementId===Je),on=Ot&&T[Ot.appId];if(!on){ue=[];break}ue.push(on)}}0===ue.length&&(ue=Object.values(T)),yield Promise.all(ue),D("event",U,J||{})}catch(ue){Kn.error(ue)}})).apply(this,arguments)}function hn(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Ma))return T;return null}const b=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xe=new class Te{constructor(T={},O=1e3){this.throttleMetadata=T,this.intervalMillis=O}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,O){this.throttleMetadata[T]=O}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function yn(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ft(D){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,P.Z)(function*(D){var T;const{appId:O,apiKey:U}=D,J={method:"GET",headers:yn(U)},ue=iu.replace("{app-id}",O),we=yield fetch(ue,J);if(200!==we.status&&304!==we.status){let Be="";try{const Je=yield we.json();(null===(T=Je.error)||void 0===T?void 0:T.message)&&(Be=Je.error.message)}catch(Je){}throw b.create("config-fetch-failed",{httpStatus:we.status,responseMessage:Be})}return we.json()})).apply(this,arguments)}function Tr(D){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,P.Z)(function*(D,T=Xe,O){const{appId:U,apiKey:J,measurementId:ue}=D.options;if(!U)throw b.create("no-app-id");if(!J){if(ue)return{measurementId:ue,appId:U};throw b.create("no-api-key")}const we=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new _d;return setTimeout((0,P.Z)(function*(){Be.abort()}),void 0!==O?O:6e4),Wi({appId:U,apiKey:J,measurementId:ue},we,Be,T)})).apply(this,arguments)}function Wi(D,T,O){return It.apply(this,arguments)}function It(){return(It=(0,P.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:O},U,J=Xe){const{appId:ue,measurementId:we}=D;try{yield vd(U,T)}catch(Be){if(we)return Kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${we} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ue,measurementId:we};throw Be}try{const Be=yield Ft(D);return J.deleteThrottleMetadata(ue),Be}catch(Be){if(!Yl(Be)){if(J.deleteThrottleMetadata(ue),we)return Kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${we} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ue,measurementId:we};throw Be}const Je=503===Number(Be.customData.httpStatus)?(0,se.$s)(O,J.intervalMillis,30):(0,se.$s)(O,J.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Je,backoffCount:O+1};return J.setThrottleMetadata(ue,Ot),Kn.debug(`Calling attemptFetch again in ${Je} millis`),Wi(D,Ot,U,J)}})).apply(this,arguments)}function vd(D,T){return new Promise((O,U)=>{const J=Math.max(T-Date.now(),0),ue=setTimeout(O,J);D.addEventListener(()=>{clearTimeout(ue),U(b.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Yl(D){if(!(D instanceof se.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class _d{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function ou(){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(){if(!(0,se.hl)())return Kn.warn(b.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return Kn.warn(b.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*(D,T,O,U,J,ue,we){var Be;const Je=Tr(D);Je.then(Qn=>{O[Qn.measurementId]=Qn.appId,D.options.measurementId&&Qn.measurementId!==D.options.measurementId&&Kn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Qn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qn=>Kn.error(Qn)),T.push(Je);const Ot=ou().then(Qn=>{if(Qn)return U.getId()}),[on,Bn]=yield Promise.all([Je,Ot]);hn()||Dr(ue,on.measurementId),J("js",new Date);const Sr=null!==(Be=null==we?void 0:we.config)&&void 0!==Be?Be:{};return Sr.origin="firebase",Sr.update=!0,null!=Bn&&(Sr[ru]=Bn),J("config",on.measurementId,Sr),on.measurementId})).apply(this,arguments)}class sl{constructor(T){this.app=T}_delete(){return delete Vr[this.app.options.appId],Promise.resolve()}}let Vr={},au=[];const _o={};let na,lu,uu="dataLayer",cu=!1;function Oa(D,T,O){!function Ki(){const D=[];if((0,se.ru)()&&D.push("This is a browser extension environment."),(0,se.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((U,J)=>`(${J+1}) ${U}`).join(" "),O=b.create("invalid-analytics-context",{errorInfo:T});Kn.warn(O.message)}}();const U=D.options.appId;if(!U)throw b.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw b.create("no-api-key");Kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vr[U])throw b.create("already-exists",{id:U});if(!cu){!function yo(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(uu);const{wrappedGtag:ue,gtagCore:we}=function yd(D,T,O,U,J){let ue=function(...we){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ue=window[J]),window[J]=function Kl(D,T,O,U){function ue(){return(ue=(0,P.Z)(function*(we,Be,Je){try{"event"===we?yield ea(D,T,O,Be,Je):"config"===we?yield md(D,T,O,U,Be,Je):D("set",Be)}catch(Ot){Kn.error(Ot)}})).apply(this,arguments)}return function J(we,Be,Je){return ue.apply(this,arguments)}}(ue,D,T,O),{gtagCore:ue,wrappedGtag:window[J]}}(Vr,au,_o,uu,"gtag");lu=ue,na=we,cu=!0}return Vr[U]=function ta(D,T,O,U,J,ue,we){return vo.apply(this,arguments)}(D,au,_o,T,na,uu,O),new sl(D)}function Ar(){return(Ar=(0,P.Z)(function*(D,T,O,U,J){if(J&&J.global)D("event",O,U);else{const ue=yield T;D("event",O,Object.assign(Object.assign({},U),{send_to:ue}))}})).apply(this,arguments)}function Ra(){return hu.apply(this,arguments)}function hu(){return(hu=(0,P.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}const pi="@firebase/analytics";!function Co(){(0,ge._registerComponent)(new _e.wA(il,(T,{options:O})=>Oa(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ge._registerComponent)(new _e.wA("analytics-internal",function D(T){try{const O=T.getProvider(il).getImmediate();return{logEvent:(U,J,ue)=>function ra(D,T,O,U){D=(0,se.m9)(D),function Ql(D,T,O,U,J){return Ar.apply(this,arguments)}(lu,Vr[D.app.options.appId],T,O,U).catch(J=>Kn.error(J))}(O,U,J,ue)}}catch(O){throw b.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ge.registerVersion)(pi,"0.7.5"),(0,ge.registerVersion)(pi,"0.7.5","esm2017")}();var js=L(4408),Dn=L(7565);const ia=new class Jl extends Dn.v{}(class al extends js.o{constructor(T,O){super(T,O),this.scheduler=T,this.work=O}schedule(T,O=0){return O>0?super.schedule(T,O):(this.delay=O,this.state=T,this.scheduler.flush(this),this)}execute(T,O){return O>0||this.closed?super.execute(T,O):this._execute(T,O)}requestAsyncId(T,O,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(T,O,U):T.flush(this)}});var Xl=L(4986),Ur=L(8505),Mi=L(9468),ec=L(5363);const sa=new d.GfV("7.2.1"),Yi="__angularfire_symbol__analyticsIsSupportedValue",ms="__angularfire_symbol__analyticsIsSupported",fu="__angularfire_symbol__remoteConfigIsSupportedValue",tc="__angularfire_symbol__remoteConfigIsSupported",nc="__angularfire_symbol__messagingIsSupportedValue",Pt="__angularfire_symbol__messagingIsSupported";function wd(D,T,O){if(T){if(1===T.length)return T[0];const ue=T.filter(we=>we.app===O);if(1===ue.length)return ue[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[ms]||(globalThis[ms]=Ra().then(D=>globalThis[Yi]=D).catch(()=>globalThis[Yi]=!1)),globalThis[Pt]||(globalThis[Pt]=mo().then(D=>globalThis[nc]=D).catch(()=>globalThis[nc]=!1)),globalThis[tc]||(globalThis[tc]=zh().then(D=>globalThis[fu]=D).catch(()=>globalThis[fu]=!1));const bd=(D,T)=>{const O=T?[T]:(0,X.C6)(),U=[];return O.forEach(J=>{J.container.getProvider(D).instances.forEach(we=>{U.includes(we)||U.push(we)})}),U};function Io(){}class Qi{constructor(T,O=ia){this.zone=T,this.delegate=O}now(){return this.delegate.now()}schedule(T,O,U){const J=this.zone;return this.delegate.schedule(function(we){J.runGuarded(()=>{T.apply(this,[we])})},O,U)}}class ul{constructor(T){this.zone=T,this.task=null}call(T,O){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Io,{},Io,Io)),O.pipe((0,Ur.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ll=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Qi(Zone.current)),this.insideAngular=O.run(()=>new Qi(Zone.current,Xl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(d.LFG(d.R0b))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Do(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function To(D){return Do(),function Pa(D){return function(O){return(O=O.lift(new ul(D.ngZone))).pipe((0,Mi.R)(D.outsideAngular),(0,ec.Q)(D.insideAngular))}}(Do())(D)}},2090:(ut,xe,L)=>{"use strict";L.d(xe,{BH:()=>Ge,LL:()=>ye,ZR:()=>Pe,zI:()=>le,US:()=>_e,tV:()=>pe,$s:()=>Vt,r3:()=>mr,Sg:()=>ke,ne:()=>un,vZ:()=>Xn,ZB:()=>$,pd:()=>us,m9:()=>_r,z$:()=>Fe,jU:()=>he,ru:()=>Re,d:()=>de,xb:()=>At,w1:()=>Ee,hl:()=>ae,uI:()=>He,UG:()=>Q,b$:()=>Le,G6:()=>q,Mn:()=>Ie,xO:()=>er,zd:()=>Rr,eu:()=>K});const ge=function(j){const z=[];let Z=0;for(let re=0;re<j.length;re++){let oe=j.charCodeAt(re);oe<128?z[Z++]=oe:oe<2048?(z[Z++]=oe>>6|192,z[Z++]=63&oe|128):55296==(64512&oe)&&re+1<j.length&&56320==(64512&j.charCodeAt(re+1))?(oe=65536+((1023&oe)<<10)+(1023&j.charCodeAt(++re)),z[Z++]=oe>>18|240,z[Z++]=oe>>12&63|128,z[Z++]=oe>>6&63|128,z[Z++]=63&oe|128):(z[Z++]=oe>>12|224,z[Z++]=oe>>6&63|128,z[Z++]=63&oe|128)}return z},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,z){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let oe=0;oe<j.length;oe+=3){const Ye=j[oe],mt=oe+1<j.length,en=mt?j[oe+1]:0,Gt=oe+2<j.length,ln=Gt?j[oe+2]:0;let Ln=(15&en)<<2|ln>>6,wr=63&ln;Gt||(wr=64,mt||(Ln=64)),re.push(Z[Ye>>2],Z[(3&Ye)<<4|en>>4],Z[Ln],Z[wr])}return re.join("")},encodeString(j,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(j):this.encodeByteArray(ge(j),z)},decodeString(j,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(j):function(j){const z=[];let Z=0,re=0;for(;Z<j.length;){const oe=j[Z++];if(oe<128)z[re++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Ye=j[Z++];z[re++]=String.fromCharCode((31&oe)<<6|63&Ye)}else if(oe>239&&oe<365){const Gt=((7&oe)<<18|(63&j[Z++])<<12|(63&j[Z++])<<6|63&j[Z++])-65536;z[re++]=String.fromCharCode(55296+(Gt>>10)),z[re++]=String.fromCharCode(56320+(1023&Gt))}else{const Ye=j[Z++],mt=j[Z++];z[re++]=String.fromCharCode((15&oe)<<12|(63&Ye)<<6|63&mt)}}return z.join("")}(this.decodeStringToByteArray(j,z))},decodeStringToByteArray(j,z){this.init_();const Z=z?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let oe=0;oe<j.length;){const Ye=Z[j.charAt(oe++)],en=oe<j.length?Z[j.charAt(oe)]:0;++oe;const ln=oe<j.length?Z[j.charAt(oe)]:64;++oe;const kt=oe<j.length?Z[j.charAt(oe)]:64;if(++oe,null==Ye||null==en||null==ln||null==kt)throw Error();re.push(Ye<<2|en>>4),64!==ln&&(re.push(en<<4&240|ln>>2),64!==kt&&re.push(ln<<6&192|kt))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},fe=function(j){return function(j){const z=ge(j);return _e.encodeByteArray(z,!0)}(j).replace(/\./g,"")},pe=function(j){try{return _e.decodeString(j,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function $(j,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return z}for(const Z in z)!z.hasOwnProperty(Z)||!ee(Z)||(j[Z]=$(j[Z],z[Z]));return j}function ee(j){return"__proto__"!==j}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,Z)=>{this.resolve=z,this.reject=Z})}wrapCallback(z){return(Z,re)=>{Z?this.reject(Z):this.resolve(re),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(Z):z(Z,re))}}}function ke(j,z){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=z||"demo-project",oe=j.iat||0,Ye=j.sub||j.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:oe,exp:oe+3600,auth_time:oe,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},j);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(mt)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Q(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function he(){return"object"==typeof self&&self.self===self}function Re(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){return Fe().indexOf("Electron/")>=0}function Ee(){const j=Fe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ie(){return Fe().indexOf("MSAppHost/")>=0}function q(){return!Q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){return"object"==typeof indexedDB}function K(){return new Promise((j,z)=>{try{let Z=!0;const re="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(re);oe.onsuccess=()=>{oe.result.close(),Z||self.indexedDB.deleteDatabase(re),j(!0)},oe.onupgradeneeded=()=>{Z=!1},oe.onerror=()=>{var Ye;z((null===(Ye=oe.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(Z){z(Z)}})}function le(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Pe extends Error{constructor(z,Z,re){super(Z),this.code=z,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ye.prototype.create)}}class ye{constructor(z,Z,re){this.service=z,this.serviceName=Z,this.errors=re}create(z,...Z){const re=Z[0]||{},oe=`${this.service}/${z}`,Ye=this.errors[z],mt=Ye?function vt(j,z){return j.replace($t,(Z,re)=>{const oe=z[re];return null!=oe?String(oe):`<${re}?>`})}(Ye,re):"Error";return new Pe(oe,`${this.serviceName}: ${mt} (${oe}).`,re)}}const $t=/\{\$([^}]+)}/g;function mr(j,z){return Object.prototype.hasOwnProperty.call(j,z)}function At(j){for(const z in j)if(Object.prototype.hasOwnProperty.call(j,z))return!1;return!0}function Xn(j,z){if(j===z)return!0;const Z=Object.keys(j),re=Object.keys(z);for(const oe of Z){if(!re.includes(oe))return!1;const Ye=j[oe],mt=z[oe];if(Ei(Ye)&&Ei(mt)){if(!Xn(Ye,mt))return!1}else if(Ye!==mt)return!1}for(const oe of re)if(!Z.includes(oe))return!1;return!0}function Ei(j){return null!==j&&"object"==typeof j}function er(j){const z=[];for(const[Z,re]of Object.entries(j))Array.isArray(re)?re.forEach(oe=>{z.push(encodeURIComponent(Z)+"="+encodeURIComponent(oe))}):z.push(encodeURIComponent(Z)+"="+encodeURIComponent(re));return z.length?"&"+z.join("&"):""}function Rr(j){const z={};return j.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[oe,Ye]=re.split("=");z[decodeURIComponent(oe)]=decodeURIComponent(Ye)}}),z}function us(j){const z=j.indexOf("?");if(!z)return"";const Z=j.indexOf("#",z);return j.substring(z,Z>0?Z:void 0)}function un(j,z){const Z=new rt(j,z);return Z.subscribe.bind(Z)}class rt{constructor(z,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{z(this)}).catch(re=>{this.error(re)})}next(z){this.forEachObserver(Z=>{Z.next(z)})}error(z){this.forEachObserver(Z=>{Z.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,Z,re){let oe;if(void 0===z&&void 0===Z&&void 0===re)throw new Error("Missing Observer.");oe=function Wt(j,z){if("object"!=typeof j||null===j)return!1;for(const Z of z)if(Z in j&&"function"==typeof j[Z])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:Z,complete:re},void 0===oe.next&&(oe.next=mn),void 0===oe.error&&(oe.error=mn),void 0===oe.complete&&(oe.complete=mn);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch(mt){}}),this.observers.push(oe),Ye}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,z)}sendOne(z,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{Z(this.observers[z])}catch(re){"undefined"!=typeof console&&console.error&&console.error(re)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function Vt(j,z=1e3,Z=2){const re=z*Math.pow(Z,j),oe=Math.round(.5*re*(Math.random()-.5)*2);return Math.min(144e5,re+oe)}function _r(j){return j&&j._delegate?j._delegate:j}},6243:(ut,xe,L)=>{"use strict";var d=L(5e3);let X=null;function P(){return X}const ce=new d.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function pe(){return(0,d.LFG)($)}()},providedIn:"platform"}),n})();const H=new d.OlP("Location Initialized");let $=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){ee()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){ee()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ge(){return new $((0,d.LFG)(ce))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Fe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let Q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function he(n){const e=(0,d.LFG)(ce).location;return new Le((0,d.LFG)(fe),e&&e.origin||"")}()},providedIn:"root"}),n})();const Re=new d.OlP("appBaseHref");let Le=(()=>{class n extends Q{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const f=this.prepareExternalUrl(o+He(l));this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,l){const f=this.prepareExternalUrl(o+He(l));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe),d.LFG(Re,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),de=(()=>{class n extends Q{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let f=this.prepareExternalUrl(o+He(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,l){let f=this.prepareExternalUrl(o+He(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe),d.LFG(Re,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Fe(q(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+He(r))}normalize(t){return n.stripTrailingSlash(function ze(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,q(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=He,n.joinWithSlash=ke,n.stripTrailingSlash=Fe,n.\u0275fac=function(t){return new(t||n)(d.LFG(Q),d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ie(){return new Ee((0,d.LFG)(Q),(0,d.LFG)(fe))}()},providedIn:"root"}),n})();function q(n){return n.replace(/\/index.html$/,"")}const ae={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var K=(()=>((K=K||{})[K.Decimal=0]="Decimal",K[K.Percent=1]="Percent",K[K.Currency=2]="Currency",K[K.Scientific=3]="Scientific",K))(),ye=(()=>((ye=ye||{})[ye.Decimal=0]="Decimal",ye[ye.Group=1]="Group",ye[ye.List=2]="List",ye[ye.PercentSign=3]="PercentSign",ye[ye.PlusSign=4]="PlusSign",ye[ye.MinusSign=5]="MinusSign",ye[ye.Exponential=6]="Exponential",ye[ye.SuperscriptingExponent=7]="SuperscriptingExponent",ye[ye.PerMille=8]="PerMille",ye[ye.Infinity=9]="Infinity",ye[ye.NaN=10]="NaN",ye[ye.TimeSeparator=11]="TimeSeparator",ye[ye.CurrencyDecimal=12]="CurrencyDecimal",ye[ye.CurrencyGroup=13]="CurrencyGroup",ye))();function At(n,e){const t=(0,d.cg1)(n),r=t[d.wAp.NumberSymbols][e];if(void 0===r){if(e===ye.CurrencyDecimal)return t[d.wAp.NumberSymbols][ye.Decimal];if(e===ye.CurrencyGroup)return t[d.wAp.NumberSymbols][ye.Group]}return r}const br=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Fr(n,e,t,r,o){const f=function sn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),o=r[0],l=r[1],f=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],m=f[0],C=f[1]||"";t.posPre=m.substr(0,m.indexOf("#"));for(let R=0;R<C.length;R++){const F=C.charAt(R);"0"===F?t.minFrac=t.maxFrac=R+1:"#"===F?t.maxFrac=R+1:t.posSuf+=F}const A=m.split(",");if(t.gSize=A[1]?A[1].length:0,t.lgSize=A[2]||A[1]?(A[2]||A[1]).length:0,l){const R=o.length-t.posPre.length-t.posSuf.length,F=l.indexOf("#");t.negPre=l.substr(0,F).replace(/'/g,""),t.negSuf=l.substr(F+R).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function ui(n,e){return(0,d.cg1)(n)[d.wAp.NumberFormats][e]}(e,K.Currency),At(e,ye.MinusSign));return f.minFrac=function Ve(n){let e;const t=ae[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),f.maxFrac=f.minFrac,function oo(n,e,t,r,o,l,f=!1){let m="",C=!1;if(isFinite(n)){let A=function li(n){let r,o,l,f,m,e=Math.abs(n)+"",t=0;for((o=e.indexOf("."))>-1&&(e=e.replace(".","")),(l=e.search(/e/i))>0?(o<0&&(o=l),o+=+e.slice(l+1),e=e.substring(0,l)):o<0&&(o=e.length),l=0;"0"===e.charAt(l);l++);if(l===(m=e.length))r=[0],o=1;else{for(m--;"0"===e.charAt(m);)m--;for(o-=l,r=[],f=0;l<=m;l++,f++)r[f]=Number(e.charAt(l))}return o>22&&(r=r.splice(0,21),t=o-1,o=1),{digits:r,exponent:t,integerLen:o}}(n);f&&(A=function Er(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(A));let R=e.minInt,F=e.minFrac,W=e.maxFrac;if(l){const rn=l.match(br);if(null===rn)throw new Error(`${l} is not a valid digit info`);const lr=rn[1],zt=rn[3],Jn=rn[5];null!=lr&&(R=Ci(lr)),null!=zt&&(F=Ci(zt)),null!=Jn?W=Ci(Jn):null!=zt&&F>W&&(W=F)}!function cn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,o=r.length-n.integerLen;const l=Math.min(Math.max(e,o),t);let f=l+n.integerLen,m=r[f];if(f>0){r.splice(Math.max(n.integerLen,f));for(let F=f;F<r.length;F++)r[F]=0}else{o=Math.max(0,o),n.integerLen=1,r.length=Math.max(1,f=l+1),r[0]=0;for(let F=1;F<f;F++)r[F]=0}if(m>=5)if(f-1<0){for(let F=0;F>f;F--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[f-1]++;for(;o<Math.max(0,l);o++)r.push(0);let C=0!==l;const A=e+n.integerLen,R=r.reduceRight(function(F,W,ie,Se){return Se[ie]=(W+=F)<10?W:W-10,C&&(0===Se[ie]&&ie>=A?Se.pop():C=!1),W>=10?1:0},0);R&&(r.unshift(R),n.integerLen++)}(A,F,W);let ie=A.digits,Se=A.integerLen;const We=A.exponent;let at=[];for(C=ie.every(rn=>!rn);Se<R;Se++)ie.unshift(0);for(;Se<0;Se++)ie.unshift(0);Se>0?at=ie.splice(Se,ie.length):(at=ie,ie=[0]);const jt=[];for(ie.length>=e.lgSize&&jt.unshift(ie.splice(-e.lgSize,ie.length).join(""));ie.length>e.gSize;)jt.unshift(ie.splice(-e.gSize,ie.length).join(""));ie.length&&jt.unshift(ie.join("")),m=jt.join(At(t,r)),at.length&&(m+=At(t,o)+at.join("")),We&&(m+=At(t,ye.Exponential)+"+"+We)}else m=At(t,ye.Infinity);return m=n<0&&!C?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,f,e,ye.CurrencyGroup,ye.CurrencyDecimal,o).replace("\xa4",t).replace("\xa4","").trim()}function Ci(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}let Ui=(()=>{class n{constructor(t,r,o,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class lo{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let An=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,l,f)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new lo(o.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,f),Bi(m,o)}});for(let o=0,l=r.length;o<l;o++){const m=r.get(o).context;m.index=o,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Bi(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Bi(n,e){n.context.$implicit=e.item}let dr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Bu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Bu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Yt{constructor(){this.$implicit=null,this.ngIf=null}}function Bu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let hs=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,o="symbol",l,f){if(!function ho(n){return!(null==n||""===n||n!=n)}(t))return null;f=f||this._locale,"boolean"==typeof o&&(o=o?"symbol":"code");let m=r||this._defaultCurrencyCode;"code"!==o&&(m="symbol"===o||"symbol-narrow"===o?function ls(n,e,t="en"){const r=function Rr(n){return(0,d.cg1)(n)[d.wAp.Currencies]}(t)[n]||ae[n]||[],o=r[1];return"narrow"===e&&"string"==typeof o?o:r[0]||n}(m,"symbol"===o?"wide":"narrow",f):o);try{return Fr(function ks(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),f,m,r,l)}catch(C){throw function Sn(n,e){return new d.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.soG,16),d.Y36(d.EJc,16))},n.\u0275pipe=d.Yjl({name:"currency",type:n,pure:!0}),n})();let Os=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function fr(n){return"server"===n}let Ca=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Ia((0,d.LFG)(ce),window)}),n})();class Ia{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function di(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const f=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(f)return f}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ya(this.window.history)||Ya(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ya(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fs extends class jo extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){X||(X=n)}(new fs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $o(){return Ut=Ut||document.querySelector("base"),Ut?Ut.getAttribute("href"):null}();return null==t?null:function Ii(n){Ho=Ho||document.createElement("a"),Ho.setAttribute("href",n);const e=Ho.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ut=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ao(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Ho,Ut=null;const zn=new d.OlP("TRANSITION_ID"),wn=[{provide:d.ip1,useFactory:function Ta(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=P(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[zn,ce,d.zs3],multi:!0}];class Lr{static init(){(0,d.VLi)(new Lr)}addToWindow(e){d.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const o=d.dqk.getAllAngularTestabilities();let l=o.length,f=!1;const m=function(C){f=f||C,l--,0==l&&r(f)};o.forEach(function(C){C.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Zn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const fo=new d.OlP("EventManagerPlugins");let Di=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const f=o[l];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fo),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Aa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=P().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Cr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),qi=(()=>{class n extends Cr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const f=this._doc.createElement("style");f.textContent=l,o.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ps),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ps))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function ps(n){P().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Go=/%COMP%/g;function Me(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Me(n,o,t):(o=o.replace(Go,n),t.push(o))}return t}function Nt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let dn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new zi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Ja(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case d.ifc.ShadowDom:return new Sa(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Me(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Di),d.LFG(qi),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class zi{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=pt[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=pt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,o&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Nt(r)):this.eventManager.addEventListener(e,t,Nt(r))}}class Ja extends zi{constructor(e,t,r,o){super(e),this.component=r;const l=Me(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Zo(n){return"_ngcontent-%COMP%".replace(Go,n)}(o+"-"+r.id),this.hostAttr=function Zl(n){return"_nghost-%COMP%".replace(Go,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Sa extends zi{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Me(o.id,o.styles,[]);for(let f=0;f<l.length;f++){const m=document.createElement("style");m.textContent=l[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Qu=(()=>{class n extends Aa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const xa=["alt","control","meta","shift"],Rs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},In={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Xa=(()=>{class n extends Aa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),f=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,l.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let f="";if(xa.forEach(C=>{const A=r.indexOf(C);A>-1&&(r.splice(A,1),f+=C+".")}),f+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=f,m}static getEventFullKey(t){let r="",o=function Ti(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&In.hasOwnProperty(e)&&(e=In[e]))}return Rs[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),xa.forEach(l=>{l!=o&&hi[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Xu=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Qr(){fs.makeCurrent(),Lr.init()},multi:!0},{provide:ce,useFactory:function Ju(){return(0,d.RDi)(document),document},deps:[]}]),gs=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Ko(){return new d.qLn},deps:[]},{provide:fo,useClass:Qu,multi:!0,deps:[ce,d.R0b,d.Lbi]},{provide:fo,useClass:Xa,multi:!0,deps:[ce]},{provide:dn,useClass:dn,deps:[Di,qi,d.AFp]},{provide:d.FYo,useExisting:dn},{provide:Cr,useExisting:qi},{provide:qi,useClass:qi,deps:[ce]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:Di,useClass:Di,deps:[fo,d.R0b]},{provide:class tn{},useClass:Zn,deps:[]}];let eu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:zn,useExisting:d.AFp},wn]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:gs,imports:[Os,d.hGG]}),n})();"undefined"!=typeof window&&window;var hn=L(8996),E=L(7669);function b(...n){const e=(0,E.yG)(n);return(0,hn.D)(n,e)}var M=L(7579);class B extends M.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Te=L(8306);const{isArray:Xe}=Array,{getPrototypeOf:yn,prototype:Ft,keys:Yn}=Object;function Tr(n){if(1===n.length){const e=n[0];if(Xe(e))return{args:e,keys:null};if(function Ls(n){return n&&"object"==typeof n&&yn(n)===Ft}(e)){const t=Yn(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Wi=L(4671),It=L(4004);const{isArray:vd}=Array;function _d(n){return(0,It.U)(e=>function Yl(n,e){return vd(e)?n(...e):n(e)}(n,e))}function ou(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var xn=L(5403),ta=L(9672);function Vr(n,e,t){n?(0,ta.f)(t,n,e):e()}var au=L(576);function _o(n,e){const t=(0,au.m)(n)?n:()=>n,r=o=>o.error(t());return new Te.y(e?o=>e.schedule(r,0,o):r)}const wo=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var na=L(8189);function cu(...n){return function lu(){return(0,na.J)(1)}()((0,hn.D)(n,(0,E.yG)(n)))}var du=L(8421);function Ki(n){return new Te.y(e=>{(0,du.Xf)(n()).subscribe(e)})}var Oa=L(515),Ql=L(727),Ar=L(4482);function Vs(){return(0,Ar.e)((n,e)=>{let t=null;n._refCount++;const r=(0,xn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ol extends Te.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ar.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ql.w0;const t=this.getSubject();e.add(this.source.subscribe((0,xn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ql.w0.EMPTY)}return e}refCount(){return Vs()(this)}}function tr(n,e){return(0,Ar.e)((t,r)=>{let o=null,l=0,f=!1;const m=()=>f&&!o&&r.complete();t.subscribe((0,xn.x)(r,C=>{null==o||o.unsubscribe();let A=0;const R=l++;(0,du.Xf)(n(C,R)).subscribe(o=(0,xn.x)(r,F=>r.next(e?e(C,F,R,A++):F),()=>{o=null,m()}))},()=>{f=!0,m()}))})}var bo=L(5698);function Us(...n){const e=(0,E.yG)(n);return(0,Ar.e)((t,r)=>{(e?cu(n,t,e):cu(n,t)).subscribe(r)})}function Eo(n,e,t,r,o){return(l,f)=>{let m=t,C=e,A=0;l.subscribe((0,xn.x)(f,R=>{const F=A++;C=m?n(C,R,F):(m=!0,R),r&&f.next(C)},o&&(()=>{m&&f.next(C),f.complete()})))}}function fi(n,e){return(0,Ar.e)(Eo(n,e,arguments.length>=2,!0))}function xi(n,e){return(0,Ar.e)((t,r)=>{let o=0;t.subscribe((0,xn.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}function Bs(n){return(0,Ar.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,xn.x)(t,void 0,void 0,f=>{l=(0,du.Xf)(n(f,Bs(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Mn=L(5577);function Ra(n,e){return(0,au.m)(e)?(0,Mn.z)(n,e,1):(0,Mn.z)(n,1)}function hu(n){return n<=0?()=>Oa.E:(0,Ar.e)((e,t)=>{let r=[];e.subscribe((0,xn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function kn(n=eg){return(0,Ar.e)((e,t)=>{let r=!1;e.subscribe((0,xn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function eg(){return new wo}function tg(n){return(0,Ar.e)((e,t)=>{let r=!1;e.subscribe((0,xn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function ra(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xi((o,l)=>n(o,l,r)):Wi.y,(0,bo.q)(1),t?tg(e):kn(()=>new wo))}var pi=L(8505);class Co{constructor(e,t){this.id=e,this.url=t}}class js extends Co{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class al extends Co{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dn extends Co{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jl extends Co{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ia extends Co{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oy extends Co{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xl extends Co{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ur extends Co{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mi extends Co{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ec{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sa{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ms{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Na{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function nr(n){return new Na(n)}const rc="ngNavigationCancelingError";function oa(n){const e=Error("NavigationCancelingError: "+n);return e[rc]=!0,e}function bd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const f=r[l],m=n[l];if(f.startsWith(":"))o[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Qi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!ul(n[o],e[o]))return!1;return!0}function ul(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function ll(n){return Array.prototype.concat.apply([],n)}function Do(n){return n.length>0?n[n.length-1]:null}function fn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ki(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,hn.D)(Promise.resolve(n)):b(n)}const To={exact:function D(n,e,t){if(!Ot(n.segments,e.segments)||!J(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!D(n.children[r],e.children[r],t))return!1;return!0},subset:O},Pa={exact:function Qh(n,e){return Qi(n,e)},subset:function T(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ul(n[t],e[t]))},ignored:()=>!0};function pu(n,e,t){return To[t.paths](n.root,e.root,t.matrixParams)&&Pa[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function O(n,e,t){return U(n,e,e.segments,t)}function U(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Ot(o,t)||e.hasChildren()||!J(o,t,r))}if(n.segments.length===t.length){if(!Ot(n.segments,t)||!J(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!O(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Ot(n.segments,o)&&J(n.segments,o,r)&&n.children[Pt])&&U(n.children[Pt],e,l,r)}}function J(n,e,t){return e.every((r,o)=>Pa[t](n[o].parameters,r.parameters))}class ue{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return Qn.serialize(this)}}class we{constructor(e,t){this.segments=e,this.children=t,this.parent=null,fn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ao(this)}}class Be{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=nr(this.parameters)),this._parameterMap}toString(){return mu(this)}}function Ot(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Bn{}class Sr{parse(e){const t=new Ed(e);return new ue(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Oi(e.root,!0)}`,r=function ay(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Ri(t)}=${Ri(o)}`).join("&"):`${Ri(t)}=${Ri(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ji(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Qn=new Sr;function Ao(n){return n.segments.map(e=>mu(e)).join("/")}function Oi(n,e){if(!n.hasChildren())return Ao(n);if(e){const t=n.children[Pt]?Oi(n.children[Pt],!1):"",r=[];return fn(n.children,(o,l)=>{l!==Pt&&r.push(`${l}:${Oi(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function on(n,e){let t=[];return fn(n.children,(r,o)=>{o===Pt&&(t=t.concat(e(r,o)))}),fn(n.children,(r,o)=>{o!==Pt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Pt?[Oi(n.children[Pt],!1)]:[`${o}:${Oi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${Ao(n)}/${t[0]}`:`${Ao(n)}/(${t.join("//")})`}}function ys(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ri(n){return ys(n).replace(/%3B/gi,";")}function gu(n){return ys(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ic(n){return decodeURIComponent(n)}function sc(n){return ic(n.replace(/\+/g,"%20"))}function mu(n){return`${gu(n.path)}${function ng(n){return Object.keys(n).map(e=>`;${gu(e)}=${gu(n[e])}`).join("")}(n.parameters)}`}const uy=/^[^\/()?;=#]+/;function $s(n){const e=n.match(uy);return e?e[0]:""}const oc=/^[^=?&#]+/,cy=/^[^&#]+/;class Ed{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new we(e,t)),r}parseSegment(){const e=$s(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Be(ic(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=$s(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=$s(this.remaining);o&&(r=o,this.capture(r))}e[ic(t)]=ic(r)}parseQueryParam(e){const t=function ly(n){const e=n.match(oc);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function rg(n){const e=n.match(cy);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const o=sc(t),l=sc(r);if(e.hasOwnProperty(o)){let f=e[o];Array.isArray(f)||(f=[f],e[o]=f),f.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$s(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Pt);const f=this.parseChildren();t[l]=1===Object.keys(f).length?f[Pt]:new we([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class dy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Jh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Jh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Xh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Xh(e,this._root).map(t=>t.value)}}function Jh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Jh(n,t);if(r)return r}return null}function Xh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Xh(n,t);if(r.length)return r.unshift(e),r}return[]}class aa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ua(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Cd extends dy{constructor(e,t){super(e),this.snapshot=t,Dd(this,e)}toString(){return this.snapshot.toString()}}function yu(n,e){const t=function hy(n,e){const f=new dl([],{},{},"",{},Pt,e,null,n.root,-1,{});return new ef("",new aa(f,[]))}(n,e),r=new B([new Be("",{})]),o=new B({}),l=new B({}),f=new B({}),m=new B(""),C=new la(r,o,f,m,l,Pt,e,t.root);return C.snapshot=t.root,new Cd(new aa(C,[]),t)}class la{constructor(e,t,r,o,l,f,m,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=f,this.component=m,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>nr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>nr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function Id(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class dl{constructor(e,t,r,o,l,f,m,C,A,R,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=f,this.component=m,this.routeConfig=C,this._urlSegment=A,this._lastPathIndex=R,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ef extends dy{constructor(e,t){super(t),this.url=e,Dd(this,t)}toString(){return Td(this._root)}}function Dd(n,e){e.value._routerState=n,e.children.forEach(t=>Dd(n,t))}function Td(n){const e=n.children.length>0?` { ${n.children.map(Td).join(", ")} } `:"";return`${n.value}${e}`}function Ad(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qi(e.params,t.params)||n.params.next(t.params),function Io(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function tf(n,e){const t=Qi(n.params,e.params)&&function Je(n,e){return Ot(n,e)&&n.every((t,r)=>Qi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||tf(n.parent,e.parent))}function ac(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function nf(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return ac(n,r,o);return ac(n,r)})}(n,e,t);return new aa(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const f=l.route;return f.value._futureSnapshot=e.value,f.children=e.children.map(m=>ac(n,m)),f}}const r=function gy(n){return new la(new B(n.url),new B(n.params),new B(n.queryParams),new B(n.fragment),new B(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>ac(n,l));return new aa(r,o)}}function Fa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hl(n){return"object"==typeof n&&null!=n&&n.outlets}function ig(n,e,t,r,o){let l={};return r&&fn(r,(f,m)=>{l[m]=Array.isArray(f)?f.map(C=>`${C}`):`${f}`}),new ue(t.root===n?e:rf(t.root,n,e),l,o)}function rf(n,e,t){const r={};return fn(n.children,(o,l)=>{r[l]=o===e?t:rf(o,e,t)}),new we(n.segments,r)}class my{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fa(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(hl);if(o&&o!==Do(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function wy(n,e,t){if(n||(n=new we([],{})),0===n.segments.length&&n.hasChildren())return xo(n,e,t);const r=function Uw(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const f=n.segments[o],m=t[r];if(hl(m))break;const C=`${m}`,A=r<t.length-1?t[r+1]:null;if(o>0&&void 0===C)break;if(C&&A&&"object"==typeof A&&void 0===A.outlets){if(!Xi(C,A,f))return l;r+=2}else{if(!Xi(C,{},f))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new we(n.segments.slice(0,r.pathIndex),{});return l.children[Pt]=new we(n.segments.slice(r.pathIndex),n.children),xo(l,0,o)}return r.match&&0===o.length?new we(n.segments,{}):r.match&&!n.hasChildren()?of(n,e,t):r.match?xo(n,0,o):of(n,e,t)}function xo(n,e,t){if(0===t.length)return new we(n.segments,{});{const r=function _y(n){return hl(n[0])?n[0].outlets:{[Pt]:n}}(t),o={};return fn(r,(l,f)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[f]=wy(n.children[f],e,l))}),fn(n.children,(l,f)=>{void 0===r[f]&&(o[f]=l)}),new we(n.segments,o)}}function of(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(hl(l)){const C=fl(l.outlets);return new we(r,C)}if(0===o&&Fa(t[0])){r.push(new Be(n.segments[e].path,af(t[0]))),o++;continue}const f=hl(l)?l.outlets[Pt]:`${l}`,m=o<t.length-1?t[o+1]:null;f&&m&&Fa(m)?(r.push(new Be(f,af(m))),o+=2):(r.push(new Be(f,{})),o++)}return new we(r,{})}function fl(n){const e={};return fn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=of(new we([],{}),0,t))}),e}function af(n){const e={};return fn(n,(t,r)=>e[r]=`${t}`),e}function Xi(n,e,t){return n==t.path&&Qi(e,t.parameters)}class og{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ad(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=ua(t);e.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,o[f],r),delete o[f]}),fn(o,(l,f)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const f=r.getContext(o.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=ua(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],o);if(r&&r.outlet){const f=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:f,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=ua(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=ua(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new tc(l.value.snapshot))}),e.children.length&&this.forwardEvent(new ms(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Ad(o),o===l)if(o.component){const f=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const f=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),Ad(m.route.value),this.activateChildRoutes(e,null,f.children)}else{const m=function Sd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),C=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=C,f.outlet&&f.outlet.activateWith(o,C),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}class xd{constructor(e,t){this.routes=e,this.module=t}}function vu(n){return"function"==typeof n}function pl(n){return n instanceof ue}const lc=Symbol("INITIAL_VALUE");function La(){return tr(n=>function vo(...n){const e=(0,E.yG)(n),t=(0,E.jO)(n),{args:r,keys:o}=Tr(n);if(0===r.length)return(0,hn.D)([],e);const l=new Te.y(function sl(n,e,t=Wi.y){return r=>{Vr(e,()=>{const{length:o}=n,l=new Array(o);let f=o,m=o;for(let C=0;C<o;C++)Vr(e,()=>{const A=(0,hn.D)(n[C],e);let R=!1;A.subscribe((0,xn.x)(r,F=>{l[C]=F,R||(R=!0,m--),m||r.next(t(l.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,e,o?f=>ou(o,f):Wi.y));return t?l.pipe(_d(t)):l}(n.map(e=>e.pipe((0,bo.q)(1),Us(lc)))).pipe(fi((e,t)=>{let r=!1;return t.reduce((o,l,f)=>o!==lc?o:(l===lc&&(r=!0),r||!1!==l&&f!==t.length-1&&!pl(l)?o:l),e)},lc),xi(e=>e!==lc),(0,It.U)(e=>pl(e)?e:!0===e),(0,bo.q)(1)))}class by{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new cc,this.attachRef=null}}class cc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new by,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let dc=(()=>{class n{constructor(t,r,o,l,f){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=l||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,C=new df(t,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(cc),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class df{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===la?this.route:e===cc?this.childContexts:this.parent.get(e,t)}}let hf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[dc],encapsulation:2}),n})();function hc(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Md(r,ff(e,r))}}function Md(n,e){n.children&&hc(n.children,e)}function ff(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function pf(n){const e=n.children&&n.children.map(pf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=hf),t}function nn(n){return n.outlet||Pt}function gf(n,e){const t=n.filter(r=>nn(r)===e);return t.push(...n.filter(r=>nn(r)!==e)),t}const ug={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gl(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ug):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||bd)(t,n,e);if(!l)return Object.assign({},ug);const f={};fn(l.posParams,(C,A)=>{f[A]=C.path});const m=l.consumed.length>0?Object.assign(Object.assign({},f),l.consumed[l.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function fc(n,e,t,r,o="corrected"){if(t.length>0&&function Cy(n,e,t){return t.some(r=>Od(n,e,r)&&nn(r)!==Pt)}(n,t,r)){const f=new we(e,function kd(n,e,t,r){const o={};o[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&nn(l)!==Pt){const f=new we([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,o[nn(l)]=f}return o}(n,e,r,new we(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function lg(n,e,t){return t.some(r=>Od(n,e,r))}(n,t,r)){const f=new we(n.segments,function Ey(n,e,t,r,o,l){const f={};for(const m of r)if(Od(n,t,m)&&!o[nn(m)]){const C=new we([],{});C._sourceSegment=n,C._segmentIndexShift="legacy"===l?n.segments.length:e.length,f[nn(m)]=C}return Object.assign(Object.assign({},o),f)}(n,e,t,r,n.children,o));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const l=new we(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Od(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Iy(n,e,t,r){return!!(nn(n)===r||r!==Pt&&Od(e,t,n))&&("**"===n.path||gl(e,n,t).matched)}function Dy(n,e,t){return 0===e.length&&!n.children[t]}class ca{constructor(e){this.segmentGroup=e||null}}class Br{constructor(e){this.urlTree=e}}function Va(n){return _o(new ca(n))}function pc(n){return _o(new Br(n))}class yf{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=fc(this.urlTree.root,[],[],this.config).segmentGroup,t=new we(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Pt).pipe((0,It.U)(l=>this.createUrlTree(wu(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bs(l=>{if(l instanceof Br)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof ca?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Pt).pipe((0,It.U)(o=>this.createUrlTree(wu(o),e.queryParams,e.fragment))).pipe(Bs(o=>{throw o instanceof ca?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new we([],{[Pt]:e}):e;return new ue(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,It.U)(l=>new we([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,hn.D)(o).pipe(Ra(l=>{const f=r.children[l],m=gf(t,l);return this.expandSegmentGroup(e,m,f,l).pipe((0,It.U)(C=>({segment:C,outlet:l})))}),fi((l,f)=>(l[f.outlet]=f.segment,l),{}),function sy(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xi((o,l)=>n(o,l,r)):Wi.y,hu(1),t?tg(e):kn(()=>new wo))}())}expandSegment(e,t,r,o,l,f){return(0,hn.D)(r).pipe(Ra(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,f).pipe(Bs(A=>{if(A instanceof ca)return b(null);throw A}))),ra(m=>!!m),Bs((m,C)=>{if(m instanceof wo||"EmptyError"===m.name){if(Dy(t,o,l))return b(new we([],{}));throw new ca(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,f,m){return Iy(o,t,l,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,f):Va(t):Va(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?pc(l):this.lineralizeSegments(r,l).pipe((0,Mn.z)(f=>{const m=new we(f,{});return this.expandSegment(e,m,t,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,f){const{matched:m,consumedSegments:C,remainingSegments:A,positionalParamSegments:R}=gl(t,o,l);if(!m)return Va(t);const F=this.applyRedirectCommands(C,o.redirectTo,R);return o.redirectTo.startsWith("/")?pc(F):this.lineralizeSegments(o,F).pipe((0,Mn.z)(W=>this.expandSegment(e,t,r,W.concat(A),f,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?b(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,It.U)(F=>(r._loadedConfig=F,new we(o,{})))):b(new we(o,{}));const{matched:f,consumedSegments:m,remainingSegments:C}=gl(t,r,o);return f?this.getChildConfig(e,r,o).pipe((0,Mn.z)(R=>{const F=R.module,W=R.routes,{segmentGroup:ie,slicedSegments:Se}=fc(t,m,C,W),We=new we(ie.segments,ie.children);if(0===Se.length&&We.hasChildren())return this.expandChildren(F,W,We).pipe((0,It.U)(lr=>new we(m,lr)));if(0===W.length&&0===Se.length)return b(new we(m,{}));const at=nn(r)===l;return this.expandSegment(F,We,W,Se,at?Pt:l,!0).pipe((0,It.U)(rn=>new we(m.concat(rn.segments),rn.children)))})):Va(t)}getChildConfig(e,t,r){return t.children?b(new xd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?b(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Mn.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,It.U)(l=>(t._loadedConfig=l,l))):function Jr(n){return _o(oa(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):b(new xd([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?b(o.map(f=>{const m=e.get(f);let C;if(function uf(n){return n&&vu(n.canLoad)}(m))C=m.canLoad(t,r);else{if(!vu(m))throw new Error("Invalid CanLoad guard");C=m(t,r)}return ki(C)})).pipe(La(),(0,pi.b)(f=>{if(!pl(f))return;const m=oa(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,It.U)(f=>!0===f)):b(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return b(r);if(o.numberOfChildren>1||!o.children[Pt])return _o(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[Pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new ue(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return fn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let f={};return fn(t.children,(m,C)=>{f[C]=this.createSegmentGroup(e,m,r,o)}),new we(l,f)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function wu(n){const e={};for(const r of Object.keys(n.children)){const l=wu(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function es(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new we(n.segments.concat(e.segments),e.children)}return n}(new we(n.segments,e))}class cg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bu{constructor(e,t){this.component=e,this.route=t}}function _f(n,e,t){const r=n._root;return Ni(r,e?e._root:null,t,[r.value])}function gc(n,e,t){const r=function Ty(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Ni(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=ua(e);return n.children.forEach(f=>{(function hg(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,f=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const C=function Ay(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ot(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ot(n.url,e.url)||!Qi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tf(n,e)||!Qi(n.queryParams,e.queryParams);default:return!tf(n,e)}}(f,l,l.routeConfig.runGuardsAndResolvers);C?o.canActivateChecks.push(new cg(r)):(l.data=f.data,l._resolvedData=f._resolvedData),Ni(n,e,l.component?m?m.children:null:t,r,o),C&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new bu(m.outlet.component,f))}else f&&Eu(e,m,o),o.canActivateChecks.push(new cg(r)),Ni(n,null,l.component?m?m.children:null:t,r,o)})(f,l[f.value.outlet],t,r.concat([f.value]),o),delete l[f.value.outlet]}),fn(l,(f,m)=>Eu(f,t.getContext(m),o)),o}function Eu(n,e,t){const r=ua(n),o=n.value;fn(r,(l,f)=>{Eu(l,o.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new bu(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Ef{}function Cf(n){return new Te.y(e=>e.error(n))}class If{constructor(e,t,r,o,l,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f}recognize(){const e=fc(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Pt);if(null===t)return null;const r=new dl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new aa(r,t),l=new ef(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=fy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const f=t.children[l],m=gf(e,l),C=this.processSegmentGroup(m,f,l);if(null===C)return null;r.push(...C)}const o=pg(r);return function ky(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const l of e){const f=this.processSegmentAgainstRoute(l,t,r,o);if(null!==f)return f}return Dy(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Iy(e,t,r,o))return null;let l,f=[],m=[];if("**"===e.path){const ie=r.length>0?Do(r).parameters:{};l=new dl(r,ie,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(e),nn(e),e.component,e,h(t),g(t)+r.length,S(e))}else{const ie=gl(t,e,r);if(!ie.matched)return null;f=ie.consumedSegments,m=ie.remainingSegments,l=new dl(f,ie.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(e),nn(e),e.component,e,h(t),g(t)+f.length,S(e))}const C=function Oy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:A,slicedSegments:R}=fc(t,f,m,C.filter(ie=>void 0===ie.redirectTo),this.relativeLinkResolution);if(0===R.length&&A.hasChildren()){const ie=this.processChildren(C,A);return null===ie?null:[new aa(l,ie)]}if(0===C.length&&0===R.length)return[new aa(l,[])];const F=nn(e)===o,W=this.processSegment(C,A,R,F?Pt:o);return null===W?null:[new aa(l,W)]}}function Ry(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pg(n){const e=[],t=new Set;for(const r of n){if(!Ry(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=pg(r.children);e.push(new aa(r.value,o))}return e.filter(r=>!t.has(r))}function h(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function _(n){return n.data||{}}function S(n){return n.resolve||{}}function it(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ht(n){return tr(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,It.U)(()=>e)):b(e)})}class yc extends class vs{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ml=new d.OlP("ROUTES");class yl{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,It.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=l.create(e);return new xd(ll(f.injector.get(ml,void 0,d.XFs.Self|d.XFs.Optional)).map(pf),f)}),Bs(l=>{throw t._loader$=void 0,l}));return t._loader$=new ol(o,()=>new M.x).pipe(Vs()),t._loader$}loadModuleFactory(e){return ki(e()).pipe((0,Mn.z)(t=>t instanceof d.YKP?b(t):(0,hn.D)(this.compiler.compileModuleAsync(t))))}}class Ny{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ua(n){throw n}function Rd(n,e,t){return e.parse("/")}function Nd(n,e){return b(null)}const Tf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rr=(()=>{class n{constructor(t,r,o,l,f,m,C){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new M.x,this.errorHandler=Ua,this.malformedUriErrorHandler=Rd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Nd,afterPreactivation:Nd},this.urlHandlingStrategy=new Ny,this.routeReuseStrategy=new yc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(d.h0i),this.console=f.get(d.c2e);const F=f.get(d.R0b);this.isNgZoneEnabled=F instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=function Yh(){return new ue(new we([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yl(f,m,W=>this.triggerEvent(new ec(W)),W=>this.triggerEvent(new sa(W))),this.routerState=yu(this.currentUrlTree,this.rootComponentType),this.transitions=new B({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(xi(o=>0!==o.id),(0,It.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),tr(o=>{let l=!1,f=!1;return b(o).pipe((0,pi.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),tr(m=>{const C=this.browserUrlTree.toString(),A=!this.navigated||m.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Fd(m.source)&&(this.browserUrlTree=m.extractedUrl),b(m).pipe(tr(F=>{const W=this.transitions.getValue();return r.next(new js(F.id,this.serializeUrl(F.extractedUrl),F.source,F.restoredState)),W!==this.transitions.getValue()?Oa.E:Promise.resolve(F)}),function vf(n,e,t,r){return tr(o=>function _u(n,e,t,r,o){return new yf(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,It.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pi.b)(F=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:F.urlAfterRedirects})}),function N(n,e,t,r,o){return(0,Mn.z)(l=>function My(n,e,t,r,o="emptyOnly",l="legacy"){try{const f=new If(n,e,t,r,o,l).recognize();return null===f?Cf(new Ef):b(f)}catch(f){return Cf(f)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,It.U)(f=>Object.assign(Object.assign({},l),{targetSnapshot:f}))))}(this.rootComponentType,this.config,F=>this.serializeUrl(F),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pi.b)(F=>{if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const ie=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(ie,F)}this.browserUrlTree=F.urlAfterRedirects}const W=new ia(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);r.next(W)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:W,extractedUrl:ie,source:Se,restoredState:We,extras:at}=m,jt=new js(W,this.serializeUrl(ie),Se,We);r.next(jt);const rn=yu(ie,this.rootComponentType).snapshot;return b(Object.assign(Object.assign({},m),{targetSnapshot:rn,urlAfterRedirects:ie,extras:Object.assign(Object.assign({},at),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Oa.E}),ht(m=>{const{targetSnapshot:C,id:A,extractedUrl:R,rawUrl:F,extras:{skipLocationChange:W,replaceUrl:ie}}=m;return this.hooks.beforePreactivation(C,{navigationId:A,appliedUrlTree:R,rawUrlTree:F,skipLocationChange:!!W,replaceUrl:!!ie})}),(0,pi.b)(m=>{const C=new oy(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(C)}),(0,It.U)(m=>Object.assign(Object.assign({},m),{guards:_f(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Sy(n,e){return(0,Mn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:f}}=t;return 0===f.length&&0===l.length?b(Object.assign(Object.assign({},t),{guardsResult:!0})):function fg(n,e,t,r){return(0,hn.D)(n).pipe((0,Mn.z)(o=>function mc(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?b(l.map(m=>{const C=gc(m,e,o);let A;if(function Bw(n){return n&&vu(n.canDeactivate)}(C))A=ki(C.canDeactivate(n,e,t,r));else{if(!vu(C))throw new Error("Invalid CanDeactivate guard");A=ki(C(n,e,t,r))}return A.pipe(ra())})).pipe(La()):b(!0)}(o.component,o.route,t,e,r)),ra(o=>!0!==o,!0))}(f,r,o,n).pipe((0,Mn.z)(m=>m&&function ag(n){return"boolean"==typeof n}(m)?function jr(n,e,t,r){return(0,hn.D)(e).pipe(Ra(o=>cu(function bf(n,e){return null!==n&&e&&e(new Yi(n)),b(!0)}(o.route.parent,r),function wf(n,e){return null!==n&&e&&e(new fu(n)),b(!0)}(o.route,r),function da(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(f=>function dg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>Ki(()=>b(f.guards.map(C=>{const A=gc(C,f.node,t);let R;if(function cf(n){return n&&vu(n.canActivateChild)}(A))R=ki(A.canActivateChild(r,n));else{if(!vu(A))throw new Error("Invalid CanActivateChild guard");R=ki(A(r,n))}return R.pipe(ra())})).pipe(La())));return b(l).pipe(La())}(n,o.path,t),function xy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return b(!0);const o=r.map(l=>Ki(()=>{const f=gc(l,e,t);let m;if(function lf(n){return n&&vu(n.canActivate)}(f))m=ki(f.canActivate(e,n));else{if(!vu(f))throw new Error("Invalid CanActivate guard");m=ki(f(e,n))}return m.pipe(ra())}));return b(o).pipe(La())}(n,o.route,t))),ra(o=>!0!==o,!0))}(r,l,n,e):b(m)),(0,It.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,pi.b)(m=>{if(pl(m.guardsResult)){const A=oa(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw A.url=m.guardsResult,A}const C=new Xl(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(C)}),xi(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),ht(m=>{if(m.guards.canActivateChecks.length)return b(m).pipe((0,pi.b)(C=>{const A=new Ur(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(A)}),tr(C=>{let A=!1;return b(C).pipe(function Y(n,e){return(0,Mn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return b(t);let l=0;return(0,hn.D)(o).pipe(Ra(f=>function ve(n,e,t,r){return function qe(n,e,t,r){const o=it(n);if(0===o.length)return b({});const l={};return(0,hn.D)(o).pipe((0,Mn.z)(f=>function bt(n,e,t,r){const o=gc(n,e,r);return ki(o.resolve?o.resolve(e,t):o(e,t))}(n[f],e,t,r).pipe((0,pi.b)(m=>{l[f]=m}))),hu(1),(0,Mn.z)(()=>it(l).length===o.length?b(l):Oa.E))}(n._resolve,n,e,r).pipe((0,It.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),fy(n,t).resolve),null)))}(f.route,r,n,e)),(0,pi.b)(()=>l++),hu(1),(0,Mn.z)(f=>l===o.length?b(t):Oa.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pi.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,pi.b)(C=>{const A=new Mi(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(A)}))}),ht(m=>{const{targetSnapshot:C,id:A,extractedUrl:R,rawUrl:F,extras:{skipLocationChange:W,replaceUrl:ie}}=m;return this.hooks.afterPreactivation(C,{navigationId:A,appliedUrlTree:R,rawUrlTree:F,skipLocationChange:!!W,replaceUrl:!!ie})}),(0,It.U)(m=>{const C=function py(n,e,t){const r=ac(n,e._root,t?t._root:void 0);return new Cd(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:C})}),(0,pi.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(r=>(new og(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,pi.b)({next(){l=!0},complete(){l=!0}}),function Kh(n){return(0,Ar.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||f||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Bs(m=>{if(f=!0,function wd(n){return n&&n[rc]}(m)){const C=pl(m.url);C||(this.navigated=!0,this.restoreHistory(o,!0));const A=new Dn(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(A),C?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),F={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Fd(o.source)};this.scheduleNavigation(R,"imperative",null,F,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const C=new Jl(o.id,this.serializeUrl(o.extractedUrl),m);r.next(C);try{o.resolve(this.errorHandler(m))}catch(A){o.reject(A)}}return Oa.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const l={replaceUrl:!0},f=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(f){const C=Object.assign({},f);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(l.state=C)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,f,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hc(t),this.config=t.map(pf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:f,queryParamsHandling:m,preserveFragment:C}=r,A=o||this.routerState.root,R=C?this.currentUrlTree.fragment:f;let F=null;switch(m){case"merge":F=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=l||null}return null!==F&&(F=this.removeEmptyProps(F)),function So(n,e,t,r,o){if(0===t.length)return ig(e.root,e.root,e,r,o);const l=function yy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new my(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return fn(l.outlets,(C,A)=>{m[A]="string"==typeof C?C.split("/"):C}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===f?(l.split("/").forEach((m,C)=>{0==C&&"."===m||(0==C&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new my(t,e,r)}(t);if(l.toRoot())return ig(e.root,new we([],{}),e,r,o);const f=function sg(n,e,t){if(n.isAbsolute)return new sf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new sf(l,l===e.root,0)}const r=Fa(n.commands[0])?0:1;return function vy(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new sf(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=f.processChildren?xo(f.segmentGroup,f.index,l.commands):wy(f.segmentGroup,f.index,l.commands);return ig(f.segmentGroup,m,e,r,o)}(A,this.currentUrlTree,t,F,null!=R?R:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=pl(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Af(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},Tf):!1===r?Object.assign({},Pd):r,pl(t))return pu(this.currentUrlTree,t,o);const l=this.parseUrl(t);return pu(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new al(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,f){var m,C,A;if(this.disposed)return Promise.resolve(!1);const R=this.transitions.value,F=Fd(r)&&R&&!Fd(R.source),W=R.rawUrl.toString()===t.toString(),ie=R.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(F&&W&&ie)return Promise.resolve(!0);let We,at,jt;f?(We=f.resolve,at=f.reject,jt=f.promise):jt=new Promise((zt,Jn)=>{We=zt,at=Jn});const rn=++this.navigationId;let lr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),lr=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(C=this.browserPageId)&&void 0!==C?C:0:(null!==(A=this.browserPageId)&&void 0!==A?A:0)+1):lr=0,this.setTransition({id:rn,targetPageId:lr,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:We,reject:at,promise:jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jt.catch(zt=>Promise.reject(zt))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new Dn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Fd(n){return"imperative"!==n}let Py=(()=>{class n{constructor(t,r,o,l,f){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=l,this.el=f,this.commands=null,this.onChanges=new M.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ld(this.skipLocationChange),replaceUrl:Ld(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ld(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rr),d.Y36(la),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})(),vc=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new M.x,this.subscription=t.events.subscribe(l=>{l instanceof al&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,f){if(0!==t||r||o||l||f||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Ld(this.skipLocationChange),replaceUrl:Ld(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ld(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rr),d.Y36(la),d.Y36(Q))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&d.uIk("target",r.target)("href",r.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})();function Ld(n){return""===n||!!n}let Fy=(()=>{class n{constructor(t,r,o,l,f,m){this.router=t,this.element=r,this.renderer=o,this.cdr=l,this.link=f,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.vpe,this.routerEventsSubscription=t.events.subscribe(C=>{C instanceof al&&this.update()})}ngAfterContentInit(){b(this.links.changes,this.linksWithHrefs.changes,b(null)).pipe((0,na.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,hn.D)(r).pipe((0,na.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Ly(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rr),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(Py,8),d.Y36(vc,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&(d.Suo(o,Py,5),d.Suo(o,vc,5)),2&t){let l;d.iGM(l=d.CRH())&&(r.links=l),d.iGM(l=d.CRH())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[d.TTD]}),n})();class Vy{}class jw{preload(e,t){return b(null)}}let $w=(()=>{class n{constructor(t,r,o,l){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=new yl(o,r,C=>t.triggerEvent(new ec(C)),C=>t.triggerEvent(new sa(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(xi(t=>t instanceof al),Ra(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const f=l._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,hn.D)(o).pipe((0,na.J)(),(0,It.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?b(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Mn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rr),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Vy))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),gg=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof js?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof al&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new nc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Hs=new d.OlP("ROUTER_CONFIGURATION"),By=new d.OlP("ROUTER_FORROOT_GUARD"),Hw=[Ee,{provide:Bn,useClass:Sr},{provide:rr,useFactory:function $y(n,e,t,r,o,l,f={},m,C){const A=new rr(null,n,e,t,r,o,ll(l));return m&&(A.urlHandlingStrategy=m),C&&(A.routeReuseStrategy=C),function zw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(f,A),f.enableTracing&&A.events.subscribe(R=>{var F,W;null===(F=console.group)||void 0===F||F.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(W=console.groupEnd)||void 0===W||W.call(console)}),A},deps:[Bn,cc,Ee,d.zs3,d.Sil,ml,Hs,[class Df{},new d.FiY],[class On{},new d.FiY]]},cc,{provide:la,useFactory:function mg(n){return n.routerState.root},deps:[rr]},$w,jw,class Uy{preload(e,t){return t().pipe(Bs(()=>b(null)))}},{provide:Hs,useValue:{enableTracing:!1}}];function xC(){return new d.PXZ("Router",rr)}let Sf=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Hw,jy(t),{provide:By,useFactory:qw,deps:[[rr,new d.FiY,new d.tp0]]},{provide:Hs,useValue:r||{}},{provide:Q,useFactory:Gw,deps:[fe,[new d.tBr(Re),new d.FiY],Hs]},{provide:gg,useFactory:MC,deps:[rr,Ca,Hs]},{provide:Vy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:jw},{provide:d.PXZ,multi:!0,useFactory:xC},[Vd,{provide:d.ip1,multi:!0,useFactory:Zw,deps:[Vd]},{provide:Gy,useFactory:Hy,deps:[Vd]},{provide:d.tb,multi:!0,useExisting:Gy}]]}}static forChild(t){return{ngModule:n,providers:[jy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(By,8),d.LFG(rr,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function MC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new gg(n,e,t)}function Gw(n,e,t={}){return t.useHash?new de(n,e):new Le(n,e)}function qw(n){return"guarded"}function jy(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:ml,multi:!0,useValue:n}]}let Vd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new M.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(rr),f=this.injector.get(Hs);return"disabled"===f.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?b(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Hs),o=this.injector.get($w),l=this.injector.get(gg),f=this.injector.get(rr),m=this.injector.get(d.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),l.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Zw(n){return n.appInitializer.bind(n)}function Hy(n){return n.bootstrapListener.bind(n)}const Gy=new d.OlP("Router Initializer");var kC=L(4986),$r=L(5813);function zy(){return(0,Ar.e)((n,e)=>{let t,r=!1;n.subscribe((0,xn.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function Ww(n,e){return n===e}var nt,Gs=L(2011),TT=(L(3059),L(3942)),Ae=L(5861),_c=L(9681),xf=L(4859),vl=L(1877),Bt=L(2090),ha="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Cu={},Zy=Zy||{},xt=ha||self;function vg(){}function Wy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ud(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ky="closure_uid_"+(1e9*Math.random()>>>0),PC=0;function Rt(n,e,t){return n.call.apply(n.bind,arguments)}function Kw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Xr(n,e,t){return(Xr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rt:Kw).apply(null,arguments)}function Mf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function xr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return e.prototype[o].apply(r,f)}}function ei(){this.s=this.s,this.o=this.o}var FC={};ei.prototype.s=!1,ei.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function NC(n){return Object.prototype.hasOwnProperty.call(n,Ky)&&n[Ky]||(n[Ky]=++PC)}(this);delete FC[n]}},ei.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _g=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Ba=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function Qy(n){return Array.prototype.concat.apply([],arguments)}function kf(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Jy(n){return/^[\s\xa0]*$/.test(n)}var ti,Xy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function _s(n,e){return-1!=n.indexOf(e)}function Bd(n,e){return n<e?-1:n>e?1:0}e:{var wg=xt.navigator;if(wg){var bg=wg.userAgent;if(bg){ti=bg;break e}}ti=""}function Of(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function LC(n){const e={};for(const t in n)e[t]=n[t];return e}var Qw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jw(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Qw.length;l++)t=Qw[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ev(n){return ev[" "](n),n}ev[" "]=vg;var jd,n,Xw=_s(ti,"Opera"),Rf=_s(ti,"Trident")||_s(ti,"MSIE"),e0=_s(ti,"Edge"),t0=e0||Rf,tv=_s(ti,"Gecko")&&!(_s(ti.toLowerCase(),"webkit")&&!_s(ti,"Edge"))&&!(_s(ti,"Trident")||_s(ti,"MSIE"))&&!_s(ti,"Edge"),n0=_s(ti.toLowerCase(),"webkit")&&!_s(ti,"Edge");function r0(){var n=xt.document;return n?n.documentMode:void 0}e:{var s0="",o0=(n=ti,tv?/rv:([^\);]+)(\)|;)/.exec(n):e0?/Edge\/([\d\.]+)/.exec(n):Rf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):n0?/WebKit\/(\S+)/.exec(n):Xw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(o0&&(s0=o0?o0[1]:""),Rf){var a0=r0();if(null!=a0&&a0>parseFloat(s0)){jd=String(a0);break e}}jd=s0}var AT={};var xT=xt.document&&Rf&&(r0()||parseInt(jd,10))||void 0,MT=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xt.addEventListener("test",vg,e),xt.removeEventListener("test",vg,e)}catch(t){}return n}();function ts(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Mo(n,e){if(ts.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(tv){e:{try{ev(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mo.Z.h.call(this)}}ts.prototype.h=function(){this.defaultPrevented=!0},xr(Mo,ts);var nv={2:"touch",3:"pen",4:"mouse"};Mo.prototype.h=function(){Mo.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nf="closure_listenable_"+(1e6*Math.random()|0),l0=0;function rv(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++l0,this.ca=this.fa=!1}function Pf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function $d(n){this.src=n,this.g={},this.h=0}function iv(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=_g(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(Pf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ja(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}$d.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var f=ja(n,e,r,o);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new rv(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var Eg="closure_lm_"+(1e6*Math.random()|0),sv={};function Cg(n,e,t,r,o){if(r&&r.once)return h0(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Cg(n,e[l],t,r,o);return null}return t=wl(t),n&&n[Nf]?n.N(e,t,Ud(r)?!!r.capture:!!r,o):c0(n,e,t,!1,r,o)}function c0(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var f=Ud(o)?!!o.capture:!!o,m=_l(n);if(m||(n[Eg]=m=new $d(n)),(t=m.add(e,t,r,f,l)).proxy)return t;if(r=function d0(){var e=ov;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)MT||(o=f),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(bc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function h0(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)h0(n,e[l],t,r,o);return null}return t=wl(t),n&&n[Nf]?n.O(e,t,Ud(r)?!!r.capture:!!r,o):c0(n,e,t,!0,r,o)}function f0(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)f0(n,e[l],t,r,o);else r=Ud(r)?!!r.capture:!!r,t=wl(t),n&&n[Nf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ja(l=n.g[e],t,r,o))&&(Pf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=_l(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ja(e,t,r,o)),(t=-1<n?e[n]:null)&&wc(t))}function wc(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Nf])iv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(bc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=_l(e))?(iv(t,n),0==t.h&&(t.src=null,e[Eg]=null)):Pf(n)}}}function bc(n){return n in sv?sv[n]:sv[n]="on"+n}function ov(n,e){if(n.ca)n=!0;else{e=new Mo(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&wc(n),n=t.call(r,e)}return n}function _l(n){return(n=n[Eg])instanceof $d?n:null}var Ec="__closure_events_fn_"+(1e9*Math.random()>>>0);function wl(n){return"function"==typeof n?n:(n[Ec]||(n[Ec]=function(e){return n.handleEvent(e)}),n[Ec])}function ni(){ei.call(this),this.i=new $d(this),this.P=this,this.I=null}function ri(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ts(e,n);else if(e instanceof ts)e.target=e.target||n;else{var o=e;Jw(e=new ts(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];o=Ff(f,r,!0,e)&&o}if(o=Ff(f=e.g=n,r,!0,e)&&o,o=Ff(f,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Ff(f=e.g=t[l],r,!1,e)&&o}function Ff(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.ca&&f.capture==t){var m=f.listener,C=f.ia||f.src;f.fa&&iv(n.i,f),o=!1!==m.call(C,r)&&o}}return o&&!r.defaultPrevented}xr(ni,ei),ni.prototype[Nf]=!0,ni.prototype.removeEventListener=function(n,e,t,r){f0(this,n,e,t,r)},ni.prototype.M=function(){if(ni.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Pf(t[r]);delete n.g[e],n.h--}}this.I=null},ni.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ni.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Lf=xt.JSON.stringify;function av(){var n=lv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ig,Vf=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new BC,n=>n.reset());class BC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function g0(n){xt.setTimeout(()=>{throw n},0)}function m0(n,e){Ig||function y0(){var n=xt.Promise.resolve(void 0);Ig=function(){n.then(jC)}}(),uv||(Ig(),uv=!0),lv.add(n,e)}var uv=!1,lv=new class p0{constructor(){this.h=this.g=null}add(e,t){const r=Vf.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function jC(){for(var n;n=av();){try{n.h.call(n.g)}catch(t){g0(t)}var e=Vf;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}uv=!1}function Dg(n,e){ni.call(this),this.h=n||1,this.g=e||xt,this.j=Xr(this.kb,this),this.l=Date.now()}function ns(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function cv(n,e,t){if("function"==typeof n)t&&(n=Xr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xr(n.handleEvent,n)}return 2147483647<Number(e)?-1:xt.setTimeout(n,e||0)}function v0(n){n.g=cv(()=>{n.g=null,n.i&&(n.i=!1,v0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xr(Dg,ni),(nt=Dg.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ri(this,"tick"),this.da&&(ns(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){Dg.Z.M.call(this),ns(this),delete this.g};class kT extends ei{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:v0(this)}M(){super.M(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tg(n){ei.call(this),this.h=n,this.g={}}xr(Tg,ei);var dv=[];function $C(n,e,t,r){Array.isArray(t)||(t&&(dv[0]=t.toString()),t=dv);for(var o=0;o<t.length;o++){var l=Cg(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function _0(n){Of(n.g,function(e,t){this.g.hasOwnProperty(t)&&wc(e)},n),n.g={}}function Hd(){this.g=!0}function Gd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function b0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<o.length;f++)o[f]=""}}}return Lf(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Tg.prototype.M=function(){Tg.Z.M.call(this),_0(this)},Tg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hd.prototype.Aa=function(){this.g=!1},Hd.prototype.info=function(){};var Cc={},hv=null;function Ag(){return hv=hv||new ni}function E0(n){ts.call(this,Cc.Ma,n)}function qd(n){const e=Ag();ri(e,new E0(e,n))}function fv(n,e){ts.call(this,Cc.STAT_EVENT,n),this.stat=e}function rs(n){const e=Ag();ri(e,new fv(e,n))}function fa(n,e){ts.call(this,Cc.Na,n),this.size=e}function Ic(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){n()},e)}Cc.Ma="serverreachability",xr(E0,ts),Cc.STAT_EVENT="statevent",xr(fv,ts),Cc.Na="timingevent",xr(fa,ts);var Sg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},C0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function I0(){}function D0(){}I0.prototype.h=null;var mv,Uf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gv(){ts.call(this,"d")}function Bf(){ts.call(this,"c")}function xg(){}function bl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Tg(this),this.P=qC,this.W=new Dg(n=t0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Mg}function Mg(){this.i=null,this.g="",this.h=!1}xr(gv,ts),xr(Bf,ts),xr(xg,I0),xg.prototype.g=function(){return new XMLHttpRequest},xg.prototype.i=function(){return{}},mv=new xg;var qC=45e3,jf={},zd={};function kg(n,e,t){n.K=1,n.v=Fg(qs(e)),n.s=t,n.U=!0,T0(n,null)}function T0(n,e){n.F=Date.now(),$f(n),n.A=qs(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Lg(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Mg,n.g=Oc(n.l,t?e:null,!n.s),0<n.O&&(n.L=new kT(Xr(n.Ia,n,n.g),n.O)),$C(n.V,n.g,"readystatechange",n.gb),e=n.H?LC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),qd(1),function w0(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var f="",m=l.split("&"),C=0;C<m.length;C++){var A=m[C].split("=");if(1<A.length){var R=A[0];A=A[1];var F=R.split("_");f=2<=F.length&&"type"==F[1]?f+(R+"=")+A+"&":f+(R+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function A0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Og(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=OT(n,t),o==zd){4==e&&(n.o=4,rs(14),r=!1),Gd(n.j,n.m,null,"[Incomplete Response]");break}if(o==jf){n.o=4,rs(15),Gd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Gd(n.j,n.m,o,null),Rg(n,o)}A0(n)&&o!=zd&&o!=jf&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,rs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Yf(e),e.L=!0,rs(11))):(Gd(n.j,n.m,t,"[Invalid Chunked Response]"),El(n),Zd(n))}function OT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?zd:(t=Number(e.substring(t,r)),isNaN(t)?jf:(r+=1)+t>e.length?zd:(e=e.substr(r,t),n.C=r+t,e))}function $f(n){n.Y=Date.now()+n.P,yv(n,n.P)}function yv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ic(Xr(n.eb,n),e)}function Hf(n){n.B&&(xt.clearTimeout(n.B),n.B=null)}function Zd(n){0==n.l.G||n.I||Sc(n.l,n)}function El(n){Hf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ns(n.W),_0(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Rg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Cv(t.i,n)))if(t.I=n.N,!n.J&&Cv(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(A){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ic(Xr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Au(t),Dl(t)}ws(t),rs(18)}if(1>=R0(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else Oo(t,11)}else if((n.J||t.g==n)&&Au(t),!Jy(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let A=o[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const R=A[3];null!=R&&(t.ma=R,t.h.info("VER="+t.ma));const F=A[4];null!=F&&(t.za=F,t.h.info("SVER="+t.za));const W=A[5];null!=W&&"number"==typeof W&&0<W&&(t.K=r=1.5*W,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ie=n.g;if(ie){const Se=ie.g?ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Se){var l=r.i;!l.g&&(_s(Se,"spdy")||_s(Se,"quic")||_s(Se,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Vg(l,l.h),l.h=null))}if(r.D){const We=ie.g?ie.g.getResponseHeader("X-HTTP-Session-Id"):null;We&&(r.sa=We,Rn(r.F,r.D,We))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=kc(r,r.H?r.la:null,r.W),f.J){QC(r.i,f);var m=f,C=r.K;C&&m.setTimeout(C),m.B&&(Hf(m),$f(m)),r.g=f}else Kf(r);0<t.l.length&&nh(t)}else"stop"!=A[0]&&"close"!=A[0]||Oo(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Oo(t,7):Sv(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}qd(4)}catch(A){}}function Wd(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wy(n)||"string"==typeof n)Ba(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Wy(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function Iu(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Wy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function Kd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Kd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function vv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Yd(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Yd(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Yd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=bl.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==Tu(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const R=Tu(this.g);var e=this.g.Da();const F=this.g.ba();if(!(3>R)&&(3!=R||t0||this.g&&(this.h.h||this.g.ga()||V0(this.g)))){this.I||4!=R||7==e||qd(8==e||0>=F?3:2),Hf(this);var t=this.g.ba();this.N=t;t:if(A0(this)){var r=V0(this.g);n="";var o=r.length,l=4==Tu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){El(this),Zd(this);var f="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function HC(n,e,t,r,o,l,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.X,R,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,C=this.g;if((m=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jy(m)){var A=m;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,rs(12),El(this),Zd(this);break e}Gd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rg(this,t)}this.U?(Og(this,R,f),t0&&this.i&&3==R&&($C(this.V,this.W,"tick",this.fb),this.W.start())):(Gd(this.j,this.m,f,null),Rg(this,f)),4==R&&El(this),this.i&&!this.I&&(4==R?Sc(this.l,this):(this.i=!1,$f(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,rs(12)):(this.o=0,rs(13)),El(this),Zd(this)}}}catch(R){}},nt.fb=function(){if(this.g){var n=Tu(this.g),e=this.g.ga();this.C<e.length&&(Hf(this),Og(this,n,e),this.i&&4!=n&&$f(this))}},nt.cancel=function(){this.I=!0,El(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function GC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(qd(3),rs(17)),El(this),this.o=2,Zd(this)):yv(this,this.Y-n)},(nt=Kd.prototype).R=function(){vv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return vv(this),this.g.concat()},nt.get=function(n,e){return Yd(this.h,n)?this.h[n]:e},nt.set=function(n,e){Yd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var Ng=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Du(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Du){this.g=void 0!==e?e:n.g,Pg(this,n.j),this.s=n.s,Qd(this,n.i),Gf(this,n.m),this.l=n.l,e=n.h;var t=new zf;t.i=e.i,e.g&&(t.g=new Kd(e.g),t.h=e.h),_v(this,t),this.o=n.o}else n&&(t=String(n).match(Ng))?(this.g=!!e,Pg(this,t[1]||"",!0),this.s=qf(t[2]||""),Qd(this,t[3]||"",!0),Gf(this,t[4]),this.l=qf(t[5]||"",!0),_v(this,t[6]||"",!0),this.o=qf(t[7]||"")):(this.g=!!e,this.h=new zf(null,this.g))}function qs(n){return new Du(n)}function Pg(n,e,t){n.j=t?qf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Qd(n,e,t){n.i=t?qf(e,!0):e}function Gf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _v(n,e,t){e instanceof zf?(n.h=e,function M0(n,e){e&&!n.j&&(Cl(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(x0(this,r),Lg(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Jd(e,eh)),n.h=new zf(e,n.g))}function Rn(n,e,t){n.h.set(e,t)}function Fg(n){return Rn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function qf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Jd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Xd),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Xd(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Du.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Jd(e,bv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Jd(e,bv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Jd(t,"/"==t.charAt(0)?WC:ZC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Jd(t,KC)),n.join("")};var bv=/[#\/\?@]/g,ZC=/[#\?:]/g,WC=/[#\?]/g,eh=/[#\?@]/g,KC=/#/g;function zf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cl(n){n.g||(n.g=new Kd,n.h=0,n.i&&function S0(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function x0(n,e){Cl(n),e=Dc(n,e),Yd(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Yd((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&vv(n)))}function ko(n,e){return Cl(n),e=Dc(n,e),Yd(n.g.h,e)}function Lg(n,e,t){x0(n,e),0<t.length&&(n.i=null,n.g.set(Dc(n,e),kf(t)),n.h+=t.length)}function Dc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ev(n){this.l=n||YC,n=xt.PerformanceNavigationTiming?0<(n=xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xt.g&&xt.g.Ea&&xt.g.Ea()&&xt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=zf.prototype).add=function(n,e){Cl(this),this.i=null,n=Dc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){Cl(this),this.g.forEach(function(t,r){Ba(t,function(o){n.call(e,o,r,this)},this)},this)},nt.T=function(){Cl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},nt.R=function(n){Cl(this);var e=[];if("string"==typeof n)ko(this,n)&&(e=Qy(e,this.g.get(Dc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Qy(e,n[t])}return e},nt.set=function(n,e){return Cl(this),this.i=null,ko(this,n=Dc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var f=o;""!==r[l]&&(f+="="+encodeURIComponent(String(r[l]))),n.push(f)}}return this.i=n.join("&")};var YC=10;function O0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function R0(n){return n.h?1:n.g?n.g.size:0}function Cv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Vg(n,e){n.g?n.g.add(e):n.h=e}function QC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Iv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return kf(n.i)}function Dv(){}function JC(){this.g=new Dv}function RT(n,e,t){const r=t||"";try{Wd(n,function(o,l){let f=o;Ud(o)&&(f=Lf(o)),e.push(r+l+"="+encodeURIComponent(f))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function th(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function Zf(n){this.l=n.$b||null,this.j=n.ib||!1}function Wf(n,e){ni.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ug,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ev.prototype.cancel=function(){if(this.i=Iv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Dv.prototype.stringify=function(n){return xt.JSON.stringify(n,void 0)},Dv.prototype.parse=function(n){return xt.JSON.parse(n,void 0)},xr(Zf,I0),Zf.prototype.g=function(){return new Wf(this.l,this.j)},Zf.prototype.i=function(n){return function(){return n}}({}),xr(Wf,ni);var Ug=0;function XC(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function is(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Bg(n)}function Bg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=Wf.prototype).open=function(n,e){if(this.readyState!=Ug)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Bg(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,is(this)),this.readyState=Ug},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Bg(this)),this.g&&(this.readyState=3,Bg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XC(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?is(this):Bg(this),3==this.readyState&&XC(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,is(this))},nt.Ta=function(n){this.g&&(this.response=n,is(this))},nt.ha=function(){this.g&&is(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Wf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var PT=xt.JSON.parse;function pr(n){ni.call(this),this.headers=new Kd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tv,this.K=this.L=!1}xr(pr,ni);var Tv="",N0=/^https?$/i,eI=["POST","PUT"];function P0(n){return"content-type"==n.toLowerCase()}function jg(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,F0(n),Hg(n)}function F0(n){n.D||(n.D=!0,ri(n,"complete"),ri(n,"error"))}function $g(n){if(n.h&&void 0!==Zy&&(!n.C[1]||4!=Tu(n)||2!=n.ba()))if(n.v&&4==Tu(n))cv(n.Fa,0,n);else if(ri(n,"readystatechange"),4==Tu(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(Ng)[1]||null;if(!o&&xt.self&&xt.self.location){var l=xt.self.location.protocol;o=l.substr(0,l.length-1)}r=!N0.test(o?o.toLowerCase():"")}t=r}if(t)ri(n,"complete"),ri(n,"success");else{n.m=6;try{var f=2<Tu(n)?n.g.statusText:""}catch(C){f=""}n.j=f+" ["+n.ba()+"]",F0(n)}}finally{Hg(n)}}}function Hg(n,e){if(n.g){L0(n);const t=n.g,r=n.C[0]?vg:null;n.g=null,n.C=null,e||ri(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function L0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xt.clearTimeout(n.A),n.A=null)}function Tu(n){return n.g?n.g.readyState:0}function V0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Tv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Av(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function tI(n){let e="";return Of(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Rn(n,e,t))}function Il(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Tc(n){this.za=0,this.l=[],this.h=new Hd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Il("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Il("baseRetryDelayMs",5e3,n),this.$a=Il("retryDelaySeedMs",1e4,n),this.Ya=Il("forwardChannelMaxRetries",2,n),this.ra=Il("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Ev(n&&n.concurrentRequestLimit),this.Ca=new JC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Sv(n){if(U0(n),3==n.G){var e=n.V++,t=qs(n.F);Rn(t,"SID",n.J),Rn(t,"RID",e),Rn(t,"TYPE","terminate"),Mr(n,t),(e=new bl(n,n.h,e,void 0)).K=2,e.v=Fg(qs(t)),t=!1,xt.navigator&&xt.navigator.sendBeacon&&(t=xt.navigator.sendBeacon(e.v.toString(),"")),!t&&xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Oc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$f(e)}Mc(n)}function Dl(n){n.g&&(Yf(n),n.g.cancel(),n.g=null)}function U0(n){Dl(n),n.u&&(xt.clearTimeout(n.u),n.u=null),Au(n),n.i.cancel(),n.m&&("number"==typeof n.m&&xt.clearTimeout(n.m),n.m=null)}function xv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&nh(n)}function nh(n){O0(n.i)||n.m||(n.m=!0,m0(n.Ha,n),n.C=0)}function rh(n,e){var t;t=e?e.m:n.V++;const r=qs(n.F);Rn(r,"SID",n.J),Rn(r,"RID",t),Rn(r,"AID",n.U),Mr(n,r),n.o&&n.s&&Av(r,n.o,n.s),t=new bl(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Tl(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Vg(n.i,t),kg(t,r,e)}function Mr(n,e){n.j&&Wd({},function(t,r){Rn(e,r,t)})}function Tl(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Xr(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=o[0].h,f.push("ofs="+l)):l=0:f.push("ofs="+l);let m=!0;for(let C=0;C<t;C++){let A=o[C].h;const R=o[C].g;if(A-=l,0>A)l=Math.max(0,o[C].h-100),m=!1;else try{RT(R,f,"req"+A+"_")}catch(F){r&&r(R)}}if(m){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Kf(n){n.g||n.u||(n.Y=1,m0(n.Ga,n),n.A=0)}function ws(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ic(Xr(n.Ga,n),xc(n,n.A)),n.A++,0))}function Yf(n){null!=n.B&&(xt.clearTimeout(n.B),n.B=null)}function Ac(n){n.g=new bl(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=qs(n.oa);Rn(e,"RID","rpc"),Rn(e,"SID",n.J),Rn(e,"CI",n.N?"0":"1"),Rn(e,"AID",n.U),Mr(n,e),Rn(e,"TYPE","xmlhttp"),n.o&&n.s&&Av(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Fg(qs(e)),t.s=null,t.U=!0,T0(t,n)}function Au(n){null!=n.v&&(xt.clearTimeout(n.v),n.v=null)}function Sc(n,e){var t=null;if(n.g==e){Au(n),Yf(n),n.g=null;var r=2}else{if(!Cv(n.i,e))return;t=e.D,QC(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ri(r=Ag(),new fa(r,t,e,o)),nh(n)}else Kf(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function $a(n,e){return!(R0(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ic(Xr(n.Ha,n,e),xc(n,n.C)),n.C++,0)))}(n,e)||2==r&&ws(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Oo(n,5);break;case 4:Oo(n,10);break;case 3:Oo(n,6);break;default:Oo(n,2)}}function xc(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Oo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Xr(n.jb,n);t||(t=new Du("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||Pg(t,"https"),Fg(t)),function NT(n,e){const t=new Hd;if(xt.Image){const r=new Image;r.onload=Mf(th,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Mf(th,t,r,"TestLoadImage: error",!1,e),r.onabort=Mf(th,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mf(th,t,r,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else rs(2);n.G=0,n.j&&n.j.va(e),Mc(n),U0(n)}function Mc(n){n.G=0,n.I=-1,n.j&&((0!=Iv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,kf(n.l),n.l.length=0),n.j.ua())}function kc(n,e,t){let r=function wv(n){return n instanceof Du?qs(n):new Du(n,void 0)}(t);if(""!=r.i)e&&Qd(r,e+"."+r.i),Gf(r,r.m);else{const o=xt.location;r=function zC(n,e,t,r){var o=new Du(null,void 0);return n&&Pg(o,n),e&&Qd(o,e),t&&Gf(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Of(n.aa,function(o,l){Rn(r,l,o)}),t=n.sa,(e=n.D)&&t&&Rn(r,e,t),Rn(r,"VER",n.ma),Mr(n,r),r}function Oc(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pr(t&&n.Ba&&!n.qa?new Zf({ib:!0}):n.qa)).L=n.H,e}function Rc(){}function Qf(){if(Rf&&!(10<=Number(xT)))throw Error("Environmental error: no available transport.")}function bs(n,e){ni.call(this),this.g=new Tc(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Jy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jy(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Nc(this)}function Mv(n){gv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function kv(){Bf.call(this),this.status=1}function Nc(n){this.g=n}(nt=pr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mv.g(),this.C=function pv(n){return n.h||(n.h=n.i())}(this.u?this.u:mv),this.g.onreadystatechange=Xr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void jg(this,l)}n=t||"";const o=new Kd(this.headers);r&&Wd(r,function(l,f){o.set(f,l)}),r=function Yy(n){e:{var e=P0;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=xt.FormData&&n instanceof xt.FormData,!(0<=_g(eI,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,f){this.g.setRequestHeader(f,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{L0(this),0<this.B&&((this.K=function FT(n){return Rf&&function ST(){return function VC(n){var e=AT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Xy(String(jd)).split("."),t=Xy("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var o=e[f]||"",l=t[f]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Bd(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Bd(0==o[2].length,0==l[2].length)||Bd(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xr(this.pa,this)):this.A=cv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){jg(this,l)}},nt.pa=function(){void 0!==Zy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ri(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ri(this,"complete"),ri(this,"abort"),Hg(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hg(this,!0)),pr.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?$g(this):this.cb())},nt.cb=function(){$g(this)},nt.ba=function(){try{return 2<Tu(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),PT(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=Tc.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new bl(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=LC(l),Jw(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Tl(this,o,e),Rn(t=qs(this.F),"RID",n),Rn(t,"CVER",22),this.D&&Rn(t,"X-HTTP-Session-Id",this.D),Mr(this,t),this.o&&l&&Av(t,this.o,l),Vg(this.i,o),this.Ra&&Rn(t,"TYPE","init"),this.ja?(Rn(t,"$req",e),Rn(t,"SID","null"),o.$=!0,kg(o,t,null)):kg(o,t,e),this.G=2}}else 3==this.G&&(n?rh(this,n):0==this.l.length||O0(this.i)||rh(this))},nt.Ga=function(){if(this.u=null,Ac(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ic(Xr(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rs(10),Dl(this),Ac(this))},nt.ab=function(){null!=this.v&&(this.v=null,Dl(this),ws(this),rs(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),rs(2)):(this.h.info("Failed to ping google.com"),rs(1))},(nt=Rc.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},Qf.prototype.g=function(n,e){return new bs(n,e)},xr(bs,ni),bs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),m0(Xr(n.hb,n,e))),rs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=kc(n,null,n.W),nh(n)},bs.prototype.close=function(){Sv(this.g)},bs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,xv(this.g,e)}else this.v?((e={}).__data__=Lf(n),xv(this.g,e)):xv(this.g,n)},bs.prototype.M=function(){this.g.j=null,delete this.j,Sv(this.g),delete this.g,bs.Z.M.call(this)},xr(Mv,gv),xr(kv,Bf),xr(Nc,Rc),Nc.prototype.xa=function(){ri(this.g,"a")},Nc.prototype.wa=function(n){ri(this.g,new Mv(n))},Nc.prototype.va=function(n){ri(this.g,new kv(n))},Nc.prototype.ua=function(){ri(this.g,"b")},Qf.prototype.createWebChannel=Qf.prototype.g,bs.prototype.send=bs.prototype.u,bs.prototype.open=bs.prototype.m,bs.prototype.close=bs.prototype.close,Sg.NO_ERROR=0,Sg.TIMEOUT=8,Sg.HTTP_ERROR=6,C0.COMPLETE="complete",D0.EventType=Uf,Uf.OPEN="a",Uf.CLOSE="b",Uf.ERROR="c",Uf.MESSAGE="d",ni.prototype.listen=ni.prototype.N,pr.prototype.listenOnce=pr.prototype.O,pr.prototype.getLastError=pr.prototype.La,pr.prototype.getLastErrorCode=pr.prototype.Da,pr.prototype.getStatus=pr.prototype.ba,pr.prototype.getResponseJson=pr.prototype.Qa,pr.prototype.getResponseText=pr.prototype.ga,pr.prototype.send=pr.prototype.ea;var B0=Cu.createWebChannelTransport=function(){return new Qf},j0=Cu.getStatEventTarget=function(){return Ag()},Gg=Cu.ErrorCode=Sg,$0=Cu.EventType=C0,nI=Cu.Event=Cc,Ov=Cu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rI=Cu.FetchXmlHttpFactory=Zf,Jf=Cu.WebChannel=D0,H0=Cu.XhrIo=pr;const G0="@firebase/firestore";class gi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");let Pc="9.6.7";const Al=new vl.Yd("@firebase/firestore");function qg(){return Al.logLevel}function je(n,...e){if(Al.logLevel<=vl.in.DEBUG){const t=e.map(ep);Al.debug(`Firestore (${Pc}): ${n}`,...t)}}function Hr(n,...e){if(Al.logLevel<=vl.in.ERROR){const t=e.map(ep);Al.error(`Firestore (${Pc}): ${n}`,...t)}}function Xf(n,...e){if(Al.logLevel<=vl.in.WARN){const t=e.map(ep);Al.warn(`Firestore (${Pc}): ${n}`,...t)}}function ep(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: `+n;throw Hr(e),new Error(e)}function Tt(n,e){n||lt()}function Qe(n,e){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Bt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class sI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gi.UNAUTHENTICATED))}shutdown(){}}class ih{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aI{constructor(e){this.t=e,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=A=>this.i!==o?(o=this.i,t(A)):Promise.resolve();let f=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Gr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const A=f;e.enqueueRetryable((0,Ae.Z)(function*(){yield A.promise,yield l(r.currentUser)}))},C=A=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(A=>C(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?C(A):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Gr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new sI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new gi(e)}}class q0{constructor(e,t,r){this.type="FirstParty",this.user=gi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class uI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new q0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zg{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.p;return this.p=l.token,je("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.p=t.token,new Rv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Es{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function lI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Es.A=-1;class z0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=lI(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function qt(n,e){return n<e?-1:n>e?1:0}function sh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Z0(n){return n+"\0"}class qr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qr.fromMillis(Date.now())}static fromDate(e){return qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new qr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Nv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Wg{constructor(e,t,r){void 0===t?t=0:t>e.length&&lt(),void 0===r?r=e.length-t:r>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Wg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),f=t.get(o);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends Wg{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const cI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends Wg{construct(e,t,r){return new mi(e,t,r)}static isValidIdentifier(e){return cI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Ne(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ne(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const C=e[o+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Ne(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=C,o+=2}else"`"===m?(f=!f,o++):"."!==m||f?(r+=m,o++):(l(),o++)}if(l(),f)throw new Ne(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mi(t)}static emptyPath(){return new mi([])}}class Ha{constructor(e){this.fields=e,e.sort(mi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new gr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const Pv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xl(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=Pv.exec(n);if(Tt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nn(n.seconds),nanos:Nn(n.nanos)}}function Nn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ga(n){return"string"==typeof n?gr.fromBase64String(n):gr.fromUint8Array(n)}function tp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dI(n){const e=n.mapValue.fields.__previous_value__;return tp(e)?dI(e):e}function np(n){const e=xl(n.mapValue.fields.__local_write_time__.timestampValue);return new qr(e.seconds,e.nanos)}class Fv{constructor(e,t,r,o,l,f,m,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.useFetchStreams=C}}class Su{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Su("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}function Ml(n){return null==n}function oh(n){return 0===n&&1/n==-1/0}function Kg(n){return"number"==typeof n&&Number.isInteger(n)&&!oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(Qt.fromString(e))}static fromName(e){return new tt(Qt.fromString(e).popFirst(5))}static empty(){return new tt(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new Qt(e.slice()))}}const K0={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function xu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tp(n)?4:10:lt()}function Ro(n,e){if(n===e)return!0;const t=xu(n);if(t!==xu(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return np(n).isEqual(np(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=xl(r.timestampValue),f=xl(o.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ga(n.bytesValue).isEqual(Ga(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Nn(r.geoPointValue.latitude)===Nn(o.geoPointValue.latitude)&&Nn(r.geoPointValue.longitude)===Nn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Nn(r.integerValue)===Nn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Nn(r.doubleValue),f=Nn(o.doubleValue);return l===f?oh(l)===oh(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return sh(n.arrayValue.values||[],e.arrayValue.values||[],Ro);case 10:return function(r,o){const l=r.mapValue.fields||{},f=o.mapValue.fields||{};if(Nv(l)!==Nv(f))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===f[m]||!Ro(l[m],f[m])))return!1;return!0}(n,e);default:return lt()}var o}function rp(n,e){return void 0!==(n.values||[]).find(t=>Ro(t,e))}function Fc(n,e){if(n===e)return 0;const t=xu(n),r=xu(e);if(t!==r)return qt(t,r);switch(t){case 0:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const f=Nn(o.integerValue||o.doubleValue),m=Nn(l.integerValue||l.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return Lv(n.timestampValue,e.timestampValue);case 4:return Lv(np(n),np(e));case 5:return qt(n.stringValue,e.stringValue);case 6:return function(o,l){const f=Ga(o),m=Ga(l);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const f=o.split("/"),m=l.split("/");for(let C=0;C<f.length&&C<m.length;C++){const A=qt(f[C],m[C]);if(0!==A)return A}return qt(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const f=qt(Nn(o.latitude),Nn(l.latitude));return 0!==f?f:qt(Nn(o.longitude),Nn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const f=o.values||[],m=l.values||[];for(let C=0;C<f.length&&C<m.length;++C){const A=Fc(f[C],m[C]);if(A)return A}return qt(f.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const f=o.fields||{},m=Object.keys(f),C=l.fields||{},A=Object.keys(C);m.sort(),A.sort();for(let R=0;R<m.length&&R<A.length;++R){const F=qt(m[R],A[R]);if(0!==F)return F;const W=Fc(f[m[R]],C[A[R]]);if(0!==W)return W}return qt(m.length,A.length)}(n.mapValue,e.mapValue);default:throw lt()}}function Lv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qt(n,e);const t=xl(n),r=xl(e),o=qt(t.seconds,r.seconds);return 0!==o?o:qt(t.nanos,r.nanos)}function kl(n){return Yg(n)}function Yg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=xl(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ga(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const f of r.values||[])l?l=!1:o+=",",o+=Yg(f);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",f=!0;for(const m of o)f?f=!1:l+=",",l+=`${m}:${Yg(r.fields[m])}`;return l+"}"}(n.mapValue):lt();var e}function Qg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vv(n){return!!n&&"integerValue"in n}function Jg(n){return!!n&&"arrayValue"in n}function Uv(n){return!!n&&"nullValue"in n}function ip(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sp(n){return!!n&&"mapValue"in n}function ah(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ah(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ah(n.arrayValue.values[t]);return e}return Object.assign({},n)}class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ah(t)}setAll(e){let t=mi.emptyPath(),r={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const C=this.getFieldsMap(t);this.applyChanges(C,r,o),r={},o=[],t=m.popLast()}f?r[m.lastSegment()]=ah(f):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());sp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ro(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];sp(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Sl(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new yi(ah(this.value))}}function Bv(n){const e=[];return Sl(n.fields,(t,r)=>{const o=new mi([t]);if(sp(r)){const l=Bv(r.mapValue).fields;if(0===l.length)e.push(o);else for(const f of l)e.push(o.child(f))}else e.push(o)}),new Ha(e)}class jn{constructor(e,t,r,o,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=f}static newInvalidDocument(e){return new jn(e,0,Et.min(),Et.min(),yi.empty(),0)}static newFoundDocument(e,t,r){return new jn(e,1,t,Et.min(),r,0)}static newNoDocument(e,t){return new jn(e,2,t,Et.min(),yi.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,Et.min(),yi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let Xg=(()=>{class n{constructor(t,r,o,l){this.indexId=t,this.collectionGroup=r,this.fields=o,this.indexState=l}}return n.UNKNOWN_ID=-1,n})();class op{constructor(e,t){this.fieldPath=e,this.kind=t}}class uh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new uh(0,jv.min())}}class jv{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new jv(Et.min(),tt.empty(),-1)}}class hI{constructor(e,t=null,r=[],o=[],l=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=f,this.endAt=m,this.P=null}}function Y0(n,e=null,t=[],r=[],o=null,l=null,f=null){return new hI(n,e,t,r,o,l,f)}function lh(n){const e=Qe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+kl(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Ml(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>kl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>kl(r)).join(",")),e.P=t}return e.P}function ir(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!X0(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Ro(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hv(n.startAt,e.startAt)&&Hv(n.endAt,e.endAt)}function ap(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ss extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new pI(e,t,r):"array-contains"===t?new J0(e,r):"in"===t?new ch(e,r):"not-in"===t?new mI(e,r):"array-contains-any"===t?new yI(e,r):new ss(e,t,r)}static v(e,t,r){return"in"===t?new Q0(e,r):new gI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Fc(t,this.value)):null!==t&&xu(this.value)===xu(t)&&this.V(Fc(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pI extends ss{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.V(t)}}class Q0 extends ss{constructor(e,t){super(e,"in",t),this.keys=$v(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gI extends ss{constructor(e,t){super(e,"not-in",t),this.keys=$v(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $v(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>tt.fromName(r.referenceValue))}class J0 extends ss{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jg(t)&&rp(t.arrayValue,this.value)}}class ch extends ss{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rp(this.value.arrayValue,t)}}class mI extends ss{constructor(e,t){super(e,"not-in",t)}matches(e){if(rp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rp(this.value.arrayValue,t)}}class yI extends ss{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rp(this.value.arrayValue,r))}}class Lc{constructor(e,t){this.position=e,this.inclusive=t}}class dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function X0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function vI(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],f=n.position[o];if(r=l.field.isKeyField()?tt.comparator(tt.fromName(f.referenceValue),t.key):Fc(f,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Hv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ro(n.position[t],e.position[t]))return!1;return!0}class pa{constructor(e,t=null,r=[],o=[],l=null,f="F",m=null,C=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=f,this.startAt=m,this.endAt=C,this.D=null,this.C=null}}function ga(n,e,t,r,o,l,f,m){return new pa(n,e,t,r,o,l,f,m)}function hh(n){return new pa(n)}function em(n){return!Ml(n.limit)&&"F"===n.limitType}function zs(n){return!Ml(n.limit)&&"L"===n.limitType}function Zs(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ws(n){for(const e of n.filters)if(e.S())return e.field;return null}function tm(n){return null!==n.collectionGroup}function Vc(n){const e=Qe(n);if(null===e.D){e.D=[];const t=Ws(e),r=Zs(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new dh(t)),e.D.push(new dh(mi.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new dh(mi.keyField(),l))}}}return e.D}function No(n){const e=Qe(n);if(!e.C)if("F"===e.limitType)e.C=Y0(e.path,e.collectionGroup,Vc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Vc(e))t.push(new dh(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Lc(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Lc(e.startAt.position,!e.startAt.inclusive):null;e.C=Y0(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function eb(n,e,t){return new pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function up(n,e){return ir(No(n),No(e))&&n.limitType===e.limitType}function tb(n){return`${lh(No(n))}|lt:${n.limitType}`}function lp(n){return`Query(target=${function fI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${kl(r.value)}`;var r}).join(", ")}]`),Ml(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>kl(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>kl(t)).join(",")),`Target(${e})`}(No(n))}; limitType=${n.limitType})`}function Uc(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):tt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,f){const m=vI(o,l,f);return o.inclusive?m<=0:m<0}(t.startAt,Vc(t),r)||t.endAt&&!function(o,l,f){const m=vI(o,l,f);return o.inclusive?m>=0:m>0}(t.endAt,Vc(t),r)));var t,r}function nb(n){return(e,t)=>{let r=!1;for(const o of Vc(n)){const l=rb(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function rb(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):function(o,l,f){const m=l.data.field(o),C=f.data.field(o);return null!==m&&null!==C?Fc(m,C):lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}function ib(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function Gv(n){return{integerValue:""+n}}function qv(n,e){return Kg(e)?Gv(e):ib(n,e)}class Bc{constructor(){this._=void 0}}function _I(n,e,t){return n instanceof Ol?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof qa?nm(n,e):n instanceof Rl?Zv(n,e):function(r,o){const l=zv(r,o),f=Wv(l)+Wv(r.k);return Vv(l)&&Vv(r.k)?Gv(f):ib(r.O,f)}(n,e)}function sb(n,e,t){return n instanceof qa?nm(n,e):n instanceof Rl?Zv(n,e):t}function zv(n,e){return n instanceof jc?Vv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ol extends Bc{}class qa extends Bc{constructor(e){super(),this.elements=e}}function nm(n,e){const t=Kv(e);for(const r of n.elements)t.some(o=>Ro(o,r))||t.push(r);return{arrayValue:{values:t}}}class Rl extends Bc{constructor(e){super(),this.elements=e}}function Zv(n,e){let t=Kv(e);for(const r of n.elements)t=t.filter(o=>!Ro(o,r));return{arrayValue:{values:t}}}class jc extends Bc{constructor(e,t){super(),this.O=e,this.k=t}}function Wv(n){return Nn(n.integerValue||n.doubleValue)}function Kv(n){return Jg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fh{constructor(e,t){this.field=e,this.transform=t}}class wI{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class im{}function bI(n,e,t){n instanceof cp?function(r,o,l){const f=r.value.clone(),m=cb(r.fieldTransforms,o,l.transformResults);f.setAll(m),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof $c?function(r,o,l){if(!rm(r.precondition,o))return void o.convertToUnknownDocument(l.version);const f=cb(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(lb(r)),m.setAll(f),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Yv(n,e,t){var o;n instanceof cp?function(r,o,l){if(!rm(r.precondition,o))return;const f=r.value.clone(),m=db(r.fieldTransforms,l,o);f.setAll(m),o.convertToFoundDocument(ub(o),f).setHasLocalMutations()}(n,e,t):n instanceof $c?function(r,o,l){if(!rm(r.precondition,o))return;const f=db(r.fieldTransforms,l,o),m=o.data;m.setAll(lb(r)),m.setAll(f),o.convertToFoundDocument(ub(o),m).setHasLocalMutations()}(n,e,t):rm(n.precondition,o=e)&&o.convertToNoDocument(Et.min())}function EI(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=zv(r.transform,o||null);null!=l&&(null==t&&(t=yi.empty()),t.set(r.field,l))}return t||null}function ab(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&sh(t,r,(o,l)=>function ob(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof qa&&r instanceof qa||t instanceof Rl&&r instanceof Rl?sh(t.elements,r.elements,Ro):t instanceof jc&&r instanceof jc?Ro(t.k,r.k):t instanceof Ol&&r instanceof Ol);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function ub(n){return n.isFoundDocument()?n.version:Et.min()}class cp extends im{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class $c extends im{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function lb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function cb(n,e,t){const r=new Map;Tt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],f=l.transform,m=e.data.field(l.field);r.set(l.field,sb(f,m,t[o]))}return r}function db(n,e,t){const r=new Map;for(const o of n){const l=o.transform,f=t.data.field(o.field);r.set(o.field,_I(l,f,e))}return r}class dp extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Qv extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class CI{constructor(e){this.count=e}}var Or,Kt;function Jv(n){switch(n){default:return lt();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function Xv(n){if(void 0===n)return Hr("GRPC error has no .code"),be.UNKNOWN;switch(n){case Or.OK:return be.OK;case Or.CANCELLED:return be.CANCELLED;case Or.UNKNOWN:return be.UNKNOWN;case Or.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Or.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Or.INTERNAL:return be.INTERNAL;case Or.UNAVAILABLE:return be.UNAVAILABLE;case Or.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Or.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Or.NOT_FOUND:return be.NOT_FOUND;case Or.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Or.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Or.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Or.ABORTED:return be.ABORTED;case Or.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Or.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Or.DATA_LOSS:return be.DATA_LOSS;default:return lt()}}(Kt=Or||(Or={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";class sr{constructor(e,t){this.comparator=e,this.root=t||ii.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hp(this.root,e,this.comparator,!0)}}class hp{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ii{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:ii.RED,this.left=null!=o?o:ii.EMPTY,this.right=null!=l?l:ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new ii(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return ii.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1,ii.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new ii(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pn(this.comparator);return t.data=e,t}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hc(n){return n.hasNext()?n.getNext():void 0}const hb=new sr(tt.comparator);function Ks(){return hb}const Gc=new sr(tt.comparator);function t_(){return Gc}const II=new sr(tt.comparator),ph=new Pn(tt.comparator);function pn(...n){let e=ph;for(const t of n)e=e.add(t);return e}const n_=new Pn(qt);function r_(){return n_}class gh{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,mh.createSynthesizedTargetChangeForCurrentChange(e,t)),new gh(Et.min(),r,r_(),Ks(),pn())}}class mh{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new mh(gr.EMPTY_BYTE_STRING,t,pn(),pn(),pn())}}class i_{constructor(e,t,r,o){this.M=e,this.removedTargetIds=t,this.key=r,this.$=o}}class _t{constructor(e,t){this.targetId=e,this.F=t}}class fb{constructor(e,t,r=gr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class pb{constructor(){this.B=0,this.L=gb(),this.U=gr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=pn(),t=pn(),r=pn();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:lt()}}),new mh(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=gb()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class DI{constructor(e){this.nt=e,this.st=new Map,this.it=Ks(),this.rt=fp(),this.ot=new Pn(qt)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.F.count,o=this.wt(t);if(o){const l=o.target;if(ap(l))if(0===r){const f=new tt(l.path);this.at(t,f,jn.newNoDocument(f,Et.min()))}else Tt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,f)=>{const m=this.wt(f);if(m){if(l.current&&ap(m.target)){const C=new tt(m.target.path);null!==this.it.get(C)||this.It(f,C)||this.at(f,C,jn.newNoDocument(C,e))}l.j&&(t.set(f,l.H()),l.J())}});let r=pn();this.rt.forEach((l,f)=>{let m=!0;f.forEachWhile(C=>{const A=this.wt(C);return!A||2===A.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,f)=>f.setReadTime(e));const o=new gh(e,t,this.ot,this.it,r);return this.it=Ks(),this.rt=fp(),this.ot=new Pn(qt),o}ut(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new pb,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new Pn(qt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new pb),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function fp(){return new sr(tt.comparator)}function gb(){return new sr(tt.comparator)}const sm={asc:"ASCENDING",desc:"DESCENDING"},om={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class or{constructor(e,t){this.databaseId=e,this.N=t}}function am(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s_(n,e){return n.N?e.toBase64():e.toUint8Array()}function TI(n,e){return am(n,e.toTimestamp())}function si(n){return Tt(!!n),Et.fromTimestamp(function(e){const t=xl(e);return new qr(t.seconds,t.nanos)}(n))}function um(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function o_(n){const e=Qt.fromString(n);return Tt(Ib(e)),e}function yh(n,e){return um(n.databaseId,e.path)}function ma(n,e){const t=o_(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(vh(t))}function a_(n,e){return um(n.databaseId,e)}function mb(n){const e=o_(n);return 4===e.length?Qt.emptyPath():vh(e)}function pp(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vh(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yb(n,e,t){return{name:yh(n,e),fields:t.value.mapValue.fields}}function vb(n,e,t){const r=ma(n,e.name),o=si(e.updateTime),l=new yi({mapValue:{fields:e.fields}}),f=jn.newFoundDocument(r,o,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function _h(n,e){let t;if(e instanceof cp)t={update:yb(n,e.key,e.value)};else if(e instanceof dp)t={delete:yh(n,e.key)};else if(e instanceof $c)t={update:yb(n,e.key,e.data),updateMask:kI(e.fieldMask)};else{if(!(e instanceof Qv))return lt();t={verify:yh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const f=l.transform;if(f instanceof Ol)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qa)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Rl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof jc)return{fieldPath:l.field.canonicalString(),increment:f.k};throw lt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:TI(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:lt()),t;var o}function cm(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?kr.updateTime(si(o.updateTime)):void 0!==o.exists?kr.exists(o.exists):kr.none():kr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,f){let m=null;"setToServerValue"in f?(Tt("REQUEST_TIME"===f.setToServerValue),m=new Ol):"appendMissingElements"in f?m=new qa(f.appendMissingElements.values||[]):"removeAllFromArray"in f?m=new Rl(f.removeAllFromArray.values||[]):"increment"in f?m=new jc(l,f.increment):lt();const C=mi.fromServerFormat(f.fieldPath);return new fh(C,m)}(n,o)):[];var o;if(e.update){const o=ma(n,e.update.name),l=new yi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Ha((e.updateMask.fieldPaths||[]).map(A=>mi.fromServerFormat(A)));return new $c(o,l,f,t,r)}return new cp(o,l,t,r)}if(e.delete){const o=ma(n,e.delete);return new dp(o,t)}if(e.verify){const o=ma(n,e.verify);return new Qv(o,t)}return lt()}function wb(n,e){return{documents:[a_(n,e.path)]}}function wh(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=a_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=a_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(C){if(0===C.length)return;const A=C.map(R=>function(F){if("=="===F.op){if(ip(F.value))return{unaryFilter:{field:qc(F.field),op:"IS_NAN"}};if(Uv(F.value))return{unaryFilter:{field:qc(F.field),op:"IS_NULL"}}}else if("!="===F.op){if(ip(F.value))return{unaryFilter:{field:qc(F.field),op:"IS_NOT_NAN"}};if(Uv(F.value))return{unaryFilter:{field:qc(F.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qc(F.field),op:Eb(F.op),value:F.value}}}(R));return 1===A.length?A[0]:{compositeFilter:{op:"AND",filters:A}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(C){if(0!==C.length)return C.map(A=>{return{field:qc((R=A).field),direction:xI(R.dir)};var R})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=(A=e.limit,n.N||Ml(A)?A:{value:A});var A,m,C;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(C=e.endAt).inclusive,values:C.position}),t}function bh(n){let e=mb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Tt(1===r);const R=t.from[0];R.allDescendants?o=R.collectionId:e=e.child(R.collectionId)}let l=[];t.where&&(l=bb(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(R=>{return new dh(zc((F=R).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));let m=null;t.limit&&(m=function(R){let F;return F="object"==typeof R?R.value:R,Ml(F)?null:F}(t.limit));let C=null;var R;t.startAt&&(C=new Lc((R=t.startAt).values||[],!!R.before));let A=null;return t.endAt&&(A=function(R){return new Lc(R.values||[],!R.before)}(t.endAt)),ga(e,o,f,l,m,"F",C,A)}function bb(n){return n?void 0!==n.unaryFilter?[Cb(n)]:void 0!==n.fieldFilter?[MI(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>bb(e)).reduce((e,t)=>e.concat(t)):lt():[]}function xI(n){return sm[n]}function Eb(n){return om[n]}function qc(n){return{fieldPath:n.canonicalString()}}function zc(n){return mi.fromServerFormat(n.fieldPath)}function MI(n){return ss.create(zc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Cb(n){switch(n.unaryFilter.op){case"IS_NAN":const e=zc(n.unaryFilter.field);return ss.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=zc(n.unaryFilter.field);return ss.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zc(n.unaryFilter.field);return ss.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zc(n.unaryFilter.field);return ss.create(o,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}function kI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ib(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function vi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=OI(e)),e=UT(n.get(t),e);return OI(e)}function UT(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function OI(n){return n+"\x01\x01"}function Mu(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const f=n.indexOf("\x01",l);switch((f<0||f>t)&&lt(),n.charAt(f+1)){case"\x01":const m=n.substring(l,f);let C;0===o.length?C=m:(o+=m,C=o,o=""),r.push(C);break;case"\x10":o+=n.substring(l,f),o+="\0";break;case"\x11":o+=n.substring(l,f+1);break;default:lt()}l=f+2}return new Qt(r)}class Db{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Pi{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Pi.store="owner",Pi.key="owner";class Nl{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Nl.store="mutationQueues",Nl.keyPath="userId";class Fn{constructor(e,t,r,o,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=l}}Fn.store="mutations",Fn.keyPath="batchId",Fn.userMutationsIndex="userMutationsIndex",Fn.userMutationsKeyPath=["userId","batchId"];class _i{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,vi(t)]}static key(e,t,r){return[e,vi(t),r]}}_i.store="documentMutations",_i.PLACEHOLDER=new _i;class gp{constructor(e,t){this.path=e,this.readTime=t}}class RI{constructor(e,t){this.path=e,this.version=t}}class ar{constructor(e,t,r,o,l,f){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=l,this.parentPath=f}}ar.store="remoteDocuments",ar.readTimeIndex="readTimeIndex",ar.readTimeIndexPath="readTime",ar.collectionReadTimeIndex="collectionReadTimeIndex",ar.collectionReadTimeIndexPath=["parentPath","readTime"];class za{constructor(e){this.byteSize=e}}za.store="remoteDocumentGlobal",za.key="remoteDocumentGlobalKey";class Cs{constructor(e,t,r,o,l,f,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=f,this.query=m}}Cs.store="targets",Cs.keyPath="targetId",Cs.queryTargetsIndexName="queryTargetsIndex",Cs.queryTargetsKeyPath=["canonicalId","targetId"];class wi{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}wi.store="targetDocuments",wi.keyPath=["targetId","path"],wi.documentTargetsIndex="documentTargetsIndex",wi.documentTargetsKeyPath=["path","targetId"];class Is{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}Is.key="targetGlobalKey",Is.store="targetGlobal";class Zc{constructor(e,t){this.collectionId=e,this.parent=t}}Zc.store="collectionParents",Zc.keyPath=["collectionId","parent"];class ku{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}ku.store="clientMetadata",ku.keyPath="clientId";class ya{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}ya.store="bundles",ya.keyPath="bundleId";class Eh{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Eh.store="namedQueries",Eh.keyPath="name";class Ds{constructor(e,t,r){this.indexId=e,this.collectionGroup=t,this.fields=r}}Ds.store="indexConfiguration",Ds.keyPath="indexId",Ds.collectionGroupIndex="collectionGroupIndex",Ds.collectionGroupIndexPath="collectionGroup";class Po{constructor(e,t,r,o,l,f){this.indexId=e,this.uid=t,this.sequenceNumber=r,this.readTime=o,this.documentKey=l,this.largestBatchId=f}}Po.store="indexState",Po.keyPath=["indexId","uid"],Po.sequenceNumberIndex="sequenceNumberIndex",Po.sequenceNumberIndexPath=["uid","sequenceNumber"];class Ys{constructor(e,t,r,o,l){this.indexId=e,this.uid=t,this.arrayValue=r,this.directionalValue=o,this.documentKey=l}}Ys.store="indexEntries",Ys.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Ys.documentKeyIndex="documentKeyIndex",Ys.documentKeyIndexPath=["indexId","uid","documentKey"];class oi{constructor(e,t,r,o,l,f){this.userId=e,this.collectionPath=t,this.documentId=r,this.collectionGroup=o,this.largestBatchId=l,this.overlayMutation=f}}oi.store="documentOverlays",oi.keyPath=["userId","collectionPath","documentId"],oi.collectionPathOverlayIndex="collectionPathOverlayIndex",oi.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],oi.collectionGroupOverlayIndex="collectionGroupOverlayIndex",oi.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const u_=[Nl.store,Fn.store,_i.store,ar.store,Cs.store,Pi.store,Is.store,wi.store,ku.store,za.store,Zc.store,ya.store,Eh.store],Tb=[...u_,oi.store],l_=[...Tb,Ds.store,Po.store,Ys.store],Ab="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,r)=>{t(e)})}static reject(e){return new Ce((t,r)=>{r(e)})}static waitFor(e){return new Ce((t,r)=>{let o=0,l=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++l,f&&l===o&&t()},C=>r(C))}),f=!0,l===o&&t()})}static or(e){let t=Ce.resolve(!1);for(const r of e)t=t.next(o=>o?Ce.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class dm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Gr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Wc(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=d_(r.target.error);this.At.reject(new Wc(e,o))}}static open(e,t,r,o){try{return new dm(t,e.transaction(o,r))}catch(l){throw new Wc(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Sb(t)}}class va{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===va.vt((0,Bt.z$)())&&Hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),Yc(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,Bt.hl)())return!1;if(va.St())return!0;const e=(0,Bt.z$)(),t=va.vt(e),r=0<t&&t<10,o=va.Dt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}xt(e){var t=this;return(0,Ae.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=f=>{r(f.target.result)},l.onblocked=()=>{o(new Wc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const m=f.target.error;o("VersionError"===m.name?new Ne(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ne(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Wc(e,m))},l.onupgradeneeded=f=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.bt.kt(f.target.result,l.transaction,f.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=r=>t.Ot(r)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,Ae.Z)(function*(){const f="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.xt(e);const C=dm.open(l.db,e,f?"readonly":"readwrite",r),A=o(C).next(R=>(C.Pt(),R)).catch(R=>(C.abort(R),Ce.reject(R))).toPromise();return A.catch(()=>{}),yield C.Rt,A}catch(C){const A="FirebaseError"!==C.name&&m<3;if(je("SimpleDb","Transaction failed with error:",C.message,"Retrying:",A),l.close(),!A)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NI{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return Yc(this.$t.delete())}}class Wc extends Ne{constructor(e,t){super(be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Kc(n){return"IndexedDbTransactionError"===n.name}class Sb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yc(r)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),Yc(this.store.add(e))}get(e){return Yc(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),Yc(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),Yc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.Kt(o,(f,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new Ce((l,f)=>{o.onerror=m=>{f(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}Gt(e,t){je("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(l,f,m)=>m.delete())}Qt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}Wt(e){const t=this.cursor({});return new Ce((r,o)=>{t.onerror=l=>{const f=d_(l.target.error);o(f)},t.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(m=>{m?f.continue():r()}):r()}})}Kt(e,t){const r=[];return new Ce((o,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const m=f.target.result;if(!m)return void o();const C=new NI(m),A=t(m.primaryKey,m.value,C);if(A instanceof Ce){const R=A.catch(F=>(C.done(),Ce.reject(F)));r.push(R)}C.isDone?o():null===C.Lt?m.continue():m.continue(C.Lt)}}).next(()=>Ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yc(n){return new Ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=d_(r.target.error);t(o)}})}let xb=!1;function d_(n){const e=va.vt((0,Bt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xb||(xb=!0,setTimeout(()=>{throw r},0)),r}}return n}class Mb extends c_{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function ai(n,e){const t=Qe(n);return va.Nt(t.zt,e)}class h_{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&bI(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Yv(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Yv(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Et.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&sh(this.mutations,e.mutations,(t,r)=>ab(t,r))&&sh(this.baseMutations,e.baseMutations,(t,r)=>ab(t,r))}}class f_{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Tt(e.mutations.length===r.length);let o=II;const l=e.mutations;for(let f=0;f<l.length;f++)o=o.insert(l[f].key,r[f].version);return new f_(e,t,r,o)}}class p_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ou{constructor(e,t,r,o,l=Et.min(),f=Et.min(),m=gr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m}withSequenceNumber(e){return new Ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class g_{constructor(e){this.Ht=e}}function kb(n,e){let t;if(e.document)t=vb(n.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=tt.fromSegments(e.noDocument.path),o=Jc(e.noDocument.readTime);t=jn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const r=tt.fromSegments(e.unknownDocument.path),o=Jc(e.unknownDocument.version);t=jn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(m_(e.readTime)),t}function Ob(n,e){const t=hm(e.readTime),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const o={name:yh(f=n.Ht,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:am(f,m.version.toTimestamp())};return new ar(null,null,o,e.hasCommittedMutations,t,r)}var f,m;if(e.isNoDocument()){const o=e.key.path.toArray(),l=Qc(e.version),f=e.hasCommittedMutations;return new ar(null,new gp(o,l),null,f,t,r)}if(e.isUnknownDocument()){const o=e.key.path.toArray(),l=Qc(e.version);return new ar(new RI(o,l),null,null,!0,t,r)}return lt()}function hm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function m_(n){const e=new qr(n[0],n[1]);return Et.fromTimestamp(e)}function Qc(n){const e=n.toTimestamp();return new Db(e.seconds,e.nanoseconds)}function Jc(n){const e=new qr(n.seconds,n.nanoseconds);return Et.fromTimestamp(e)}function Pl(n,e){const t=(e.baseMutations||[]).map(l=>cm(n.Ht,l));for(let l=0;l<e.mutations.length-1;++l){const f=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(f.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>cm(n.Ht,l)),o=qr.fromMillis(e.localWriteTimeMs);return new h_(e.batchId,o,t,r)}function Xc(n){const e=Jc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Jc(n.lastLimboFreeSnapshotVersion):Et.min();let r;var o;return void 0!==n.query.documents?(Tt(1===(o=n.query).documents.length),r=No(hh(mb(o.documents[0])))):r=No(bh(n.query)),new Ou(r,n.targetId,0,n.lastListenSequenceNumber,e,t,gr.fromBase64String(n.resumeToken))}function y_(n,e){const t=Qc(e.snapshotVersion),r=Qc(e.lastLimboFreeSnapshotVersion);let o;o=ap(e.target)?wb(n.Ht,e.target):wh(n.Ht,e.target);const l=e.resumeToken.toBase64();return new Cs(e.targetId,lh(e.target),t,l,e.sequenceNumber,r,o)}function mp(n){const e=bh({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?eb(e,e.limit,"L"):e}function v_(n,e){return new p_(e.largestBatchId,cm(n.Ht,e.overlayMutation))}function Rb(n,e){const t=e.path.lastSegment();return[n,vi(e.path.popLast()),t]}class __{getBundleMetadata(e,t){return Nb(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Jc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Nb(e).put({bundleId:(r=t).id,createTime:Qc(si(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return w_(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:mp(o.bundledQuery),readTime:Jc(o.readTime)};var o})}saveNamedQuery(e,t){return w_(e).put({name:(r=t).name,readTime:Qc(si(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Nb(n){return ai(n,ya.store)}function w_(n){return ai(n,Eh.store)}class b_{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new b_(e,t.uid||"")}getOverlay(e,t){return Ch(e).get(Rb(this.userId,t)).next(r=>r?v_(this.O,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach(l=>{const f=new p_(t,l);o.push(this.Yt(e,f))}),Ce.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(f=>o.add(vi(f.getCollectionPath())));const l=[];return o.forEach(f=>{const m=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);l.push(Ch(e).Gt(oi.collectionPathOverlayIndex,m))}),Ce.waitFor(l)}getOverlaysForCollection(e,t,r){const o=new Map,l=vi(t),f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Ch(e).qt(oi.collectionPathOverlayIndex,f).next(m=>{for(const C of m){const A=v_(this.O,C);o.set(A.getKey(),A)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=new Map;let f;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ch(e).Qt({index:oi.collectionGroupOverlayIndex,range:m},(C,A,R)=>{const F=v_(this.O,A);l.size<o||F.largestBatchId===f?(l.set(F.getKey(),F),f=F.largestBatchId):R.done()}).next(()=>l)}Yt(e,t){return Ch(e).put(function(r,o,l){const[f,m,C]=Rb(o,l.mutation.key);return new oi(o,m,C,l.mutation.key.getCollectionGroup(),l.largestBatchId,_h(r.Ht,l.mutation))}(this.O,this.userId,t))}}function Ch(n){return ai(n,oi.store)}class fm{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Nn(e.integerValue));else if("doubleValue"in e){const r=Nn(e.doubleValue);isNaN(r)?this.ee(t,13):(this.ee(t,15),oh(r)?t.ne(0):t.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se(`${r.seconds||""}`),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Ga(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(t,45),t.ne(r.latitude||0),t.ne(r.longitude||0)}else"mapValue"in e?Ro(e,K0)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):lt()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const r=e.fields||{};this.ee(t,55);for(const o of Object.keys(r))this.ie(o,t),this.Zt(r[o],t)}ae(e,t){const r=e.values||[];this.ee(t,50);for(const o of r)this.Zt(o,t)}ce(e,t){this.ee(t,37),tt.fromName(e).path.forEach(r=>{this.ee(t,60),this.he(r,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function Pb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function PI(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=Pb(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}fm.le=new fm;class FI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.de(r.value),r=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.me(r.value),r=t.next();this.ge()}ye(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.de(r);else if(r<2048)this.de(960|r>>>6),this.de(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.de(480|r>>>12),this.de(128|63&r>>>6),this.de(128|63&r);else{const o=t.codePointAt(0);this.de(240|o>>>18),this.de(128|63&o>>>12),this.de(128|63&o>>>6),this.de(128|63&o)}}this._e()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.me(r);else if(r<2048)this.me(960|r>>>6),this.me(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.me(480|r>>>12),this.me(128|63&r>>>6),this.me(128|63&r);else{const o=t.codePointAt(0);this.me(240|o>>>18),this.me(128|63&o>>>12),this.me(128|63&o>>>6),this.me(128|63&o)}}this.ge()}Ie(e){const t=this.Ee(e),r=PI(t);this.Te(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ae(e){const t=this.Ee(e),r=PI(t);this.Te(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class pm{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class LI{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class ed{constructor(){this.Se=new FI,this.De=new pm(this.Se),this.Ce=new LI(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class td{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}}function E_(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=tt.comparator(n.documentKey,e.documentKey),0!==t?t:(t=VI(n.arrayValue,e.arrayValue),0!==t?t:VI(n.directionalValue,e.directionalValue)))}function VI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Fb{constructor(){this.xe=new C_}addToCollectionParentIndex(e,t){return this.xe.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t,r){return Ce.resolve(pn())}getFieldIndex(e,t){return Ce.resolve(null)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}updateCollectionGroup(e,t,r){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class C_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Pn(Qt.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pn(Qt.comparator)).toArray()}}class UI{constructor(e){this.user=e,this.ke=new C_,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const l={collectionId:r,parent:vi(o)};return Lb(e).put(l)}return Ce.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Z0(t),""],!1,!0);return Lb(e).qt(o).next(l=>{for(const f of l){if(f.collectionId!==t)break;r.push(Mu(f.parent))}return r})}addFieldIndex(e,t){const r=yp(e),o=new Ds((l=t).indexId,l.collectionGroup,l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind]));var l;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=yp(e),o=vp(e),l=gm(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,r){return Ce.resolve(pn())}getFieldIndex(e,t){return Ce.resolve(null)}Oe(e,t){const r=new ed;for(const o of e.fields.filter(f=>2!==f.kind)){const l=t.data.field(o.fieldPath);if(null==l)return null;const f=r.Ne(o.kind);fm.le.Xt(l,f)}return r.Ve()}Me(e){const t=new ed;return fm.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const r=yp(e),o=vp(e);return(t?r.qt(Ds.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const f=[];return Ce.forEach(l,m=>o.get([m.indexId,this.uid]).next(C=>{f.push(function(A,R){const F=R?new uh(R.sequenceNumber,new jv(Jc(R.readTime),new tt(Mu(R.documentKey)),R.largestBatchId)):uh.empty(),W=A.fields.map(([ie,Se])=>new op(mi.fromServerFormat(ie),Se));return new Xg(A.indexId,A.collectionGroup,W,F)}(m,C))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>r.indexState.sequenceNumber-o.indexState.sequenceNumber),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=yp(e),l=vp(e);return this.$e(e).next(f=>o.qt(Ds.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(m=>Ce.forEach(m,C=>{return l.put(new Po(C.indexId,this.user.uid||"",f,Qc((W=r).readTime),vi(W.documentKey.path),W.largestBatchId));var W})))}updateIndexEntries(e,t){const r=new Map;return Ce.forEach(t,(o,l)=>{const f=r.get(o.collectionGroup);return(f?Ce.resolve(f):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),Ce.forEach(m,C=>this.Fe(e,o,C).next(A=>{const R=this.Be(l,C);return A.isEqual(R)?Ce.resolve():this.Le(e,l,A,R)}))))})}Ue(e,t,r){return gm(e).put(new Ys(r.indexId,this.uid,r.arrayValue,r.directionalValue,vi(t.key.path)))}qe(e,t,r){return gm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,vi(t.key.path)])}Fe(e,t,r){const o=gm(e);let l=new Pn(E_);return o.Qt({index:Ys.documentKeyIndex,range:IDBKeyRange.only([r.indexId,this.uid,vi(t.path)])},(f,m)=>{l=l.add(new td(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}Be(e,t){let r=new Pn(E_);const o=this.Oe(t,e);if(null==o)return r;const l=t.fields.find(m=>2===m.kind);if(null!=l){const f=e.data.field(l.fieldPath);if(Jg(f))for(const m of f.arrayValue.values||[])r=r.add(new td(t.indexId,e.key,this.Me(m),o))}else r=r.add(new td(t.indexId,e.key,new Uint8Array,o));return r}Le(e,t,r,o){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,m,C,A,R){const F=f.getIterator(),W=m.getIterator();let ie=Hc(F),Se=Hc(W);for(;ie||Se;){let We=!1,at=!1;if(ie&&Se){const jt=C(ie,Se);jt<0?at=!0:jt>0&&(We=!0)}else null!=ie?at=!0:We=!0;We?(A(Se),Se=Hc(W)):at?(R(ie),ie=Hc(F)):(ie=Hc(F),Se=Hc(W))}}(r,o,E_,f=>{l.push(this.Ue(e,t,f))},f=>{l.push(this.qe(e,t,f))}),Ce.waitFor(l)}$e(e){let t=1;return vp(e).Qt({index:Po.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}}function Lb(n){return ai(n,Zc.store)}function gm(n){return ai(n,Ys.store)}function yp(n){return ai(n,Ds.store)}function vp(n){return ai(n,Po.store)}const mm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new bi(e,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ih(n,e,t){const r=n.store(Fn.store),o=n.store(_i.store),l=[],f=IDBKeyRange.only(t.batchId);let m=0;const C=r.Qt({range:f},(R,F,W)=>(m++,W.delete()));l.push(C.next(()=>{Tt(1===m)}));const A=[];for(const R of t.mutations){const F=_i.key(e,R.key.path,t.batchId);l.push(o.delete(F)),A.push(R.key)}return Ce.waitFor(l).next(()=>A)}function ym(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw lt();e=n.noDocument}return JSON.stringify(e).length}bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(41943040,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);class vm{constructor(e,t,r,o){this.userId=e,this.O=t,this.indexManager=r,this.referenceDelegate=o,this.Ke={}}static Jt(e,t,r,o){Tt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new vm(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fl(e).Qt({index:Fn.userMutationsIndex,range:r},(o,l,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Dh(e),f=Fl(e);return f.add({}).next(m=>{Tt("number"==typeof m);const C=new h_(m,t,r,o),A=function(W,ie,Se){const We=Se.baseMutations.map(jt=>_h(W.Ht,jt)),at=Se.mutations.map(jt=>_h(W.Ht,jt));return new Fn(ie,Se.batchId,Se.localWriteTime.toMillis(),We,at)}(this.O,this.userId,C),R=[];let F=new Pn((W,ie)=>qt(W.canonicalString(),ie.canonicalString()));for(const W of o){const ie=_i.key(this.userId,W.key.path,m);F=F.add(W.key.path.popLast()),R.push(f.put(A)),R.push(l.put(ie,_i.PLACEHOLDER))}return F.forEach(W=>{R.push(this.indexManager.addToCollectionParentIndex(e,W))}),e.addOnCommittedListener(()=>{this.Ke[m]=C.keys()}),Ce.waitFor(R).next(()=>C)})}lookupMutationBatch(e,t){return Fl(e).get(t).next(r=>r?(Tt(r.userId===this.userId),Pl(this.O,r)):null)}Ge(e,t){return this.Ke[t]?Ce.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Ke[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Fl(e).Qt({index:Fn.userMutationsIndex,range:o},(f,m,C)=>{m.userId===this.userId&&(Tt(m.batchId>=r),l=Pl(this.O,m)),C.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Fl(e).Qt({index:Fn.userMutationsIndex,range:t,reverse:!0},(o,l,f)=>{r=l.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fl(e).qt(Fn.userMutationsIndex,t).next(r=>r.map(o=>Pl(this.O,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=_i.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Dh(e).Qt({range:o},(f,m,C)=>{const[A,R,F]=f,W=Mu(R);if(A===this.userId&&t.path.isEqual(W))return Fl(e).get(F).next(ie=>{if(!ie)throw lt();Tt(ie.userId===this.userId),l.push(Pl(this.O,ie))});C.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pn(qt);const o=[];return t.forEach(l=>{const f=_i.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(f),C=Dh(e).Qt({range:m},(A,R,F)=>{const[W,ie,Se]=A,We=Mu(ie);W===this.userId&&l.path.isEqual(We)?r=r.add(Se):F.done()});o.push(C)}),Ce.waitFor(o).next(()=>this.je(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=_i.prefixForPath(this.userId,r),f=IDBKeyRange.lowerBound(l);let m=new Pn(qt);return Dh(e).Qt({range:f},(C,A,R)=>{const[F,W,ie]=C,Se=Mu(W);F===this.userId&&r.isPrefixOf(Se)?Se.length===o&&(m=m.add(ie)):R.done()}).next(()=>this.je(e,m))}je(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Fl(e).get(l).next(f=>{if(null===f)throw lt();Tt(f.userId===this.userId),r.push(Pl(this.O,f))}))}),Ce.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Ih(e.zt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),Ce.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ce.resolve();const r=IDBKeyRange.lowerBound(_i.prefixForUser(this.userId)),o=[];return Dh(e).Qt({range:r},(l,f,m)=>{if(l[0]===this.userId){const C=Mu(l[1]);o.push(C)}else m.done()}).next(()=>{Tt(0===o.length)})})}containsKey(e,t){return I_(e,this.userId,t)}We(e){return _m(e).get(this.userId).next(t=>t||new Nl(this.userId,-1,""))}}function I_(n,e,t){const r=_i.prefixForPath(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let f=!1;return Dh(n).Qt({range:l,jt:!0},(m,C,A)=>{const[R,F,W]=m;R===e&&F===o&&(f=!0),A.done()}).next(()=>f)}function Fl(n){return ai(n,Fn.store)}function Dh(n){return ai(n,_i.store)}function _m(n){return ai(n,Nl.store)}class nd{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new nd(0)}static Je(){return new nd(-1)}}class BT{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const r=new nd(t.highestTargetId);return t.highestTargetId=r.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(t=>Et.fromTimestamp(new qr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Ye(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Xe(e,o)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(r=>(r.targetCount+=1,this.tn(t,r),this.Xe(e,r))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Th(e).delete(t.targetId)).next(()=>this.Ye(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.Xe(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Th(e).Qt((f,m)=>{const C=Xc(m);C.sequenceNumber<=t&&null===r.get(C.targetId)&&(o++,l.push(this.removeTargetData(e,C)))}).next(()=>Ce.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Th(e).Qt((r,o)=>{const l=Xc(o);t(l)})}Ye(e){return Vb(e).get(Is.key).next(t=>(Tt(null!==t),t))}Xe(e,t){return Vb(e).put(Is.key,t)}Ze(e,t){return Th(e).put(y_(this.O,t))}tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ye(e).next(t=>t.targetCount)}getTargetData(e,t){const r=lh(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Th(e).Qt({range:o,index:Cs.queryTargetsIndexName},(f,m,C)=>{const A=Xc(m);ir(t,A.target)&&(l=A,C.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Qs(e);return t.forEach(f=>{const m=vi(f.path);o.push(l.put(new wi(r,m))),o.push(this.referenceDelegate.addReference(e,r,f))}),Ce.waitFor(o)}removeMatchingKeys(e,t,r){const o=Qs(e);return Ce.forEach(t,l=>{const f=vi(l.path);return Ce.waitFor([o.delete([r,f]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Qs(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Qs(e);let l=pn();return o.Qt({range:r,jt:!0},(f,m,C)=>{const A=Mu(f[1]),R=new tt(A);l=l.add(R)}).next(()=>l)}containsKey(e,t){const r=vi(t.path),o=IDBKeyRange.bound([r],[Z0(r)],!1,!0);let l=0;return Qs(e).Qt({index:wi.documentTargetsIndex,jt:!0,range:o},([f,m],C,A)=>{0!==f&&(l++,A.done())}).next(()=>l>0)}Tt(e,t){return Th(e).get(t).next(r=>r?Xc(r):null)}}function Th(n){return ai(n,Cs.store)}function Vb(n){return ai(n,Is.store)}function Qs(n){return ai(n,wi.store)}function Ll(n){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,Ae.Z)(function*(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==Ab)throw n;je("LocalStore","Unexpectedly lost primary lease")}),Vl.apply(this,arguments)}function BI([n,e],[t,r]){const o=qt(n,t);return 0===o?qt(e,r):o}class Ub{constructor(e){this.en=e,this.buffer=new Pn(BI),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();BI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jI{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const r=this.on?3e5:6e4;je("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ae.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Kc(o)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ll(o)}yield t.un(e)}))}}class jT{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(Es.A);const r=new Ub(t);return this.an.forEachTarget(e,o=>r.rn(o.sequenceNumber)).next(()=>this.an.ln(e,o=>r.rn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.an.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(mm)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mm):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let r,o,l,f,m,C,A;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(F=>(F>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${F}`),o=this.params.maximumSequenceNumbersToCollect):o=F,f=Date.now(),this.nthSequenceNumber(e,o))).next(F=>(r=F,m=Date.now(),this.removeTargets(e,r,t))).next(F=>(l=F,C=Date.now(),this.removeOrphanedDocuments(e,r))).next(F=>(A=Date.now(),qg()<=vl.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-R}ms\n\tDetermined least recently used ${o} in `+(m-f)+`ms\n\tRemoved ${l} targets in `+(C-m)+`ms\n\tRemoved ${F} documents in `+(A-C)+`ms\nTotal Duration: ${A-R}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:F})))}}class Bb{constructor(e,t){this.db=e,this.garbageCollector=new jT(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}dn(e){let t=0;return this.ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(r,o)=>t(o))}addReference(e,t,r){return D_(e,r)}removeReference(e,t,r){return D_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return D_(e,t)}wn(e,t){return function(r,o){let l=!1;return _m(r).Wt(f=>I_(r,f,o).next(m=>(m&&(l=!0),Ce.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this._n(e,(f,m)=>{if(m<=t){const C=this.wn(e,f).next(A=>{if(!A)return l++,r.getEntry(e,f).next(()=>(r.removeEntry(f,Et.min()),Qs(e).delete([0,vi(f.path)])))});o.push(C)}}).next(()=>Ce.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return D_(e,t)}_n(e,t){const r=Qs(e);let o,l=Es.A;return r.Qt({index:wi.documentTargetsIndex},([f,m],{path:C,sequenceNumber:A})=>{0===f?(l!==Es.A&&t(new tt(Mu(o)),l),l=A,o=C):l=Es.A}).next(()=>{l!==Es.A&&t(new tt(Mu(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function D_(n,e){return Qs(n).put((r=n.currentSequenceNumber,new wi(0,vi(e.path),r)));var r}class rd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){Sl(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return Zg(this.inner)}}class wm{constructor(){this.changes=new rd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $I{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ul(e).put(bm(t),r)}removeEntry(e,t){const r=Ul(e),o=bm(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.mn(e,r)))}getEntry(e,t){return Ul(e).get(bm(t)).next(r=>this.gn(t,r))}yn(e,t){return Ul(e).get(bm(t)).next(r=>({document:this.gn(t,r),size:ym(r)}))}getEntries(e,t){let r=Ks();return this.pn(e,t,(o,l)=>{const f=this.gn(o,l);r=r.insert(o,f)}).next(()=>r)}In(e,t){let r=Ks(),o=new sr(tt.comparator);return this.pn(e,t,(l,f)=>{const m=this.gn(l,f);r=r.insert(l,m),o=o.insert(l,ym(f))}).next(()=>({documents:r,En:o}))}pn(e,t,r){if(t.isEmpty())return Ce.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let f=l.getNext();return Ul(e).Qt({range:o},(m,C,A)=>{const R=tt.fromSegments(m);for(;f&&tt.comparator(f,R)<0;)r(f,null),f=l.getNext();f&&f.isEqual(R)&&(r(f,C),f=l.hasNext()?l.getNext():null),f?A.Ut(f.path.toArray()):A.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getAll(e,t,r){let o=Ks();const l=t.length+1,f={};if(r.isEqual(Et.min())){const m=t.toArray();f.range=IDBKeyRange.lowerBound(m)}else{const m=t.toArray(),C=hm(r);f.range=IDBKeyRange.lowerBound([m,C],!0),f.index=ar.collectionReadTimeIndex}return Ul(e).Qt(f,(m,C,A)=>{if(m.length!==l)return;const R=this.gn(tt.fromSegments(m),C);t.isPrefixOf(R.key.path)?o=o.insert(R.key,R):A.done()}).next(()=>o)}newChangeBuffer(e){return new jb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $b(e).get(za.key).next(t=>(Tt(!!t),t))}mn(e,t){return $b(e).put(za.key,t)}gn(e,t){if(t){const r=kb(this.O,t);if(!r.isNoDocument()||!r.version.isEqual(Et.min()))return r}return jn.newInvalidDocument(e)}}class jb extends wm{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new rd(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Pn((l,f)=>qt(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const m=this.An.get(l);if(f.isValidDocument()){const C=Ob(this.Tn.O,f);o=o.add(l.path.popLast()),r+=ym(C)-m,t.push(this.Tn.addEntry(e,l,C))}else if(r-=m,this.trackRemovals){const C=Ob(this.Tn.O,f.convertToNoDocument(Et.min()));t.push(this.Tn.addEntry(e,l,C))}else t.push(this.Tn.removeEntry(e,l))}),o.forEach(l=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Tn.updateMetadata(e,r)),Ce.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(r=>(this.An.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:r,En:o})=>(o.forEach((l,f)=>{this.An.set(l,f)}),r))}}function $b(n){return ai(n,za.store)}function Ul(n){return ai(n,ar.store)}function bm(n){return n.path.toArray()}class HI{constructor(e){this.O=e}kt(e,t,r,o){const l=new dm("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore(Pi.store),(m=e).createObjectStore(Nl.store,{keyPath:Nl.keyPath}),m.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(_i.store),Hb(e),function(m){m.createObjectStore(ar.store)}(e));let f=Ce.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(wi.store),m.deleteObjectStore(Cs.store),m.deleteObjectStore(Is.store)}(e),Hb(e)),f=f.next(()=>function(m){const C=m.store(Is.store),A=new Is(0,0,Et.min().toTimestamp(),0);return C.put(Is.key,A)}(l))),r<4&&o>=4&&(0!==r&&(f=f.next(()=>function(m,C){return C.store(Fn.store).qt().next(A=>{m.deleteObjectStore(Fn.store),m.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0});const R=C.store(Fn.store),F=A.map(W=>R.put(W));return Ce.waitFor(F)})}(e,l))),f=f.next(()=>{!function(m){m.createObjectStore(ku.store,{keyPath:ku.keyPath})}(e)})),r<5&&o>=5&&(f=f.next(()=>this.Rn(l))),r<6&&o>=6&&(f=f.next(()=>(function(m){m.createObjectStore(za.store)}(e),this.Pn(l)))),r<7&&o>=7&&(f=f.next(()=>this.bn(l))),r<8&&o>=8&&(f=f.next(()=>this.vn(e,l))),r<9&&o>=9&&(f=f.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const C=m.objectStore(ar.store);C.createIndex(ar.readTimeIndex,ar.readTimeIndexPath,{unique:!1}),C.createIndex(ar.collectionReadTimeIndex,ar.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(f=f.next(()=>this.Vn(l))),r<11&&o>=11&&(f=f.next(()=>{(function(m){m.createObjectStore(ya.store,{keyPath:ya.keyPath})})(e),function(m){m.createObjectStore(Eh.store,{keyPath:Eh.keyPath})}(e)})),r<12&&o>=12&&(f=f.next(()=>{!function(m){const C=m.createObjectStore(oi.store,{keyPath:oi.keyPath});C.createIndex(oi.collectionPathOverlayIndex,oi.collectionPathOverlayIndexPath,{unique:!1}),C.createIndex(oi.collectionGroupOverlayIndex,oi.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),r<13&&o>=13&&(f=f.next(()=>{!function(m){m.createObjectStore(Ds.store,{keyPath:Ds.keyPath,autoIncrement:!0}).createIndex(Ds.collectionGroupIndex,Ds.collectionGroupIndexPath,{unique:!1}),m.createObjectStore(Po.store,{keyPath:Po.keyPath}).createIndex(Po.sequenceNumberIndex,Po.sequenceNumberIndexPath,{unique:!1}),m.createObjectStore(Ys.store,{keyPath:Ys.keyPath}).createIndex(Ys.documentKeyIndex,Ys.documentKeyIndexPath,{unique:!1})}(e)})),f}Pn(e){let t=0;return e.store(ar.store).Qt((r,o)=>{t+=ym(o)}).next(()=>{const r=new za(t);return e.store(za.store).put(za.key,r)})}Rn(e){const t=e.store(Nl.store),r=e.store(Fn.store);return t.qt().next(o=>Ce.forEach(o,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt(Fn.userMutationsIndex,f).next(m=>Ce.forEach(m,C=>{Tt(C.userId===l.userId);const A=Pl(this.O,C);return Ih(e,l.userId,A).next(()=>{})}))}))}bn(e){const t=e.store(wi.store),r=e.store(ar.store);return e.store(Is.store).get(Is.key).next(o=>{const l=[];return r.Qt((f,m)=>{const C=new Qt(f),A=[0,vi(C)];l.push(t.get(A).next(R=>R?Ce.resolve():t.put(new wi(0,vi(C),o.highestListenSequenceNumber))))}).next(()=>Ce.waitFor(l))})}vn(e,t){e.createObjectStore(Zc.store,{keyPath:Zc.keyPath});const r=t.store(Zc.store),o=new C_,l=f=>{if(o.add(f)){const m=f.lastSegment(),C=f.popLast();return r.put({collectionId:m,parent:vi(C)})}};return t.store(ar.store).Qt({jt:!0},(f,m)=>{const C=new Qt(f);return l(C.popLast())}).next(()=>t.store(_i.store).Qt({jt:!0},([f,m,C],A)=>{const R=Mu(m);return l(R.popLast())}))}Vn(e){const t=e.store(Cs.store);return t.Qt((r,o)=>{const l=Xc(o),f=y_(this.O,l);return t.put(f)})}}function Hb(n){n.createObjectStore(wi.store,{keyPath:wi.keyPath}).createIndex(wi.documentTargetsIndex,wi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Cs.store,{keyPath:Cs.keyPath}).createIndex(Cs.queryTargetsIndexName,Cs.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Is.store)}const T_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class A_{constructor(e,t,r,o,l,f,m,C,A,R,F=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Sn=l,this.window=f,this.document=m,this.Dn=A,this.Cn=R,this.schemaVersion=F,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=W=>Promise.resolve(),!A_.Vt())throw new Ne(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bb(this,o),this.Bn=t+"main",this.O=new g_(C),this.Ln=new va(this.Bn,this.schemaVersion,new HI(this.O)),this.Un=new BT(this.referenceDelegate,this.O),this.qn=new $I(this.O),this.Kn=new __,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===R&&Hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(be.FAILED_PRECONDITION,T_);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new Es(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var r=(0,Ae.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,Ae.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Bl(e).put(new ku(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(Kc(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return _p(e).get(Pi.key).next(t=>Ce.resolve(this.ts(t)))}es(e){return Bl(e).delete(this.clientId)}ns(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=ai(r,ku.store);return o.qt().next(l=>{const f=e.rs(l,18e5),m=l.filter(C=>-1===f.indexOf(C));return Ce.forEach(m,C=>o.delete(C.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Gn)for(const r of t)e.Gn.removeItem(e.os(r.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?Ce.resolve(!0):_p(e).get(Pi.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new Ne(be.FAILED_PRECONDITION,T_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bl(e).qt().next(r=>void 0===this.rs(r,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[Pi.store,ku.store],t=>{const r=new Mb(t,Es.A);return e.Xn(r).next(()=>e.es(r))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>Bl(e).qt().next(t=>this.rs(t,18e5).map(r=>r.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return vm.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new UI(e)}getDocumentOverlayCache(e){return b_.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,r){je("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=13===(f=this.schemaVersion)?l_:12===f?Tb:11===f?u_:void lt();var f;let m;return this.Ln.runTransaction(e,o,l,C=>(m=new Mb(C,this.Nn?this.Nn.next():Es.A),"readwrite-primary"===t?this.Jn(m).next(A=>!!A||this.Yn(m)).next(A=>{if(!A)throw Hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new Ne(be.FAILED_PRECONDITION,Ab);return r(m)}).next(A=>this.Zn(m).next(()=>A)):this._s(m).next(()=>r(m)))).then(C=>(m.raiseOnCommittedEvent(),C))}_s(e){return _p(e).get(Pi.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(be.FAILED_PRECONDITION,T_)})}Zn(e){const t=new Pi(this.clientId,this.allowTabSynchronization,Date.now());return _p(e).put(Pi.key,t)}static Vt(){return va.Vt()}Xn(e){const t=_p(e);return t.get(Pi.key).next(r=>this.ts(r)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete(Pi.key)):Ce.resolve())}ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Hr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,Bt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const r=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return je("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Hr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){Hr("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _p(n){return ai(n,Pi.store)}function Bl(n){return ai(n,ku.store)}function Em(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Gb{constructor(e,t){this.progress=e,this.ws=t}}class qb{constructor(e,t,r){this.qn=e,this.gs=t,this.indexManager=r}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.ps(e,t,r))}ps(e,t,r){return this.qn.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Is(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}Es(e,t){return this.qn.getEntries(e,t).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Is(t,r))}As(e,t,r){return tt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Rs(e,t.path):tm(t)?this.Ps(e,t,r):this.bs(e,t,r);var o}Rs(e,t){return this.ys(e,new tt(t)).next(r=>{let o=t_();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ps(e,t,r){const o=t.collectionGroup;let l=t_();return this.indexManager.getCollectionParents(e,o).next(f=>Ce.forEach(f,m=>{const C=(A=t,R=m.child(o),new pa(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,R;return this.bs(e,C,r).next(A=>{A.forEach((R,F)=>{l=l.insert(R,F)})})}).next(()=>l))}bs(e,t,r){let o;return this.qn.getAll(e,t.path,r).next(l=>(o=l,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const f of l)for(const m of f.mutations){const C=m.key;let A=o.get(C);null==A&&(A=jn.newInvalidDocument(C),o=o.insert(C,A)),Yv(m,A,f.localWriteTime),A.isFoundDocument()||(o=o.remove(C))}}).next(()=>(o.forEach((l,f)=>{Uc(t,f)||(o=o.remove(l))}),o))}}class Cm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.vs=r,this.Vs=o}static Ss(e,t){let r=pn(),o=pn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Cm(e,t.fromCache,r,o)}}class S_{Ds(e){this.Cs=e}As(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Et.min())?this.Ns(e,t):this.Cs.Es(e,o).next(l=>{const f=this.xs(t,l);return(em(t)||zs(t))&&this.ks(t.limitType,f,o,r)?this.Ns(e,t):(qg()<=vl.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lp(t)),this.Cs.As(e,t,r).next(m=>(f.forEach(C=>{m=m.insert(C.key,C)}),m)))});var l}xs(e,t){let r=new Pn(nb(e));return t.forEach((o,l)=>{Uc(e,l)&&(r=r.add(l))}),r}ks(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ns(e,t){return qg()<=vl.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",lp(t)),this.Cs.As(e,t,Et.min())}}class zb{constructor(e,t,r,o){this.persistence=e,this.Os=t,this.O=o,this.Ms=new sr(qt),this.$s=new rd(l=>lh(l),ir),this.Fs=Et.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new qb(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Zb(n,e,t,r){return new zb(n,e,t,r)}function Wb(n,e){return x_.apply(this,arguments)}function x_(){return x_=(0,Ae.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.gs.getAllMutationBatches(r).next(l=>(o=l,t.Ls(e),t.gs.getAllMutationBatches(r))).next(l=>{const f=[],m=[];let C=pn();for(const A of o){f.push(A.batchId);for(const R of A.mutations)C=C.add(R.key)}for(const A of l){m.push(A.batchId);for(const R of A.mutations)C=C.add(R.key)}return t.Us.Es(r,C).next(A=>({qs:A,removedBatchIds:f,addedBatchIds:m}))})})}),x_.apply(this,arguments)}function GI(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,C,A){const R=C.batch,F=R.keys();let W=Ce.resolve();return F.forEach(ie=>{W=W.next(()=>A.getEntry(m,ie)).next(Se=>{const We=C.docVersions.get(ie);Tt(null!==We),Se.version.compareTo(We)<0&&(R.applyToRemoteDocument(Se,C),Se.isValidDocument()&&(Se.setReadTime(C.commitVersion),A.addEntry(Se)))})}),W.next(()=>f.gs.removeMutationBatch(m,R))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.gs.performConsistencyCheck(r)).next(()=>t.Us.Es(r,o))})}function M_(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function qI(n,e){const t=Qe(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((A,R)=>{const F=o.get(R);if(!F)return;m.push(t.Un.removeMatchingKeys(l,A.removedDocuments,R).next(()=>t.Un.addMatchingKeys(l,A.addedDocuments,R)));let W=F.withSequenceNumber(l.currentSequenceNumber);var ie,Se,We;e.targetMismatches.has(R)?W=W.withResumeToken(gr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(A.resumeToken,r)),o=o.insert(R,W),Se=W,We=A,(0===(ie=F).resumeToken.approximateByteSize()||Se.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||We.addedDocuments.size+We.modifiedDocuments.size+We.removedDocuments.size>0)&&m.push(t.Un.updateTargetData(l,W))});let C=Ks();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,A))}),m.push(Ah(l,f,e.documentUpdates).next(A=>{C=A})),!r.isEqual(Et.min())){const A=t.Un.getLastRemoteSnapshotVersion(l).next(R=>t.Un.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(A)}return Ce.waitFor(m).next(()=>f.apply(l)).next(()=>t.Us.Ts(l,C)).next(()=>C)}).then(l=>(t.Ms=o,l))}function Ah(n,e,t){let r=pn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Ks();return t.forEach((f,m)=>{const C=o.get(f);m.isNoDocument()&&m.version.isEqual(Et.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!C.isValidDocument()||m.version.compareTo(C.version)>0||0===m.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):je("LocalStore","Ignoring outdated watch update for ",f,". Current version:",C.version," Watch version:",m.version)}),l})}function zI(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(r,e)))}function jl(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Un.getTargetData(r,e).next(l=>l?(o=l,Ce.resolve(o)):t.Un.allocateTargetId(r).next(f=>(o=new Ou(e,f,0,r.currentSequenceNumber),t.Un.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ms.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.$s.set(e,r.targetId)),r})}function os(n,e,t){return k_.apply(this,arguments)}function k_(){return k_=(0,Ae.Z)(function*(n,e,t){const r=Qe(n),o=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Kc(f))throw f;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.$s.delete(o.target)}),k_.apply(this,arguments)}function Sh(n,e,t){const r=Qe(n);let o=Et.min(),l=pn();return r.persistence.runTransaction("Execute query","readonly",f=>function(m,C,A){const R=Qe(m),F=R.$s.get(A);return void 0!==F?Ce.resolve(R.Ms.get(F)):R.Un.getTargetData(C,A)}(r,f,No(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(f,m.targetId).next(C=>{l=C})}).next(()=>r.Os.As(f,e,t?o:Et.min(),t?l:pn())).next(m=>({documents:m,Ks:l})))}function xh(n,e){const t=Qe(n),r=Qe(t.Un),o=t.Ms.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Tt(l,e).next(f=>f?f.target:null))}function Kb(n){const e=Qe(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,l){const f=Qe(r);let m=Ks(),C=hm(l);const A=Ul(o),R=IDBKeyRange.lowerBound(C,!0);return A.Qt({index:ar.readTimeIndex,range:R},(F,W)=>{const ie=kb(f.O,W);m=m.insert(ie.key,ie),C=W.readTime}).next(()=>({ws:m,readTime:m_(C)}))}(e.Bs,t,e.Fs)).then(({ws:t,readTime:r})=>(e.Fs=r,t))}function O_(){return O_=(0,Ae.Z)(function*(n){const e=Qe(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=Ul(r);let l=Et.min();return o.Qt({index:ar.readTimeIndex,reverse:!0},(f,m,C)=>{m.readTime&&(l=m_(m.readTime)),C.done()}).next(()=>l)}(t)).then(t=>{e.Fs=t})}),O_.apply(this,arguments)}function Mh(){return Mh=(0,Ae.Z)(function*(n,e,t,r){const o=Qe(n);let l=pn(),f=Ks();for(const A of t){const R=e.Gs(A.metadata.name);A.document&&(l=l.add(R));const F=e.js(A);F.setReadTime(e.Qs(A.metadata.readTime)),f=f.insert(R,F)}const m=o.Bs.newChangeBuffer({trackRemovals:!0}),C=yield jl(o,(A=r,No(hh(Qt.fromString(`__bundle__/docs/${A}`)))));var A;return o.persistence.runTransaction("Apply bundle documents","readwrite",A=>Ah(A,m,f).next(R=>(m.apply(A),R)).next(R=>o.Un.removeMatchingKeysForTargetId(A,C.targetId).next(()=>o.Un.addMatchingKeys(A,l,C.targetId)).next(()=>o.Us.Ts(A,R)).next(()=>R)))}),Mh.apply(this,arguments)}function WI(n,e){return R_.apply(this,arguments)}function R_(){return R_=(0,Ae.Z)(function*(n,e,t=pn()){const r=yield jl(n,No(mp(e.bundledQuery))),o=Qe(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const f=si(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return o.Kn.saveNamedQuery(l,e);const m=r.withResumeToken(gr.EMPTY_BYTE_STRING,f);return o.Ms=o.Ms.insert(m.targetId,m),o.Un.updateTargetData(l,m).next(()=>o.Un.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.Un.addMatchingKeys(l,t,r.targetId)).next(()=>o.Kn.saveNamedQuery(l,e))})}),R_.apply(this,arguments)}class Yb{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var r;return this.Ws.set(t.id,{id:(r=t).id,version:r.version,createTime:si(r.createTime)}),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(r=t).name,query:mp(r.bundledQuery),readTime:si(r.readTime)}),Ce.resolve();var r}}class Qb{constructor(){this.overlays=new sr(tt.comparator),this.Hs=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach(o=>{this.Yt(e,t,o)}),Ce.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Hs.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Hs.delete(r)),Ce.resolve()}getOverlaysForCollection(e,t,r){const o=new Map,l=t.length+1,f=new tt(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const C=m.getNext().value,A=C.getKey();if(!t.isPrefixOf(A.path))break;A.path.length===l&&C.largestBatchId>r&&o.set(C.getKey(),C)}return Ce.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new sr((A,R)=>A-R);const f=this.overlays.getIterator();for(;f.hasNext();){const A=f.getNext().value;if(A.getKey().getCollectionGroup()===t&&A.largestBatchId>r){let R=l.get(A.largestBatchId);null===R&&(R=new Map,l=l.insert(A.largestBatchId,R)),R.set(A.getKey(),A)}}const m=new Map,C=l.getIterator();for(;C.hasNext()&&(C.getNext().value.forEach((A,R)=>m.set(R,A)),!(m.size>=o)););return Ce.resolve(m)}Yt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);null!==o&&this.Hs.get(o.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new p_(t,r));let l=this.Hs.get(t);void 0===l&&(l=new Set,this.Hs.set(t,l)),l.add(r.key)}}class wp{constructor(){this.Js=new Pn(zr.Ys),this.Xs=new Pn(zr.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const r=new zr(e,t);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ei(new zr(e,t))}ni(e,t){e.forEach(r=>this.removeReference(r,t))}si(e){const t=new tt(new Qt([])),r=new zr(t,e),o=new zr(t,e+1),l=[];return this.Xs.forEachInRange([r,o],f=>{this.ei(f),l.push(f.key)}),l}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new tt(new Qt([])),r=new zr(t,e),o=new zr(t,e+1);let l=pn();return this.Xs.forEachInRange([r,o],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new zr(e,0),r=this.Js.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class zr{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return tt.comparator(e.key,t.key)||qt(e.oi,t.oi)}static Zs(e,t){return qt(e.oi,t.oi)||tt.comparator(e.key,t.key)}}class KI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new Pn(zr.Ys)}checkEmpty(e){return Ce.resolve(0===this.gs.length)}addMutationBatch(e,t,r,o){const l=this.ci;this.ci++;const f=new h_(l,t,r,o);this.gs.push(f);for(const m of o)this.ui=this.ui.add(new zr(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ce.resolve(f)}lookupMutationBatch(e,t){return Ce.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.hi(t+1),l=o<0?0:o;return Ce.resolve(this.gs.length>l?this.gs[l]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return Ce.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zr(t,0),o=new zr(t,Number.POSITIVE_INFINITY),l=[];return this.ui.forEachInRange([r,o],f=>{const m=this.ai(f.oi);l.push(m)}),Ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pn(qt);return t.forEach(o=>{const l=new zr(o,0),f=new zr(o,Number.POSITIVE_INFINITY);this.ui.forEachInRange([l,f],m=>{r=r.add(m.oi)})}),Ce.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;tt.isDocumentKey(l)||(l=l.child(""));const f=new zr(new tt(l),0);let m=new Pn(qt);return this.ui.forEachWhile(C=>{const A=C.key.path;return!!r.isPrefixOf(A)&&(A.length===o&&(m=m.add(C.oi)),!0)},f),Ce.resolve(this.li(m))}li(e){const t=[];return e.forEach(r=>{const o=this.ai(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Tt(0===this.fi(t.batchId,"removed")),this.gs.shift();let r=this.ui;return Ce.forEach(t.mutations,o=>{const l=new zr(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,t){const r=new zr(t,0),o=this.ui.firstAfterOrEqual(r);return Ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ce.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class YI{constructor(e){this.di=e,this.docs=new sr(tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,f=this.di(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ce.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=Ks();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():jn.newInvalidDocument(o))}),Ce.resolve(r)}getAll(e,t,r){let o=Ks();const l=new tt(t.child("")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:m,value:{document:C}}=f.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||C.readTime.compareTo(r)<=0||(o=o.insert(C.key,C.mutableCopy()))}return Ce.resolve(o)}_i(e,t){return Ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $T(this)}getSize(e){return Ce.resolve(this.size)}}class $T extends wm{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Tn.addEntry(e,o)):this.Tn.removeEntry(r)}),Ce.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class N_{constructor(e){this.persistence=e,this.wi=new rd(t=>lh(t),ir),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.mi=0,this.gi=new wp,this.targetCount=0,this.yi=nd.He()}forEachTarget(e,t){return this.wi.forEach((r,o)=>t(o)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.mi&&(this.mi=t),Ce.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new nd(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Ze(t),Ce.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.wi.forEach((f,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.wi.delete(f),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ce.waitFor(l).next(()=>o)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.wi.get(t)||null;return Ce.resolve(r)}addMatchingKeys(e,t,r){return this.gi.ti(t,r),Ce.resolve()}removeMatchingKeys(e,t,r){this.gi.ni(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(f=>{l.push(o.markPotentiallyOrphaned(e,f))}),Ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.gi.ri(t);return Ce.resolve(r)}containsKey(e,t){return Ce.resolve(this.gi.containsKey(t))}}class P_{constructor(e,t){this.pi={},this.overlays={},this.Nn=new Es(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new N_(this),this.indexManager=new Fb,this.qn=new YI(r=>this.referenceDelegate.Ii(r)),this.O=new g_(t),this.Kn=new Yb(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.pi[e.toKey()];return r||(r=new KI(t,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,r){je("MemoryPersistence","Starting transaction:",e);const o=new Jb(this.Nn.next());return this.referenceDelegate.Ei(),r(o).next(l=>this.referenceDelegate.Ti(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return Ce.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,t)))}}class Jb extends c_{constructor(e){super(),this.currentSequenceNumber=e}}class bp{constructor(e){this.persistence=e,this.Ri=new wp,this.Pi=null}static bi(e){return new bp(e)}get vi(){if(this.Pi)return this.Pi;throw lt()}addReference(e,t,r){return this.Ri.addReference(r,t),this.vi.delete(r.toString()),Ce.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.vi.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(o=>this.vi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.vi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.vi,r=>{const o=tt.fromPath(r);return this.Vi(e,o).next(l=>{l||t.removeEntry(o,Et.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(r=>{r?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return Ce.or([()=>Ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function Dm(n,e){return`firestore_clients_${n}_${e}`}function Xb(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function F_(n,e){return`firestore_targets_${n}_${e}`}class Tm{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Si(e,t,r){const o=JSON.parse(r);let l,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(l=new Ne(o.error.code,o.error.message))),f?new Tm(e,t,o.state,l):(Hr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ep{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Si(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Ne(r.error.code,r.error.message))),l?new Ep(e,r.state,o):(Hr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=r_();for(let f=0;o&&f<r.activeTargetIds.length;++f)o=Kg(r.activeTargetIds[f]),l=l.add(r.activeTargetIds[f]);return o?new Cp(e,l):(Hr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ip{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ip(t.clientId,t.onlineState):(Hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Am{constructor(){this.activeTargetIds=r_()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sm{constructor(e,t,r,o,l){this.window=e,this.Sn=t,this.persistenceKey=r,this.xi=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new sr(qt),this.started=!1,this.$i=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Fi=Dm(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new Am),this.Li=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.ds();for(const o of t){if(o===e.xi)continue;const l=e.getItem(Dm(e.persistenceKey,o));if(l){const f=Cp.Si(o,l);f&&(e.Mi=e.Mi.insert(f.clientId,f))}}e.ji();const r=e.storage.getItem(e.Ki);if(r){const o=e.Qi(r);o&&e.Wi(o)}for(const o of e.$i)e.Oi(o);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,r){this.Hi(e,t,r),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(F_(this.persistenceKey,e));if(r){const o=Ep.Si(e,r);o&&(t=o.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(F_(this.persistenceKey,e))}updateQueryState(e,t,r){this.Xi(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ji(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const r=e;if(r.storageArea===this.storage){if(je("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Fi)return void Hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==r.key)if(t.Li.test(r.key)){if(null==r.newValue){const o=t.er(r.key);return t.nr(o,null)}{const o=t.sr(r.key,r.newValue);if(o)return t.nr(o.clientId,o)}}else if(t.Ui.test(r.key)){if(null!==r.newValue){const o=t.ir(r.key,r.newValue);if(o)return t.rr(o)}}else if(t.qi.test(r.key)){if(null!==r.newValue){const o=t.cr(r.key,r.newValue);if(o)return t.ur(o)}}else if(r.key===t.Ki){if(null!==r.newValue){const o=t.Qi(r.newValue);if(o)return t.Wi(o)}}else if(r.key===t.Bi){const o=function(l){let f=Es.A;if(null!=l)try{const m=JSON.parse(l);Tt("number"==typeof m),f=m}catch(m){Hr("SharedClientState","Failed to read sequence number from WebStorage",m)}return f}(r.newValue);o!==Es.A&&t.sequenceNumberHandler(o)}else if(r.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(r)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,r){const o=new Tm(this.currentUser,e,t,r),l=Xb(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Di())}Ji(e){const t=Xb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,r){const o=F_(this.persistenceKey,e),l=new Ep(e,t,r);this.setItem(o,l.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const r=this.er(e);return Cp.Si(r,t)}ir(e,t){const r=this.Ui.exec(e),o=Number(r[1]);return Tm.Si(new gi(void 0!==r[2]?r[2]:null),o,t)}cr(e,t){const r=this.qi.exec(e),o=Number(r[1]);return Ep.Si(o,t)}Qi(e){return Ip.Si(e)}rr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const r=t?this.Mi.insert(e,t):this.Mi.remove(e),o=this.zi(this.Mi),l=this.zi(r),f=[],m=[];return l.forEach(C=>{o.has(C)||f.push(C)}),o.forEach(C=>{l.has(C)||m.push(C)}),this.syncEngine.dr(f,m).then(()=>{this.Mi=r})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=r_();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class L_{constructor(){this._r=new Am,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,r){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new Am,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class eE{mr(e){}shutdown(){}}class tE{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class rE{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class QI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,r,o,l){const f=this.$r(e,t);je("RestConnection","Sending: ",f,r);const m={};return this.Fr(m,o,l),this.Br(e,f,m,r).then(C=>(je("RestConnection","Received: ",C),C),C=>{throw Xf("RestConnection",`${e} failed with error: `,C,"url: ",f,"request:",r),C})}Lr(e,t,r,o,l){return this.Mr(e,t,r,o,l)}Fr(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}$r(e,t){return`${this.kr}/v1/${t}:${nE[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,r,o){return new Promise((l,f)=>{const m=new H0;m.listenOnce($0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Gg.NO_ERROR:const A=m.getResponseJson();je("Connection","XHR received:",JSON.stringify(A)),l(A);break;case Gg.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),f(new Ne(be.DEADLINE_EXCEEDED,"Request time out"));break;case Gg.HTTP_ERROR:const R=m.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',R,"response text:",m.getResponseText()),R>0){const F=m.getResponseJson().error;if(F&&F.status&&F.message){const W=function(ie){const Se=ie.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(Se)>=0?Se:be.UNKNOWN}(F.status);f(new Ne(W,F.message))}else f(new Ne(be.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Ne(be.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const C=JSON.stringify(o);m.send(t,"POST",C,r,15)})}Ur(e,t,r){const o=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=B0(),f=j0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new rI({})),this.Fr(m.initMessageHeaders,t,r),(0,Bt.uI)()||(0,Bt.b$)()||(0,Bt.d)()||(0,Bt.w1)()||(0,Bt.Mn)()||(0,Bt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const C=o.join("");je("Connection","Creating WebChannel: "+C,m);const A=l.createWebChannel(C,m);let R=!1,F=!1;const W=new rE({Ar:Se=>{F?je("Connection","Not sending because WebChannel is closed:",Se):(R||(je("Connection","Opening WebChannel transport."),A.open(),R=!0),je("Connection","WebChannel sending:",Se),A.send(Se))},Rr:()=>A.close()}),ie=(Se,We,at)=>{Se.listen(We,jt=>{try{at(jt)}catch(rn){setTimeout(()=>{throw rn},0)}})};return ie(A,Jf.EventType.OPEN,()=>{F||je("Connection","WebChannel transport opened.")}),ie(A,Jf.EventType.CLOSE,()=>{F||(F=!0,je("Connection","WebChannel transport closed"),W.Cr())}),ie(A,Jf.EventType.ERROR,Se=>{F||(F=!0,Xf("Connection","WebChannel transport errored:",Se),W.Cr(new Ne(be.UNAVAILABLE,"The operation could not be completed")))}),ie(A,Jf.EventType.MESSAGE,Se=>{var We;if(!F){const at=Se.data[0];Tt(!!at);const jt=at,rn=jt.error||(null===(We=jt[0])||void 0===We?void 0:We.error);if(rn){je("Connection","WebChannel received error:",rn);const lr=rn.status;let zt=function(Vu){const AC=Or[Vu];if(void 0!==AC)return Xv(AC)}(lr),Jn=rn.message;void 0===zt&&(zt=be.INTERNAL,Jn="Unknown error status: "+lr+" with message "+rn.message),F=!0,W.Cr(new Ne(zt,Jn)),A.close()}else je("Connection","WebChannel received:",at),W.Nr(at)}}),ie(f,nI.STAT_EVENT,Se=>{Se.stat===Ov.PROXY?je("Connection","Detected buffering proxy"):Se.stat===Ov.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{W.Dr()},0),W}}function V_(){return"undefined"!=typeof window?window:null}function xm(){return"undefined"!=typeof document?document:null}function Zr(n){return new or(n,!0)}class $l{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Sn=e,this.timerId=t,this.qr=r,this.Kr=o,this.Gr=l,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),o=Math.max(0,t-r);o>0&&je("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,o,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class iE{constructor(e,t,r,o,l,f,m,C){this.Sn=e,this.Xr=r,this.Zr=o,this.eo=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=C,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new $l(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,Ae.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,Ae.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var r=this;return(0,Ae.Z)(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(Hr(t.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):t&&t.code===be.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.no===t&&this.po(r,o)},r=>{e(()=>{const o=new Ne(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(o)})})}po(e,t){const r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(o=>{r(()=>this.Io(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}uo(){var e=this;this.state=5,this.ro.Hr((0,Ae.Z)(function*(){e.state=0,e.start()}))}Io(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JI extends iE{constructor(e,t,r,o,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,f),this.O=l}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function lm(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(C=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:lt(),o=e.targetChange.targetIds||[],l=function(C,A){return C.N?(Tt(void 0===A||"string"==typeof A),gr.fromBase64String(A||"")):(Tt(void 0===A||A instanceof Uint8Array),gr.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(C){const A=void 0===C.code?be.UNKNOWN:Xv(C.code);return new Ne(A,C.message||"")}(f);t=new fb(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=ma(n,r.document.name),l=si(r.document.updateTime),f=new yi({mapValue:{fields:r.document.fields}}),m=jn.newFoundDocument(o,l,f);t=new i_(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=ma(n,r.document),l=r.readTime?si(r.readTime):Et.min(),f=jn.newNoDocument(o,l);t=new i_([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,o=ma(n,r.document);t=new i_([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return lt();{const r=e.filter,l=new CI(r.count||0);t=new _t(r.targetId,l)}}var C;return t}(this.O,e),r=function(o){if(!("targetChange"in o))return Et.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Et.min():l.readTime?si(l.readTime):Et.min()}(e);return this.listener.To(t,r)}Ao(e){const t={};t.database=pp(this.O),t.addTarget=function(o,l){let f;const m=l.target;return f=ap(m)?{documents:wb(o,m)}:{query:wh(o,m)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?f.resumeToken=s_(o,l.resumeToken):l.snapshotVersion.compareTo(Et.min())>0&&(f.readTime=am(o,l.snapshotVersion.toTimestamp())),f}(this.O,e);const r=function SI(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.fo(t)}Ro(e){const t={};t.database=pp(this.O),t.removeTarget=e,this.fo(t)}}class HT extends iE{constructor(e,t,r,o,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,f),this.O=l,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function _b(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(r,o){let l=si(r.updateTime?r.updateTime:o);return l.isEqual(Et.min())&&(l=si(o)),new wI(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.Vo(r,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=pp(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>_h(this.O,r))};this.fo(t)}}class Dp extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=r,this.O=o,this.Co=!1}No(){if(this.Co)throw new Ne(be.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.eo.Mr(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(be.UNKNOWN,o.toString())})}Lr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.eo.Lr(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(be.UNKNOWN,o.toString())})}terminate(){this.Co=!0}}class XI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Hr(t),this.Oo=!1):je("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class U_{constructor(e,t,r,o,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=l,this.jo.mr(m=>{r.enqueueAndForget((0,Ae.Z)(function*(){var C;Ru(f)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,Ae.Z)(function*(A){const R=Qe(A);R.Ko.add(4),yield kh(R),R.Qo.set("Unknown"),R.Ko.delete(4),yield Tp(R)}),function(A){return C.apply(this,arguments)})(f))}))}),this.Qo=new XI(r,o)}}function Tp(n){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,Ae.Z)(function*(n){if(Ru(n))for(const e of n.Go)yield e(!0)}),Mm.apply(this,arguments)}function kh(n){return B_.apply(this,arguments)}function B_(){return B_=(0,Ae.Z)(function*(n){for(const e of n.Go)yield e(!1)}),B_.apply(this,arguments)}function Oh(n,e){const t=Qe(n);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),sE(t)?Sp(t):Mp(t).co()&&km(t,e))}function Rh(n,e){const t=Qe(n),r=Mp(t);t.qo.delete(e),r.co()&&Ap(t,e),0===t.qo.size&&(r.co()?r.ho():Ru(t)&&t.Qo.set("Unknown"))}function km(n,e){n.Wo.Z(e.targetId),Mp(n).Ao(e)}function Ap(n,e){n.Wo.Z(e),Mp(n).Ro(e)}function Sp(n){n.Wo=new DI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qo.get(e)||null}),Mp(n).start(),n.Qo.Mo()}function sE(n){return Ru(n)&&!Mp(n).oo()&&n.qo.size>0}function Ru(n){return 0===Qe(n).Ko.size}function oE(n){n.Wo=void 0}function aE(n){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,Ae.Z)(function*(n){n.qo.forEach((e,t)=>{km(n,e)})}),Nh.apply(this,arguments)}function uE(n,e){return j_.apply(this,arguments)}function j_(){return j_=(0,Ae.Z)(function*(n,e){oE(n),sE(n)?(n.Qo.Bo(e),Sp(n)):n.Qo.set("Unknown")}),j_.apply(this,arguments)}function $_(n,e,t){return xp.apply(this,arguments)}function xp(){return xp=(0,Ae.Z)(function*(n,e,t){if(n.Qo.set("Online"),e instanceof fb&&2===e.state&&e.cause)try{yield(r=(0,Ae.Z)(function*(o,l){const f=l.cause;for(const m of l.targetIds)o.qo.has(m)&&(yield o.remoteSyncer.rejectListen(m,f),o.qo.delete(m),o.Wo.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield H_(n,r)}else if(e instanceof i_?n.Wo.ct(e):e instanceof _t?n.Wo._t(e):n.Wo.ht(e),!t.isEqual(Et.min()))try{const r=yield M_(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const f=o.Wo.yt(l);return f.targetChanges.forEach((m,C)=>{if(m.resumeToken.approximateByteSize()>0){const A=o.qo.get(C);A&&o.qo.set(C,A.withResumeToken(m.resumeToken,l))}}),f.targetMismatches.forEach(m=>{const C=o.qo.get(m);if(!C)return;o.qo.set(m,C.withResumeToken(gr.EMPTY_BYTE_STRING,C.snapshotVersion)),Ap(o,m);const A=new Ou(C.target,m,1,C.sequenceNumber);km(o,A)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){je("RemoteStore","Failed to raise snapshot:",r),yield H_(n,r)}var r}),xp.apply(this,arguments)}function H_(n,e,t){return G_.apply(this,arguments)}function G_(){return G_=(0,Ae.Z)(function*(n,e,t){if(!Kc(e))throw e;n.Ko.add(1),yield kh(n),n.Qo.set("Offline"),t||(t=()=>M_(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.Ko.delete(1),yield Tp(n)}))}),G_.apply(this,arguments)}function lE(n,e){return e().catch(t=>H_(n,t,e))}function id(n){return Om.apply(this,arguments)}function Om(){return Om=(0,Ae.Z)(function*(n){const e=Qe(n),t=sd(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;eD(e);)try{const o=yield zI(e.localStore,r);if(null===o){0===e.Uo.length&&t.ho();break}r=o.batchId,cE(e,o)}catch(o){yield H_(e,o)}q_(e)&&dE(e)}),Om.apply(this,arguments)}function eD(n){return Ru(n)&&n.Uo.length<10}function cE(n,e){n.Uo.push(e);const t=sd(n);t.co()&&t.bo&&t.vo(e.mutations)}function q_(n){return Ru(n)&&!sd(n).oo()&&n.Uo.length>0}function dE(n){sd(n).start()}function tD(n){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Ae.Z)(function*(n){sd(n).Do()}),Rm.apply(this,arguments)}function nD(n){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,Ae.Z)(function*(n){const e=sd(n);for(const t of n.Uo)e.vo(t.mutations)}),Nm.apply(this,arguments)}function hE(n,e,t){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,Ae.Z)(function*(n,e,t){const r=n.Uo.shift(),o=f_.from(r,e,t);yield lE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield id(n)}),Pm.apply(this,arguments)}function fE(n,e){return z_.apply(this,arguments)}function z_(){return z_=(0,Ae.Z)(function*(n,e){var t;e&&sd(n).bo&&(yield(t=(0,Ae.Z)(function*(r,o){if(Jv(l=o.code)&&l!==be.ABORTED){const f=r.Uo.shift();sd(r).ao(),yield lE(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield id(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),q_(n)&&dE(n)}),z_.apply(this,arguments)}function pE(n,e){return gE.apply(this,arguments)}function gE(){return gE=(0,Ae.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Ru(t);t.Ko.add(3),yield kh(t),r&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield Tp(t)}),gE.apply(this,arguments)}function Fm(n,e){return mE.apply(this,arguments)}function mE(){return mE=(0,Ae.Z)(function*(n,e){const t=Qe(n);e?(t.Ko.delete(2),yield Tp(t)):e||(t.Ko.add(2),yield kh(t),t.Qo.set("Unknown"))}),mE.apply(this,arguments)}function Mp(n){return n.zo||(n.zo=function(e,t,r){const o=Qe(e);return o.No(),new JI(t,o.eo,o.authCredentials,o.appCheckCredentials,o.O,r)}(n.datastore,n.asyncQueue,{Pr:aE.bind(null,n),vr:uE.bind(null,n),To:$_.bind(null,n)}),n.Go.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.zo.ao(),sE(n)?Sp(n):n.Qo.set("Unknown")):(yield n.zo.stop(),oE(n))});return function(t){return e.apply(this,arguments)}}())),n.zo}function sd(n){return n.Ho||(n.Ho=function(e,t,r){const o=Qe(e);return o.No(),new HT(t,o.eo,o.authCredentials,o.appCheckCredentials,o.O,r)}(n.datastore,n.asyncQueue,{Pr:tD.bind(null,n),vr:fE.bind(null,n),So:nD.bind(null,n),Vo:hE.bind(null,n)}),n.Go.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.Ho.ao(),yield id(n)):(yield n.Ho.stop(),n.Uo.length>0&&(je("RemoteStore",`Stopping write stream with ${n.Uo.length} pending writes`),n.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),n.Ho}class yE{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,o,l){const f=Date.now()+r,m=new yE(e,t,f,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kp(n,e){if(Hr("AsyncQueue",`${e}: ${n}`),Kc(n))return new Ne(be.UNAVAILABLE,`${e}: ${n}`);throw n}class Op{constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=t_(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new Op(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Op)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Op;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class rD{constructor(){this.Jo=new sr(tt.comparator)}track(e){const t=e.doc.key,r=this.Jo.get(t);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(t):1===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):lt():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Rp{constructor(e,t,r,o,l,f,m,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=C}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Rp(e,t,Op.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Lm{constructor(){this.Xo=void 0,this.listeners=[]}}class GT{constructor(){this.queries=new rd(e=>tb(e),up),this.onlineState="Unknown",this.Zo=new Set}}function Vm(n,e){return Np.apply(this,arguments)}function Np(){return Np=(0,Ae.Z)(function*(n,e){const t=Qe(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new Lm),o)try{l.Xo=yield t.onListen(r)}catch(f){const m=kp(f,`Initialization of query '${lp(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.tc(t.onlineState),l.Xo&&e.ec(l.Xo)&&jm(t)}),Np.apply(this,arguments)}function Um(n,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,Ae.Z)(function*(n,e){const t=Qe(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Bm.apply(this,arguments)}function qT(n,e){const t=Qe(n);let r=!1;for(const o of e){const f=t.queries.get(o.query);if(f){for(const m of f.listeners)m.ec(o)&&(r=!0);f.Xo=o}}r&&jm(t)}function Z_(n,e,t){const r=Qe(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function jm(n){n.Zo.forEach(e=>{e.next()})}class $m{constructor(e,t,r){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Rp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Rp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class vE{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class iD{constructor(e){this.O=e}Gs(e){return ma(this.O,e)}js(e){return e.metadata.exists?vb(this.O,e.document,!1):jn.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return si(e)}}class _E{constructor(e,t,r){this.hc=e,this.localStore=t,this.O=r,this.queries=[],this.documents=[],this.progress=wE(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,r=new iD(this.O);for(const o of e)if(o.metadata.queries){const l=r.Gs(o.metadata.name);for(const f of o.metadata.queries){const m=(t.get(f)||pn()).add(l);t.set(f,m)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function Im(n,e,t,r){return Mh.apply(this,arguments)}(e.localStore,new iD(e.O),e.documents,e.hc.id),r=e.fc(e.documents);for(const o of e.queries)yield WI(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new Gb(Object.assign({},e.progress),t)})()}}function wE(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Hm{constructor(e){this.key=e}}class bE{constructor(e){this.key=e}}class sD{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=pn(),this.mutatedKeys=pn(),this.mc=nb(e),this.gc=new Op(this.mc)}get yc(){return this.dc}Ic(e,t){const r=t?t.Ec:new rD,o=t?t.gc:this.gc;let l=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const C=em(this.query)&&o.size===this.query.limit?o.last():null,A=zs(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((R,F)=>{const W=o.get(R),ie=Uc(this.query,F)?F:null,Se=!!W&&this.mutatedKeys.has(W.key),We=!!ie&&(ie.hasLocalMutations||this.mutatedKeys.has(ie.key)&&ie.hasCommittedMutations);let at=!1;W&&ie?W.data.isEqual(ie.data)?Se!==We&&(r.track({type:3,doc:ie}),at=!0):this.Tc(W,ie)||(r.track({type:2,doc:ie}),at=!0,(C&&this.mc(ie,C)>0||A&&this.mc(ie,A)<0)&&(m=!0)):!W&&ie?(r.track({type:0,doc:ie}),at=!0):W&&!ie&&(r.track({type:1,doc:W}),at=!0,(C||A)&&(m=!0)),at&&(ie?(f=f.add(ie),l=We?l.add(R):l.delete(R)):(f=f.delete(R),l=l.delete(R)))}),em(this.query)||zs(this.query))for(;f.size>this.query.limit;){const R=em(this.query)?f.last():f.first();f=f.delete(R.key),l=l.delete(R.key),r.track({type:1,doc:R})}return{gc:f,Ec:r,ks:m,mutatedKeys:l}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const l=e.Ec.Yo();l.sort((A,R)=>function(F,W){const ie=Se=>{switch(Se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return ie(F)-ie(W)}(A.type,R.type)||this.mc(A.doc,R.doc)),this.Ac(r);const f=t?this.Rc():[],m=0===this.wc.size&&this.current?1:0,C=m!==this._c;return this._c=m,0!==l.length||C?{snapshot:new Rp(this.query,e.gc,o,l,e.mutatedKeys,0===m,C,!1),Pc:f}:{Pc:f}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new rD,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=pn(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const t=[];return e.forEach(r=>{this.wc.has(r)||t.push(new bE(r))}),this.wc.forEach(r=>{e.has(r)||t.push(new Hm(r))}),t}vc(e){this.dc=e.Ks,this.wc=pn();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return Rp.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class zT{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ZT{constructor(e){this.key=e,this.Sc=!1}}class oD{constructor(e,t,r,o,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Dc={},this.Cc=new rd(m=>tb(m),up),this.Nc=new Map,this.xc=new Set,this.kc=new sr(tt.comparator),this.Oc=new Map,this.Mc=new wp,this.$c={},this.Fc=new Map,this.Bc=nd.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function aD(n,e){return W_.apply(this,arguments)}function W_(){return W_=(0,Ae.Z)(function*(n,e){const t=cw(n);let r,o;const l=t.Cc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Vc();else{const f=yield jl(t.localStore,No(e));t.isPrimaryClient&&Oh(t.remoteStore,f);const m=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,o=yield EE(t,e,r,"current"===m)}return o}),W_.apply(this,arguments)}function EE(n,e,t,r){return K_.apply(this,arguments)}function K_(){return K_=(0,Ae.Z)(function*(n,e,t,r){n.Uc=(R,F,W)=>{return(ie=(0,Ae.Z)(function*(Se,We,at,jt){let rn=We.view.Ic(at);rn.ks&&(rn=yield Sh(Se.localStore,We.query,!1).then(({documents:Jn})=>We.view.Ic(Jn,rn)));const lr=jt&&jt.targetChanges.get(We.targetId),zt=We.view.applyChanges(rn,Se.isPrimaryClient,lr);return rw(Se,We.targetId,zt.Pc),zt.snapshot}),function(Se,We,at,jt){return ie.apply(this,arguments)})(n,R,F,W);var ie};const o=yield Sh(n.localStore,e,!0),l=new sD(e,o.Ks),f=l.Ic(o.documents),m=mh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),C=l.applyChanges(f,n.isPrimaryClient,m);rw(n,t,C.Pc);const A=new zT(e,t,l);return n.Cc.set(e,A),n.Nc.has(t)?n.Nc.get(t).push(e):n.Nc.set(t,[e]),C.snapshot}),K_.apply(this,arguments)}function Y_(n,e){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,Ae.Z)(function*(n,e){const t=Qe(n),r=t.Cc.get(e),o=t.Nc.get(r.targetId);if(o.length>1)return t.Nc.set(r.targetId,o.filter(l=>!up(l,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield os(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Rh(t.remoteStore,r.targetId),Ph(t,r.targetId)}).catch(Ll))):(Ph(t,r.targetId),yield os(t.localStore,r.targetId,!0))}),Q_.apply(this,arguments)}function J_(){return J_=(0,Ae.Z)(function*(n,e,t){const r=dw(n);try{const o=yield function(l,f){const m=Qe(l),C=qr.now(),A=f.reduce((F,W)=>F.add(W.key),pn());let R;return m.persistence.runTransaction("Locally write mutations","readwrite",F=>m.Us.Es(F,A).next(W=>{R=W;const ie=[];for(const Se of f){const We=EI(Se,R.get(Se.key));null!=We&&ie.push(new $c(Se.key,We,Bv(We.value.mapValue),kr.exists(!0)))}return m.gs.addMutationBatch(F,C,ie,f)})).then(F=>(F.applyToLocalDocumentSet(R),{batchId:F.batchId,changes:R}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,f,m){let C=l.$c[l.currentUser.toKey()];C||(C=new sr(qt)),C=C.insert(f,m),l.$c[l.currentUser.toKey()]=C}(r,o.batchId,t),yield Nu(r,o.changes),yield id(r.remoteStore)}catch(o){const l=kp(o,"Failed to persist write");t.reject(l)}}),J_.apply(this,arguments)}function Gm(n,e){return X_.apply(this,arguments)}function X_(){return X_=(0,Ae.Z)(function*(n,e){const t=Qe(n);try{const r=yield qI(t.localStore,e);e.targetChanges.forEach((o,l)=>{const f=t.Oc.get(l);f&&(Tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Sc=!0:o.modifiedDocuments.size>0?Tt(f.Sc):o.removedDocuments.size>0&&(Tt(f.Sc),f.Sc=!1))}),yield Nu(t,r,e)}catch(r){yield Ll(r)}}),X_.apply(this,arguments)}function CE(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Cc.forEach((l,f)=>{const m=f.view.tc(e);m.snapshot&&o.push(m.snapshot)}),function(l,f){const m=Qe(l);m.onlineState=f;let C=!1;m.queries.forEach((A,R)=>{for(const F of R.listeners)F.tc(f)&&(C=!0)}),C&&jm(m)}(r.eventManager,e),o.length&&r.Dc.To(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ew(n,e,t){return qm.apply(this,arguments)}function qm(){return qm=(0,Ae.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Oc.get(e),l=o&&o.key;if(l){let f=new sr(tt.comparator);f=f.insert(l,jn.newNoDocument(l,Et.min()));const m=pn().add(l),C=new gh(Et.min(),new Map,new Pn(qt),f,m);yield Gm(r,C),r.kc=r.kc.remove(l),r.Oc.delete(e),iw(r)}else yield os(r.localStore,e,!1).then(()=>Ph(r,e,t)).catch(Ll)}),qm.apply(this,arguments)}function IE(n,e){return tw.apply(this,arguments)}function tw(){return tw=(0,Ae.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const o=yield GI(t.localStore,e);Js(t,r,null),Pp(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Nu(t,o)}catch(o){yield Ll(o)}}),tw.apply(this,arguments)}function DE(n,e,t){return zm.apply(this,arguments)}function zm(){return zm=(0,Ae.Z)(function*(n,e,t){const r=Qe(n);try{const o=yield function(l,f){const m=Qe(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let A;return m.gs.lookupMutationBatch(C,f).next(R=>(Tt(null!==R),A=R.keys(),m.gs.removeMutationBatch(C,R))).next(()=>m.gs.performConsistencyCheck(C)).next(()=>m.Us.Es(C,A))})}(r.localStore,e);Js(r,e,t),Pp(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Nu(r,o)}catch(o){yield Ll(o)}}),zm.apply(this,arguments)}function nw(){return nw=(0,Ae.Z)(function*(n,e){const t=Qe(n);Ru(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const f=Qe(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.gs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Fc.get(r)||[];o.push(e),t.Fc.set(r,o)}catch(r){const o=kp(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),nw.apply(this,arguments)}function Pp(n,e){(n.Fc.get(e)||[]).forEach(t=>{t.resolve()}),n.Fc.delete(e)}function Js(n,e,t){const r=Qe(n);let o=r.$c[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.$c[r.currentUser.toKey()]=o}}function Ph(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Nc.get(e))n.Cc.delete(r),t&&n.Dc.qc(r,t);n.Nc.delete(e),n.isPrimaryClient&&n.Mc.si(e).forEach(r=>{n.Mc.containsKey(r)||lD(n,r)})}function lD(n,e){n.xc.delete(e.path.canonicalString());const t=n.kc.get(e);null!==t&&(Rh(n.remoteStore,t),n.kc=n.kc.remove(e),n.Oc.delete(t),iw(n))}function rw(n,e,t){for(const r of t)r instanceof Hm?(n.Mc.addReference(r.key,e),TE(n,r)):r instanceof bE?(je("SyncEngine","Document no longer in limbo: "+r.key),n.Mc.removeReference(r.key,e),n.Mc.containsKey(r.key)||lD(n,r.key)):lt()}function TE(n,e){const t=e.key,r=t.path.canonicalString();n.kc.get(t)||n.xc.has(r)||(je("SyncEngine","New document in limbo: "+t),n.xc.add(r),iw(n))}function iw(n){for(;n.xc.size>0&&n.kc.size<n.maxConcurrentLimboResolutions;){const e=n.xc.values().next().value;n.xc.delete(e);const t=new tt(Qt.fromString(e)),r=n.Bc.next();n.Oc.set(r,new ZT(t)),n.kc=n.kc.insert(t,r),Oh(n.remoteStore,new Ou(No(hh(t.path)),r,2,Es.A))}}function Nu(n,e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,Ae.Z)(function*(n,e,t){const r=Qe(n),o=[],l=[],f=[];var m;r.Cc.isEmpty()||(r.Cc.forEach((m,C)=>{f.push(r.Uc(C,e,t).then(A=>{if(A){r.isPrimaryClient&&r.sharedClientState.updateQueryState(C.targetId,A.fromCache?"not-current":"current"),o.push(A);const R=Cm.Ss(C.targetId,A);l.push(R)}}))}),yield Promise.all(f),r.Dc.To(o),yield(m=(0,Ae.Z)(function*(C,A){const R=Qe(C);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",F=>Ce.forEach(A,W=>Ce.forEach(W.vs,ie=>R.persistence.referenceDelegate.addReference(F,W.targetId,ie)).next(()=>Ce.forEach(W.Vs,ie=>R.persistence.referenceDelegate.removeReference(F,W.targetId,ie)))))}catch(F){if(!Kc(F))throw F;je("LocalStore","Failed to update sequence numbers: "+F)}for(const F of A){const W=F.targetId;if(!F.fromCache){const ie=R.Ms.get(W),We=ie.withLastLimboFreeSnapshotVersion(ie.snapshotVersion);R.Ms=R.Ms.insert(W,We)}}}),function(C,A){return m.apply(this,arguments)})(r.localStore,l))}),Zm.apply(this,arguments)}function cD(n,e){return AE.apply(this,arguments)}function AE(){return AE=(0,Ae.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=yield Wb(t.localStore,e);t.currentUser=e,(o=t).Fc.forEach(f=>{f.forEach(m=>{m.reject(new Ne(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Nu(t,r.qs)}var o}),AE.apply(this,arguments)}function SE(n,e){const t=Qe(n),r=t.Oc.get(e);if(r&&r.Sc)return pn().add(r.key);{let o=pn();const l=t.Nc.get(e);if(!l)return o;for(const f of l){const m=t.Cc.get(f);o=o.unionWith(m.view.yc)}return o}}function xE(n,e){return sw.apply(this,arguments)}function sw(){return sw=(0,Ae.Z)(function*(n,e){const t=Qe(n),r=yield Sh(t.localStore,e.query,!0),o=e.view.vc(r);return t.isPrimaryClient&&rw(t,e.targetId,o.Pc),o}),sw.apply(this,arguments)}function dD(n){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,Ae.Z)(function*(n){const e=Qe(n);return Kb(e.localStore).then(t=>Nu(e,t))}),Wm.apply(this,arguments)}function ow(n,e,t,r){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Ae.Z)(function*(n,e,t,r){const o=Qe(n),l=yield function(f,m){const C=Qe(f),A=Qe(C.gs);return C.persistence.runTransaction("Lookup mutation documents","readonly",R=>A.Ge(R,m).next(F=>F?C.Us.Es(R,F):Ce.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield id(o.remoteStore):"acknowledged"===t||"rejected"===t?(Js(o,e,r||null),Pp(o,e),m=e,Qe(Qe(o.localStore).gs).Qe(m)):lt(),yield Nu(o,l)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),Fp.apply(this,arguments)}function aw(){return aw=(0,Ae.Z)(function*(n,e){const t=Qe(n);if(cw(t),dw(t),!0===e&&!0!==t.Lc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield uw(t,r.toArray());t.Lc=!0,yield Fm(t.remoteStore,!0);for(const l of o)Oh(t.remoteStore,l)}else if(!1===e&&!1!==t.Lc){const r=[];let o=Promise.resolve();t.Nc.forEach((l,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):o=o.then(()=>(Ph(t,f),os(t.localStore,f,!0))),Rh(t.remoteStore,f)}),yield o,yield uw(t,r),function(l){const f=Qe(l);f.Oc.forEach((m,C)=>{Rh(f.remoteStore,C)}),f.Mc.ii(),f.Oc=new Map,f.kc=new sr(tt.comparator)}(t),t.Lc=!1,yield Fm(t.remoteStore,!1)}}),aw.apply(this,arguments)}function uw(n,e,t){return Km.apply(this,arguments)}function Km(){return Km=(0,Ae.Z)(function*(n,e,t){const r=Qe(n),o=[],l=[];for(const f of e){let m;const C=r.Nc.get(f);if(C&&0!==C.length){m=yield jl(r.localStore,No(C[0]));for(const A of C){const R=r.Cc.get(A),F=yield xE(r,R);F.snapshot&&l.push(F.snapshot)}}else{const A=yield xh(r.localStore,f);m=yield jl(r.localStore,A),yield EE(r,kE(A),f,!1)}o.push(m)}return r.Dc.To(l),o}),Km.apply(this,arguments)}function kE(n){return ga(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function hD(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).ds()}function WT(n,e,t,r){return OE.apply(this,arguments)}function OE(){return OE=(0,Ae.Z)(function*(n,e,t,r){const o=Qe(n);if(o.Lc)je("SyncEngine","Ignoring unexpected query state notification.");else if(o.Nc.has(e))switch(t){case"current":case"not-current":{const l=yield Kb(o.localStore),f=gh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Nu(o,l,f);break}case"rejected":yield os(o.localStore,e,!0),Ph(o,e,r);break;default:lt()}}),OE.apply(this,arguments)}function RE(n,e,t){return lw.apply(this,arguments)}function lw(){return lw=(0,Ae.Z)(function*(n,e,t){const r=cw(n);if(r.Lc){for(const o of e){if(r.Nc.has(o)){je("SyncEngine","Adding an already active target "+o);continue}const l=yield xh(r.localStore,o),f=yield jl(r.localStore,l);yield EE(r,kE(l),f.targetId,!1),Oh(r.remoteStore,f)}for(const o of t)r.Nc.has(o)&&(yield os(r.localStore,o,!1).then(()=>{Rh(r.remoteStore,o),Ph(r,o)}).catch(Ll))}}),lw.apply(this,arguments)}function cw(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ew.bind(null,e),e.Dc.To=qT.bind(null,e.eventManager),e.Dc.qc=Z_.bind(null,e.eventManager),e}function dw(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DE.bind(null,e),e}class fD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.O=Zr(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return Zb(this.persistence,new S_,e.initialUser,this.O)}jc(e){return new P_(bp.bi,this.O)}Gc(e){return new L_}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pD extends fD{constructor(e,t,r){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e),yield function ZI(n){return O_.apply(this,arguments)}(r.localStore),yield r.zc.initialize(r,e),yield dw(r.zc.syncEngine),yield id(r.zc.remoteStore),yield r.persistence.Hn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Wc(e){return Zb(this.persistence,new S_,e.initialUser,this.O)}Qc(e){return new jI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=Em(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new A_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,V_(),xm(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new L_}}class YT extends pD{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e);const o=r.zc.syncEngine;r.sharedClientState instanceof Sm&&(r.sharedClientState.syncEngine={hr:ow.bind(null,o),lr:WT.bind(null,o),dr:RE.bind(null,o),ds:hD.bind(null,o),ar:dD.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Hn(function(){var l=(0,Ae.Z)(function*(f){yield function ME(n,e){return aw.apply(this,arguments)}(r.zc.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}Gc(e){const t=V_();if(!Sm.Vt(t))throw new Ne(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Em(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sm(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class NE{initialize(e,t){var r=this;return(0,Ae.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>CE(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=cD.bind(null,r.syncEngine),yield Fm(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new GT}createDatastore(e){const t=Zr(e.databaseInfo.databaseId),r=new QI(e.databaseInfo);return new Dp(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>CE(this.syncEngine,m,0),f=tE.Vt()?new tE:new eE,new U_(t,r,o,l,f);var t,r,o,l,f}createSyncEngine(e,t){return function(r,o,l,f,m,C,A){const R=new oD(r,o,l,f,m,C);return A&&(R.Lc=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const r=Qe(t);je("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield kh(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function PE(n,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class od{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gD{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new Gr,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(r=>{r&&r.ac()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.tu();if(null===t)return null;const r=e.Xc.decode(t),o=Number(r);isNaN(o)&&e.eu(`length string (${r}) is not valid number`);const l=yield e.nu(o);return new vE(JSON.parse(l),t.length+o)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,Ae.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}nu(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const r=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class mD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Ae.Z)(function*(l,f){const m=Qe(l),C=pp(m.O)+"/documents",A={documents:f.map(ie=>yh(m.O,ie))},R=yield m.Lr("BatchGetDocuments",C,A),F=new Map;R.forEach(ie=>{const Se=function AI(n,e){return"found"in e?function(t,r){Tt(!!r.found);const o=ma(t,r.found.name),l=si(r.found.updateTime),f=new yi({mapValue:{fields:r.found.fields}});return jn.newFoundDocument(o,l,f)}(n,e):"missing"in e?function(t,r){Tt(!!r.missing),Tt(!!r.readTime);const o=ma(t,r.missing),l=si(r.readTime);return jn.newNoDocument(o,l)}(n,e):lt()}(m.O,ie);F.set(Se.key.toString(),Se)});const W=[];return f.forEach(ie=>{const Se=F.get(ie.toString());Tt(!!Se),W.push(Se)}),W}),function(l,f){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new dp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=tt.fromPath(o);e.mutations.push(new Qv(l,e.precondition(l)))}),yield(r=(0,Ae.Z)(function*(o,l){const f=Qe(o),m=pp(f.O)+"/documents",C={writes:l.map(A=>_h(f.O,A))};yield f.Mr("Commit",m,C)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lt();t=Et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?kr.updateTime(t):kr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new Ne(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kr.updateTime(t)}return kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class FE{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.ru=5,this.ro=new $l(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,Ae.Z)(function*(){const t=new mD(e.datastore),r=e.cu(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.uu(l)}))}).catch(o=>{e.uu(o)})}))}cu(e){try{const t=this.updateFunction(e);return!Ml(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Jv(t)}return!1}}class ad{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=gi.UNAUTHENTICATED,this.clientId=z0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,Ae.Z)(function*(m){je("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(je("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=kp(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function hw(n,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Ae.Z)(function*(l){r.isEqual(l)||(yield Wb(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Lp.apply(this,arguments)}function Ym(n,e){return fw.apply(this,arguments)}function fw(){return fw=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Vp(n);je("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>pE(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>pE(e.remoteStore,l)),n.onlineComponents=e}),fw.apply(this,arguments)}function Vp(n){return Up.apply(this,arguments)}function Up(){return Up=(0,Ae.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield hw(n,new fD)),n.offlineComponents}),Up.apply(this,arguments)}function ud(n){return LE.apply(this,arguments)}function LE(){return LE=(0,Ae.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield Ym(n,new NE)),n.onlineComponents}),LE.apply(this,arguments)}function yD(n){return Vp(n).then(e=>e.persistence)}function VE(n){return Vp(n).then(e=>e.localStore)}function vD(n){return ud(n).then(e=>e.remoteStore)}function Qm(n){return ud(n).then(e=>e.syncEngine)}function Fh(n){return pw.apply(this,arguments)}function pw(){return pw=(0,Ae.Z)(function*(n){const e=yield ud(n),t=e.eventManager;return t.onListen=aD.bind(null,e.syncEngine),t.onUnlisten=Y_.bind(null,e.syncEngine),t}),pw.apply(this,arguments)}function gw(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(o,l,f,m,C){const A=new od({next:F=>{l.enqueueAndForget(()=>Um(o,R));const W=F.docs.has(f);!W&&F.fromCache?C.reject(new Ne(be.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&F.fromCache&&m&&"server"===m.source?C.reject(new Ne(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(F)},error:F=>C.reject(F)}),R=new $m(hh(f.path),A,{includeMetadataChanges:!0,uc:!0});return Vm(o,R)}(yield Fh(n),n.asyncQueue,e,t,r)})),r.promise}function jE(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(o,l,f,m,C){const A=new od({next:F=>{l.enqueueAndForget(()=>Um(o,R)),F.fromCache&&"server"===m.source?C.reject(new Ne(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(F)},error:F=>C.reject(F)}),R=new $m(f,A,{includeMetadataChanges:!0,uc:!0});return Vm(o,R)}(yield Fh(n),n.asyncQueue,e,t,r)})),r.promise}const yw=new Map;function Bp(n,e,t){if(!t)throw new Ne(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HE(n,e,t,r){if(!0===e&&!0===r)throw new Ne(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function GE(n){if(!tt.isDocumentKey(n))throw new Ne(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ED(n){if(tt.isDocumentKey(n))throw new Ne(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function Jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vw(n);throw new Ne(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qE(n,e){if(e<=0)throw new Ne(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class zE{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,HE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jm{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,e instanceof Su?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ne(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(o.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new oI;switch(t.type){case"gapi":const r=t.client;return Tt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new uI(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yw.get(e);t&&(je("ComponentProvider","Removing Datastore"),yw.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class as{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new as(this.firestore,e,this._query)}}class Pu extends as{constructor(e,t,r){super(e,t,hh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new tt(e))}withConverter(e){return new Pu(this.firestore,e,this._path)}}function ZE(n,e,...t){if(n=(0,Bt.m9)(n),Bp("collection","path",e),n instanceof Jm){const r=Qt.fromString(e,...t);return ED(r),new Pu(n,null,r)}{if(!(n instanceof $n||n instanceof Pu))throw new Ne(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return ED(r),new Pu(n.firestore,null,r)}}function _w(n,e,...t){if(n=(0,Bt.m9)(n),1===arguments.length&&(e=z0.R()),Bp("doc","path",e),n instanceof Jm){const r=Qt.fromString(e,...t);return GE(r),new $n(n,null,new tt(r))}{if(!(n instanceof $n||n instanceof Pu))throw new Ne(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return GE(r),new $n(n.firestore,n instanceof Pu?n.converter:null,new tt(r))}}function CD(n,e){return n=(0,Bt.m9)(n),e=(0,Bt.m9)(e),(n instanceof $n||n instanceof Pu)&&(e instanceof $n||e instanceof Pu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ID(n,e){return n=(0,Bt.m9)(n),e=(0,Bt.m9)(e),n instanceof as&&e instanceof as&&n.firestore===e.firestore&&up(n._query,e._query)&&n.converter===e.converter}class i{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new $l(this,"async_queue_retry"),this.yu=()=>{const t=xm();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=xm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=xm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new Gr;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!Kc(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,Hr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const o=yE.createAndSchedule(this,e,t,r,l=>this.Tu(l));return this.du.push(o),o}pu(){this._u&&lt()}verifyOperationInProgress(){}Au(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function s(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class a{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class c extends Jm{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new i,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||I(this),this._firestoreClient.terminate()}}function w(n){return n._firestoreClient||I(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function I(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Fv(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new ad(n._authCredentials,n._appCheckCredentials,n._queue,r)}function V(n,e,t){const r=new Gr;return n.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield hw(n,t),yield Ym(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===be.FAILED_PRECONDITION||l.code===be.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function yt(n){if(n._initialized||n._terminated)throw new Ne(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Mt{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(gr.fromBase64String(e))}catch(t){throw new Ne(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ur(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xs{constructor(e){this._methodName=e}}class Lh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const ww=/^__.*__$/;class bw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new $c(e,this.data,this.fieldMask,t,this.fieldTransforms):new cp(e,this.data,t,this.fieldTransforms)}}class Xm{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $c(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ey(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class Vh{constructor(e,t,r,o,l,f){this.settings=e,this.databaseId=t,this.O=r,this.ignoreUndefinedProperties=o,void 0===l&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new Vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Su({path:r,Cu:!1});return o.Nu(e),o}xu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Su({path:r,Cu:!1});return o.vu(),o}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return KE(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(ey(this.Vu)&&ww.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class Ew{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=r||Zr(e)}Fu(e,t,r,o=!1){return new Vh({Vu:e,methodName:t,$u:r,path:mi.emptyPath(),Cu:!1,Mu:o},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function Fu(n){const e=n._freezeSettings(),t=Zr(n._databaseId);return new Ew(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Uh(n,e,t,r,o,l={}){const f=n.Fu(l.merge||l.mergeFields?2:0,e,t,o);SD("Data must be an object, but it was:",f,r);const m=nA(r,f);let C,A;if(l.merge)C=new Ha(f.fieldMask),A=f.fieldTransforms;else if(l.mergeFields){const R=[];for(const F of l.mergeFields){const W=xD(e,F,t);if(!f.contains(W))throw new Ne(be.INVALID_ARGUMENT,`Field '${W}' is specified in your field mask but missing from your input data.`);iA(R,W)||R.push(W)}C=new Ha(R),A=f.fieldTransforms.filter(F=>C.covers(F.field))}else C=null,A=f.fieldTransforms;return new bw(new yi(m),C,A)}class Cw extends Xs{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cw}}function eA(n,e,t){return new Vh({Vu:3,$u:e.settings.$u,methodName:n._methodName,Cu:t},e.databaseId,e.O,e.ignoreUndefinedProperties)}class DD extends Xs{_toFieldTransform(e){return new fh(e.path,new Ol)}isEqual(e){return e instanceof DD}}class gx extends Xs{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=eA(this,e,!0),r=this.Bu.map(l=>jp(l,t)),o=new qa(r);return new fh(e.path,o)}isEqual(e){return this===e}}class mx extends Xs{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=eA(this,e,!0),r=this.Bu.map(l=>jp(l,t)),o=new Rl(r);return new fh(e.path,o)}isEqual(e){return this===e}}class yx extends Xs{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new jc(e.O,qv(e.O,this.Lu));return new fh(e.path,t)}isEqual(e){return this===e}}function TD(n,e,t,r){const o=n.Fu(1,e,t);SD("Data must be an object, but it was:",o,r);const l=[],f=yi.empty();Sl(r,(C,A)=>{const R=WE(e,C,t);A=(0,Bt.m9)(A);const F=o.xu(R);if(A instanceof Cw)l.push(R);else{const W=jp(A,F);null!=W&&(l.push(R),f.set(R,W))}});const m=new Ha(l);return new Xm(f,m,o.fieldTransforms)}function AD(n,e,t,r,o,l){const f=n.Fu(1,e,t),m=[xD(e,r,t)],C=[o];if(l.length%2!=0)throw new Ne(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let W=0;W<l.length;W+=2)m.push(xD(e,l[W])),C.push(l[W+1]);const A=[],R=yi.empty();for(let W=m.length-1;W>=0;--W)if(!iA(A,m[W])){const ie=m[W];let Se=C[W];Se=(0,Bt.m9)(Se);const We=f.xu(ie);if(Se instanceof Cw)A.push(ie);else{const at=jp(Se,We);null!=at&&(A.push(ie),R.set(ie,at))}}const F=new Ha(A);return new Xm(R,F,f.fieldTransforms)}function tA(n,e,t,r=!1){return jp(t,n.Fu(r?4:3,e))}function jp(n,e){if(rA(n=(0,Bt.m9)(n)))return SD("Unsupported field value:",e,n),nA(n,e);if(n instanceof Xs)return function(t,r){if(!ey(r.Vu))throw r.Ou(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const f of t){let m=jp(f,r.ku(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Bt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qv(r.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=qr.fromDate(t);return{timestampValue:am(r.O,o)}}if(t instanceof qr){const o=new qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:am(r.O,o)}}if(t instanceof Lh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ur)return{bytesValue:s_(r.O,t._byteString)};if(t instanceof $n){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.Ou(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:um(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ou(`Unsupported field value: ${vw(t)}`)}(n,e)}function nA(n,e){const t={};return Zg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sl(n,(r,o)=>{const l=jp(o,e.Du(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function rA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qr||n instanceof Lh||n instanceof ur||n instanceof $n||n instanceof Xs)}function SD(n,e,t){if(!rA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=vw(t);throw e.Ou("an object"===r?n+" a custom object":n+" "+r)}var r}function xD(n,e,t){if((e=(0,Bt.m9)(e))instanceof Mt)return e._internalPath;if("string"==typeof e)return WE(n,e);throw KE("Field path arguments must be of type string or ",n,!1,void 0,t)}const vx=new RegExp("[~\\*/\\[\\]]");function WE(n,e,t){if(e.search(vx)>=0)throw KE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mt(...e.split("."))._internalPath}catch(r){throw KE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function KE(n,e,t,r,o){const l=r&&!r.isEmpty(),f=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let C="";return(l||f)&&(C+=" (found",l&&(C+=` in field ${r}`),f&&(C+=` in document ${o}`),C+=")"),new Ne(be.INVALID_ARGUMENT,m+n+C)}function iA(n,e){return n.some(t=>t.isEqual(e))}class Iw{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(YE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _x extends Iw{data(){return super.data()}}function YE(n,e){return"string"==typeof e?WE(n,e):e instanceof Mt?e._internalPath:e._delegate._internalPath}class $p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ld extends Iw{constructor(e,t,r,o,l,f){super(e,t,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(YE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Dw extends ld{data(e={}){return super.data(e)}}class Bh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new $p(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Dw(this._firestore,this._userDataWriter,r.key,r,new $p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new Dw(r._firestore,r._userDataWriter,f.doc.key,f.doc,new $p(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const m=new Dw(r._firestore,r._userDataWriter,f.doc.key,f.doc,new $p(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let C=-1,A=-1;return 0!==f.type&&(C=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),A=l.indexOf(f.doc.key)),{type:wx(f.type),doc:m,oldIndex:C,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function sA(n,e){return n instanceof ld&&e instanceof ld?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Bh&&e instanceof Bh&&n._firestore===e._firestore&&ID(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function oA(n){if(zs(n)&&0===n.explicitOrderBy.length)throw new Ne(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tw{}function jh(n,...e){for(const t of e)n=t._apply(n);return n}class bx extends Tw{constructor(e,t,r){super(),this.Uu=e,this.qu=t,this.Ku=r,this.type="where"}_apply(e){const t=Fu(e.firestore),r=function(o,l,f,m,C,A,R){let F;if(C.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Ne(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){hA(R,A);const ie=[];for(const Se of R)ie.push(dA(m,o,Se));F={arrayValue:{values:ie}}}else F=dA(m,o,R)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||hA(R,A),F=tA(f,"where",R,"in"===A||"not-in"===A);const W=ss.create(C,A,F);return function(ie,Se){if(Se.S()){const at=Ws(ie);if(null!==at&&!at.isEqual(Se.field))throw new Ne(be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${at.toString()}' and '${Se.field.toString()}'`);const jt=Zs(ie);null!==jt&&fA(0,Se.field,jt)}const We=function(at,jt){for(const rn of at.filters)if(jt.indexOf(rn.op)>=0)return rn.op;return null}(ie,function(at){switch(at){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Se.op));if(null!==We)throw new Ne(be.INVALID_ARGUMENT,We===Se.op?`Invalid query. You cannot use more than one '${Se.op.toString()}' filter.`:`Invalid query. You cannot use '${Se.op.toString()}' filters with '${We.toString()}' filters.`)}(o,W),W}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new as(e.firestore,e.converter,function(o,l){const f=o.filters.concat([l]);return new pa(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class Cx extends Tw{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Ne(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new dh(o,l);return function(m,C){if(null===Zs(m)){const A=Ws(m);null!==A&&fA(0,A,C.field)}}(r,f),f}(e._query,this.Uu,this.Gu);return new as(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new pa(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class aA extends Tw{constructor(e,t,r){super(),this.type=e,this.ju=t,this.Qu=r}_apply(e){return new as(e.firestore,e.converter,eb(e._query,this.ju,this.Qu))}}class uA extends Tw{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=cA(e,this.type,this.Wu,this.zu);return new as(e.firestore,e.converter,(o=t,new pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class lA extends Tw{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=cA(e,this.type,this.Wu,this.zu);return new as(e.firestore,e.converter,(o=t,new pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function cA(n,e,t,r){if(t[0]=(0,Bt.m9)(t[0]),t[0]instanceof Iw)return function(o,l,f,m,C){if(!m)throw new Ne(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const A=[];for(const R of Vc(o))if(R.field.isKeyField())A.push(Qg(l,m.key));else{const F=m.data.field(R.field);if(tp(F))throw new Ne(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){const W=R.field.canonicalString();throw new Ne(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${W}' (used as the orderBy) does not exist.`)}A.push(F)}return new Lc(A,C)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Fu(n.firestore);return function(l,f,m,C,A,R){const F=l.explicitOrderBy;if(A.length>F.length)throw new Ne(be.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const W=[];for(let ie=0;ie<A.length;ie++){const Se=A[ie];if(F[ie].field.isKeyField()){if("string"!=typeof Se)throw new Ne(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof Se}`);if(!tm(l)&&-1!==Se.indexOf("/"))throw new Ne(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${C}() must be a plain document ID, but '${Se}' contains a slash.`);const We=l.path.child(Qt.fromString(Se));if(!tt.isDocumentKey(We))throw new Ne(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${C}() must result in a valid document path, but '${We}' is not because it contains an odd number of segments.`);const at=new tt(We);W.push(Qg(f,at))}else{const We=tA(m,C,Se);W.push(We)}}return new Lc(W,R)}(n._query,n.firestore._databaseId,o,e,t,r)}}function dA(n,e,t){if("string"==typeof(t=(0,Bt.m9)(t))){if(""===t)throw new Ne(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tm(e)&&-1!==t.indexOf("/"))throw new Ne(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qt.fromString(t));if(!tt.isDocumentKey(r))throw new Ne(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qg(n,new tt(r))}if(t instanceof $n)return Qg(n,t._key);throw new Ne(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vw(t)}.`)}function hA(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(be.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function fA(n,e,t){if(!t.isEqual(e))throw new Ne(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class MD{convertValue(e,t="none"){switch(xu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){const r={};return Sl(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new Lh(Nn(e.latitude),Nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(np(e));default:return null}}convertTimestamp(e){const t=xl(e);return new qr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);Tt(Ib(r));const o=new Su(r.get(1),r.get(3)),l=new tt(r.popFirst(5));return o.isEqual(t)||Hr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function QE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class kx extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class pA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fu(e)}set(e,t,r){this._verifyNotCommitted();const o=$h(e,this._firestore),l=QE(o.converter,t,r),f=Uh(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(f.toMutation(o._key,kr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=$h(e,this._firestore);let f;return f="string"==typeof(t=(0,Bt.m9)(t))||t instanceof Mt?AD(this._dataReader,"WriteBatch.update",l._key,t,r,o):TD(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(f.toMutation(l._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$h(e,this._firestore);return this._mutations=this._mutations.concat(new dp(t._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $h(n,e){if((n=(0,Bt.m9)(n)).firestore!==e)throw new Ne(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hp extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function gA(n,e,t){n=Jt(n,$n);const r=Jt(n.firestore,c),o=QE(n.converter,e,t);return ty(r,[Uh(Fu(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,kr.none())])}function mA(n,e,t,...r){n=Jt(n,$n);const o=Jt(n.firestore,c),l=Fu(o);let f;return f="string"==typeof(e=(0,Bt.m9)(e))||e instanceof Mt?AD(l,"updateDoc",n._key,e,t,r):TD(l,"updateDoc",n._key,e),ty(o,[f.toMutation(n._key,kr.exists(!0))])}function yA(n,...e){var t,r,o;n=(0,Bt.m9)(n);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||s(e[f])||(l=e[f],f++);const m={includeMetadataChanges:l.includeMetadataChanges};if(s(e[f])){const F=e[f];e[f]=null===(t=F.next)||void 0===t?void 0:t.bind(F),e[f+1]=null===(r=F.error)||void 0===r?void 0:r.bind(F),e[f+2]=null===(o=F.complete)||void 0===o?void 0:o.bind(F)}let C,A,R;if(n instanceof $n)A=Jt(n.firestore,c),R=hh(n._key.path),C={next:F=>{e[f]&&e[f](kD(A,n,F))},error:e[f+1],complete:e[f+2]};else{const F=Jt(n,as);A=Jt(F.firestore,c),R=F._query;const W=new Hp(A);C={next:ie=>{e[f]&&e[f](new Bh(A,W,F,ie))},error:e[f+1],complete:e[f+2]},oA(n._query)}return function(F,W,ie,Se){const We=new od(Se),at=new $m(W,We,ie);return F.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Vm(yield Fh(F),at)})),()=>{We.Jc(),F.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Um(yield Fh(F),at)}))}}(w(A),R,m,C)}function ty(n,e){return function(t,r){const o=new Gr;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function _a(n,e,t){return J_.apply(this,arguments)}(yield Qm(t),r,o)})),o.promise}(w(n),e)}function kD(n,e,t){const r=t.docs.get(e._key),o=new Hp(n);return new ld(n,o,e._key,r,new $p(t.hasPendingWrites,t.fromCache),e.converter)}class jx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fu(e)}get(e){const t=$h(e,this._firestore),r=new kx(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return lt();const l=o[0];if(l.isFoundDocument())return new Iw(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Iw(this._firestore,r,t._key,null,t.converter);throw lt()})}set(e,t,r){const o=$h(e,this._firestore),l=QE(o.converter,t,r),f=Uh(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,f),this}update(e,t,r,...o){const l=$h(e,this._firestore);let f;return f="string"==typeof(t=(0,Bt.m9)(t))||t instanceof Mt?AD(this._dataReader,"Transaction.update",l._key,t,r,o):TD(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,f),this}delete(e){const t=$h(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$h(e,this._firestore),r=new Hp(this._firestore);return super.get(e).then(o=>new ld(this._firestore,r,t._key,o._document,new $p(!1,!1),t.converter))}}function OD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function _A(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function wA(){if(!function W0(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Pc=_c.SDK_VERSION,(0,_c._registerComponent)(new xf.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new c(o,new aI(t.getProvider("auth-internal")),new zg(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,_c.registerVersion)(G0,"3.4.5",n),(0,_c.registerVersion)(G0,"3.4.5","esm2017")}();class Aw{constructor(e){this._delegate=e}static fromBase64String(e){return wA(),new Aw(ur.fromBase64String(e))}static fromUint8Array(e){return _A(),new Aw(ur.fromUint8Array(e))}toBase64(){return wA(),this._delegate.toBase64()}toUint8Array(){return _A(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RD(n){return function Yx(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Qx{enableIndexedDbPersistence(e,t){return function x(n,e){yt(n=Jt(n,c));const t=w(n),r=n._freezeSettings(),o=new NE;return V(t,o,new pD(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function k(n){yt(n=Jt(n,c));const e=w(n),t=n._freezeSettings(),r=new NE;return V(e,r,new YT(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function G(n){if(n._initialized&&!n._terminated)throw new Ne(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(r){if(!va.Vt())return Promise.resolve();const o=r+"main";yield va.delete(o)}),function(r){return t.apply(this,arguments)})(Em(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class bA{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Su||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function JT(n,e,t,r={}){var o;const l=(n=Jt(n,Jm))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Xf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=gi.MOCK_USER;else{f=(0,Bt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Ne(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new gi(C)}n._authCredentials=new ih(new sI(f,m))}}(this._delegate,e,t,r)}enableNetwork(){return function De(n){return function _D(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield yD(n),t=yield vD(n);return e.setNetworkEnabled(!0),function(r){const o=Qe(r);return o.Ko.delete(0),Tp(o)}(t)}))}(w(n=Jt(n,c)))}(this._delegate)}disableNetwork(){return function $e(n){return function wD(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield yD(n),t=yield vD(n);return e.setNetworkEnabled(!1),(r=(0,Ae.Z)(function*(o){const l=Qe(o);l.Ko.add(0),yield kh(l),l.Qo.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(w(n=Jt(n,c)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,HE("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ne(n){return function(e){const t=new Gr;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function uD(n,e){return nw.apply(this,arguments)}(yield Qm(e),t)})),t.promise}(w(n=Jt(n,c)))}(this._delegate)}onSnapshotsInSync(e){return function Bx(n,e){return function bD(n,e){const t=new od(e);return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield Fh(n),o=t,Qe(r).Zo.add(o),void o.next();var r,o})),()=>{t.Jc(),n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield Fh(n),o=t,void Qe(r).Zo.delete(o);var r,o}))}}(w(n=Jt(n,c)),s(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ny(this,ZE(this._delegate,e))}catch(t){throw eo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Za(this,_w(this._delegate,e))}catch(t){throw eo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new to(this,function XT(n,e){if(n=Jt(n,Jm),Bp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new as(n,null,(t=e,new pa(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw eo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function $x(n,e){return function $E(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const r=yield(o=n,ud(o).then(l=>l.datastore));var o;new FE(n.asyncQueue,r,e,t).run()})),t.promise}(w(n=Jt(n,c)),t=>e(new jx(n,t)))}(this._delegate,t=>e(new EA(this,t)))}batch(){return w(this._delegate),new CA(new pA(this._delegate,e=>ty(this._delegate,e)))}loadBundle(e){return function st(n,e){const t=w(n=Jt(n,c)),r=new a;return function mw(n,e,t,r){const o=function(l,f){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,C=function(C,A){if(C instanceof Uint8Array)return PE(C,A);if(C instanceof ArrayBuffer)return PE(new Uint8Array(C),A);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new gD(C,f);var C}(t,Zr(e));n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function KT(n,e,t){const r=Qe(n);var o;(o=(0,Ae.Z)(function*(l,f,m){try{const C=yield f.getMetadata();if(yield function(W,ie){const Se=Qe(W),We=si(ie.createTime);return Se.persistence.runTransaction("hasNewerBundle","readonly",at=>Se.Kn.getBundleMetadata(at,ie.id)).then(at=>!!at&&at.createTime.compareTo(We)>=0)}(l.localStore,C))return yield f.close(),void m._completeWith((W=C,{taskState:"Success",documentsLoaded:W.totalDocuments,bytesLoaded:W.totalBytes,totalDocuments:W.totalDocuments,totalBytes:W.totalBytes}));m._updateProgress(wE(C));const A=new _E(C,l.localStore,f.O);let R=yield f.Kc();for(;R;){const W=yield A.lc(R);W&&m._updateProgress(W),R=yield f.Kc()}const F=yield A.complete();yield Nu(l,F.ws,void 0),yield function(W,ie){const Se=Qe(W);return Se.persistence.runTransaction("Save bundle","readwrite",We=>Se.Kn.saveBundleMetadata(We,ie))}(l.localStore,C),m._completeWith(F.progress)}catch(C){Xf("SyncEngine",`Loading bundle failed with ${C}`),m._failWith(C)}var W}),function(l,f,m){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Qm(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Oe(n,e){return function QT(n,e){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,r){const o=Qe(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Kn.getNamedQuery(l,r))}(yield VE(n),e)}))}(w(n=Jt(n,c)),e).then(t=>t?new as(n,null,t.query):null)}(this._delegate,e).then(t=>t?new to(this,t):null)}}class JE extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aw(new ur(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Za.forKey(t,this.firestore,null)}}class EA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new JE(e)}get(e){const t=qp(e);return this._delegate.get(t).then(r=>new Sw(this._firestore,new ld(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=qp(e);return r?(OD("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=qp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=qp(e);return this._delegate.delete(t),this}}class CA{constructor(e){this._delegate=e}set(e,t,r){const o=qp(e);return r?(OD("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=qp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=qp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Dw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Gp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Gp(e,new JE(e),t),o.set(t,l)),l}}Gp.INSTANCES=new WeakMap;class Za{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Za(t,new $n(t._delegate,r,new tt(e)))}static forKey(e,t,r){return new Za(t,new $n(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ny(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ny(this.firestore,ZE(this._delegate,e))}catch(t){throw eo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Bt.m9)(e))instanceof $n&&CD(this._delegate,e)}set(e,t){t=OD("DocumentReference.set",t);try{return t?gA(this._delegate,e,t):gA(this._delegate,e)}catch(r){throw eo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?mA(this._delegate,e):mA(this._delegate,e,t,...r)}catch(o){throw eo(o,"updateDoc()","DocumentReference.update()")}}delete(){return function Vx(n){return ty(Jt(n.firestore,c),[new dp(n._key,kr.none())])}(this._delegate)}onSnapshot(...e){const t=IA(e),r=DA(e,o=>new Sw(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return yA(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Rx(n){n=Jt(n,$n);const e=Jt(n.firestore,c),t=w(e),r=new Hp(e);return function UE(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(o,l,f){try{const m=yield function(C,A){const R=Qe(C);return R.persistence.runTransaction("read document","readonly",F=>R.Us.ys(F,A))}(o,l);m.isFoundDocument()?f.resolve(m):m.isNoDocument()?f.resolve(null):f.reject(new Ne(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const C=kp(m,`Failed to get document '${l} from cache`);f.reject(C)}}),function(o,l,f){return r.apply(this,arguments)})(yield VE(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ld(e,r,n._key,o,new $p(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Nx(n){n=Jt(n,$n);const e=Jt(n.firestore,c);return gw(w(e),n._key,{source:"server"}).then(t=>kD(e,n,t))}(this._delegate):function Ox(n){n=Jt(n,$n);const e=Jt(n.firestore,c);return gw(w(e),n._key).then(t=>kD(e,n,t))}(this._delegate),t.then(r=>new Sw(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Za(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function eo(n,e,t){return n.message=n.message.replace(e,t),n}function IA(n){for(const e of n)if("object"==typeof e&&!RD(e))return e;return{}}function DA(n,e){var t,r;let o;return o=RD(n[0])?n[0]:RD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Sw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Za(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sA(this._delegate,e._delegate)}}class xw extends Sw{data(e){const t=this._delegate.data(e);return function LT(n,e){n||lt()}(void 0!==t),t}}class to{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JE(e)}where(e,t,r){try{return new to(this.firestore,jh(this._delegate,function Ex(n,e,t){const r=e,o=YE("where",n);return new bx(o,r,t)}(e,t,r)))}catch(o){throw eo(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new to(this.firestore,jh(this._delegate,function Ix(n,e="asc"){const t=e,r=YE("orderBy",n);return new Cx(r,t)}(e,t)))}catch(r){throw eo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new to(this.firestore,jh(this._delegate,function Dx(n){return qE("limit",n),new aA("limit",n,"F")}(e)))}catch(t){throw eo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new to(this.firestore,jh(this._delegate,function Tx(n){return qE("limitToLast",n),new aA("limitToLast",n,"L")}(e)))}catch(t){throw eo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new to(this.firestore,jh(this._delegate,function Ax(...n){return new uA("startAt",n,!0)}(...e)))}catch(t){throw eo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new to(this.firestore,jh(this._delegate,function Sx(...n){return new uA("startAfter",n,!1)}(...e)))}catch(t){throw eo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new to(this.firestore,jh(this._delegate,function xx(...n){return new lA("endBefore",n,!1)}(...e)))}catch(t){throw eo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new to(this.firestore,jh(this._delegate,function Mx(...n){return new lA("endAt",n,!0)}(...e)))}catch(t){throw eo(t,"endAt()","Query.endAt()")}}isEqual(e){return ID(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Fx(n){n=Jt(n,as);const e=Jt(n.firestore,c),t=w(e),r=new Hp(e);return function BE(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(o,l,f){try{const m=yield Sh(o,l,!0),C=new sD(l,m.Ks),A=C.Ic(m.documents),R=C.applyChanges(A,!1);f.resolve(R.snapshot)}catch(m){const C=kp(m,`Failed to execute query '${l} against cache`);f.reject(C)}}),function(o,l,f){return r.apply(this,arguments)})(yield VE(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Bh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function Lx(n){n=Jt(n,as);const e=Jt(n.firestore,c),t=w(e),r=new Hp(e);return jE(t,n._query,{source:"server"}).then(o=>new Bh(e,r,n,o))}(this._delegate):function Px(n){n=Jt(n,as);const e=Jt(n.firestore,c),t=w(e),r=new Hp(e);return oA(n._query),jE(t,n._query).then(o=>new Bh(e,r,n,o))}(this._delegate),t.then(r=>new ND(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=IA(e),r=DA(e,o=>new ND(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return yA(this._delegate,t,r)}withConverter(e){return new to(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}class Xx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new xw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ND{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new to(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Xx(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new xw(this._firestore,r))})}isEqual(e){return sA(this._delegate,e._delegate)}}class ny extends to{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Za(this.firestore,e):null}doc(e){try{return new Za(this.firestore,void 0===e?_w(this._delegate):_w(this._delegate,e))}catch(t){throw eo(t,"doc()","CollectionReference.doc()")}}add(e){return function Ux(n,e){const t=Jt(n.firestore,c),r=_w(n),o=QE(n.converter,e);return ty(t,[Uh(Fu(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Za(this.firestore,t))}isEqual(e){return CD(this._delegate,e._delegate)}withConverter(e){return new ny(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function qp(n){return Jt(n,$n)}class PD{constructor(...e){this._delegate=new Mt(...e)}static documentId(){return new PD(mi.keyField().canonicalString())}isEqual(e){return(e=(0,Bt.m9)(e))instanceof Mt&&this._delegate._internalPath.isEqual(e._internalPath)}}class zp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Gx(){return new DD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zp(e)}static delete(){const e=function Hx(){return new Cw("deleteField")}();return e._methodName="FieldValue.delete",new zp(e)}static arrayUnion(...e){const t=function qx(...n){return new gx("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zp(t)}static arrayRemove(...e){const t=function zx(...n){return new mx("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zp(t)}static increment(e){const t=function Zx(n){return new yx("increment",n)}(e);return t._methodName="FieldValue.increment",new zp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const eM={Firestore:bA,GeoPoint:Lh,Timestamp:qr,Blob:Aw,Transaction:EA,WriteBatch:CA,DocumentReference:Za,DocumentSnapshot:Sw,Query:to,QueryDocumentSnapshot:xw,QuerySnapshot:ND,CollectionReference:ny,FieldPath:PD,FieldValue:zp,setLogLevel:function Jx(n){!function iI(n){Al.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function nM(n){(function tM(n,e){n.INTERNAL.registerComponent(new xf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},eM)))})(n,(e,t)=>new bA(e,t,new Qx)),n.registerVersion("@firebase/firestore-compat","0.1.14")}(TT.Z);var rM=L(6451),XE=L(5363),iM=L(6063);class sM extends M.x{constructor(e=1/0,t=1/0,r=iM.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:f}=this;t||(r.push(e),!o&&r.push(l.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let f=0;f<l.length&&!e.closed;f+=r?1:2)e.next(l[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const f=t.now();let m=0;for(let C=1;C<r.length&&r[C]<=f;C+=2)m=C;m&&r.splice(0,m+1)}}}var oM=L(3099);function TA(n,e,t){var r,o;let l,f=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=n.windowTime)&&void 0!==o?o:1/0,f=!!n.refCount,t=n.scheduler):l=null!=n?n:1/0,(0,oM.B)({connector:()=>new sM(l,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}function AA(n,e){return(0,au.m)(e)?tr(()=>n,e):tr(()=>n)}var FD=L(9468);L(5867);const xA=new Map,dM={activated:!1,tokenObservers:[]},hM={initialized:!1,enabled:!1};function Fi(n){return xA.get(n)||dM}function Lu(n,e){xA.set(n,e)}function tC(){return hM}class yM{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new Bt.BH,yield function vM(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Bt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const no=new Bt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kA(n){if(!Fi(n).activated)throw no.create("use-before-activation",{appName:n.name})}function BD(n,e){return jD.apply(this,arguments)}function jD(){return jD=(0,Ae.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let f,m;try{f=yield fetch(n,l)}catch(F){throw no.create("fetch-network-error",{originalErrorMessage:F.message})}if(200!==f.status)throw no.create("fetch-status-error",{httpStatus:f.status});try{m=yield f.json()}catch(F){throw no.create("fetch-parse-error",{originalErrorMessage:F.message})}const C=m.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw no.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const A=1e3*Number(C[1]),R=Date.now();return{token:m.attestationToken,expireTimeMillis:R+A,issuedAtTimeMillis:R}}),jD.apply(this,arguments)}function CM(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Mw="firebase-app-check-store";let iC=null;function RA(){return iC||(iC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(no.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Mw,{keyPath:"compositeKey"})}}catch(t){e(no.create("storage-open",{originalErrorMessage:t.message}))}}),iC)}function $D(){return $D=(0,Ae.Z)(function*(n,e){const r=(yield RA()).transaction(Mw,"readwrite"),l=r.objectStore(Mw).put({compositeKey:n,value:e});return new Promise((f,m)=>{l.onsuccess=C=>{f()},r.onerror=C=>{var A;m(no.create("storage-set",{originalErrorMessage:null===(A=C.target.error)||void 0===A?void 0:A.message}))}})}),$D.apply(this,arguments)}const kw=new vl.Yd("@firebase/app-check");function LA(n,e){return(0,Bt.hl)()?function AM(n,e){return function NA(n,e){return $D.apply(this,arguments)}(function FA(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{kw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function VA(){return tC().enabled}function UA(){return zD.apply(this,arguments)}function zD(){return zD=(0,Ae.Z)(function*(){const n=tC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),zD.apply(this,arguments)}const RM={error:"UNKNOWN_ERROR"};function NM(n){return Bt.US.encodeString(JSON.stringify(n),!1)}function sC(n){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,Ae.Z)(function*(n,e=!1){const t=n.app;kA(t);const r=Fi(t);let l,o=r.token;if(!o){const C=yield r.cachedTokenPromise;C&&oC(C)&&(o=C)}if(!e&&o&&oC(o))return{token:o.token};let m,f=!1;if(VA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=BD(CM(t,yield UA()),n.platformLoggerProvider).then(A=>(r.exchangeTokenPromise=void 0,A)),f=!0);const C=yield r.exchangeTokenPromise;return yield LA(t,C),Lu(t,Object.assign(Object.assign({},r),{token:C})),{token:C.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(C=>(r.exchangeTokenPromise=void 0,C)),f=!0),o=yield r.exchangeTokenPromise}catch(C){"appCheck/throttled"===C.code?kw.warn(C.message):kw.error(C),l=C}return o?(m={token:o.token},Lu(t,Object.assign(Object.assign({},r),{token:o})),yield LA(t,o)):m=FM(l),f&&jA(t,m),m}),ZD.apply(this,arguments)}function KD(n,e){const t=Fi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Lu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function BA(n){const{app:e}=n,t=Fi(e);let r=t.tokenRefresher;r||(r=function PM(n){const{app:e}=n;return new yM((0,Ae.Z)(function*(){let r;if(r=Fi(e).token?yield sC(n,!0):yield sC(n),r.error)throw r.error}),()=>!0,()=>{const t=Fi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Lu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function jA(n,e){const t=Fi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function oC(n){return n.expireTimeMillis-Date.now()>0}function FM(n){return{token:NM(RM),error:n}}class LM{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Fi(this.app);for(const t of e)KD(this.app,t.next);return Promise.resolve()}}const KA="app-check-internal";!function QM(){(0,_c._registerComponent)(new xf.wA("app-check",n=>function VM(n,e){return new LM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(KA).initialize()})),(0,_c._registerComponent)(new xf.wA(KA,n=>function UM(n){return{getToken:e=>sC(n,e),addTokenListener:e=>function WD(n,e,t,r){const{app:o}=n,l=Fi(o),f={next:t,error:r,type:e};if(Lu(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,f]})),l.token&&oC(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),BA(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>BA(n))}(n,"INTERNAL",e),removeTokenListener:e=>KD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_c.registerVersion)("@firebase/app-check","0.5.3")}();class XD{constructor(){return(0,$r.vb)("app-check")}}"undefined"!=typeof window&&window;var QA=L(127);const JA=new d.OlP("angularfire2.auth.use-emulator"),XA=new d.OlP("angularfire2.auth.settings"),eS=new d.OlP("angularfire2.auth.tenant-id"),tS=new d.OlP("angularfire2.auth.langugage-code"),nS=new d.OlP("angularfire2.auth.use-device-language"),rS=new d.OlP("angularfire.auth.persistence"),iS=(n,e,t,r,o,l,f,m)=>(0,Gs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const C=e.runOutsideAngular(()=>n.auth());if(t&&C.useEmulator(...t),r&&(C.tenantId=r),C.languageCode=o,l&&C.useDeviceLanguage(),f)for(const[A,R]of Object.entries(f))C.settings[A]=R;return m&&C.setPersistence(m),C},[t,r,o,l,f,m]);let Ow=(()=>{class n{constructor(t,r,o,l,f,m,C,A,R,F,W,ie){const Se=new M.x,We=b(void 0).pipe((0,XE.Q)(f.outsideAngular),tr(()=>l.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,3059)))),(0,It.U)(()=>(0,Gs.on)(t,l,r)),(0,It.U)(at=>iS(at,l,m,A,R,F,C,W)),TA({bufferSize:1,refCount:!1}));if(fr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=b(null);else{We.pipe(ra()).subscribe();const jt=We.pipe(tr(zt=>zt.getRedirectResult().then(Jn=>Jn,()=>null)),$r.iC,TA({bufferSize:1,refCount:!1})),rn=We.pipe(tr(zt=>new Te.y(Jn=>({unsubscribe:l.runOutsideAngular(()=>zt.onAuthStateChanged(Vu=>Jn.next(Vu),Vu=>Jn.error(Vu),()=>Jn.complete()))})))),lr=We.pipe(tr(zt=>new Te.y(Jn=>({unsubscribe:l.runOutsideAngular(()=>zt.onIdTokenChanged(Vu=>Jn.next(Vu),Vu=>Jn.error(Vu),()=>Jn.complete()))}))));this.authState=jt.pipe(AA(rn),(0,FD.R)(f.outsideAngular),(0,XE.Q)(f.insideAngular)),this.user=jt.pipe(AA(lr),(0,FD.R)(f.outsideAngular),(0,XE.Q)(f.insideAngular)),this.idToken=this.user.pipe(tr(zt=>zt?(0,hn.D)(zt.getIdToken()):b(null))),this.idTokenResult=this.user.pipe(tr(zt=>zt?(0,hn.D)(zt.getIdTokenResult()):b(null))),this.credential=(0,rM.T)(jt,Se,this.authState.pipe(xi(zt=>!zt))).pipe((0,It.U)(zt=>(null==zt?void 0:zt.user)?zt:null),(0,FD.R)(f.outsideAngular),(0,XE.Q)(f.insideAngular))}return(0,Gs.pX)(this,We,l,{spy:{apply:(at,jt,rn)=>{(at.startsWith("signIn")||at.startsWith("createUser"))&&rn.then(lr=>Se.next(lr))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Gs.Dh),d.LFG(Gs.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG($r.HU),d.LFG(JA,8),d.LFG(XA,8),d.LFG(eS,8),d.LFG(tS,8),d.LFG(nS,8),d.LFG(rS,8),d.LFG(XD,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),r1=(()=>{class n{constructor(){QA.Z.registerVersion("angularfire",$r.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Ow]}),n})();function sS(n,e){return function i1(n,e=kC.z){return new Te.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function tT(n,e){return sS(n,e).pipe((0,It.U)(t=>({payload:t,type:"query"})))}function uC(n,e){return tT(n,e).pipe(Us(void 0),zy(),(0,It.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,m)=>{const C=o.find(R=>R.doc.ref.isEqual(f.ref)),A=null==t?void 0:t.payload.docs.find(R=>R.ref.isEqual(f.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(f.metadata)||!C&&A&&JSON.stringify(A.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),l}))}function oS(n,e,t){return uC(n,t).pipe(fi((r,o)=>function o1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function a1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return nT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return nT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function OC(n,e=Wi.y){return n=null!=n?n:Ww,(0,Ar.e)((t,r)=>{let o,l=!0;t.subscribe((0,xn.x)(r,f=>{const m=e(f);(l||!n(o,m))&&(l=!1,o=m,r.next(f))}))})}(),(0,It.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function nT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function aS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class uS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=uC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Us(void 0),zy(),xi(([r,o])=>o.length>0||!r),(0,It.U)(([r,o])=>o),$r.iC)}auditTrail(e){return this.stateChanges(e).pipe(fi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=aS(e);return oS(this.query,t,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return tT(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),$r.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe($r.iC)}add(e){return this.ref.add(e)}doc(e){return new lS(this.ref.doc(e),this.afs)}}class lS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=hS(r,t);return new uS(o,l,this.afs)}snapshotChanges(){return function s1(n,e){return sS(n,e).pipe(Us(void 0),zy(),(0,It.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,It.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe($r.iC)}}class u1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?uC(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),xi(t=>t.length>0),$r.iC):uC(this.query,this.afs.schedulers.outsideAngular).pipe($r.iC)}auditTrail(e){return this.stateChanges(e).pipe(fi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=aS(e);return oS(this.query,t,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return tT(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),$r.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe($r.iC)}}const cS=new d.OlP("angularfire2.enableFirestorePersistence"),dS=new d.OlP("angularfire2.firestore.persistenceSettings"),l1=new d.OlP("angularfire2.firestore.settings"),c1=new d.OlP("angularfire2.firestore.use-emulator");function hS(n,e=(t=>t)){return{query:e(n),ref:n}}let rT=(()=>{class n{constructor(t,r,o,l,f,m,C,A,R,F,W,ie,Se,We,at,jt,rn){this.schedulers=C;const lr=(0,Gs.on)(t,m,r),zt=R;F&&iS(lr,m,W,Se,We,at,ie,jt),[this.firestore,this.persistenceEnabled$]=(0,Gs.cc)(`${lr.name}.firestore`,"AngularFirestore",lr.name,()=>{const Jn=m.runOutsideAngular(()=>lr.firestore());if(l&&Jn.settings(l),zt&&Jn.useEmulator(...zt),o&&!fr(f)){const Vu=()=>{try{return(0,hn.D)(Jn.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(AC){return"undefined"!=typeof console&&console.warn(AC),b(!1)}};return[Jn,m.runOutsideAngular(Vu)]}return[Jn,b(!1)]},[l,zt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:f}=hS(o,r),m=this.schedulers.ngZone.run(()=>l);return new uS(m,f,this)}collectionGroup(t,r){const o=r||(f=>f),l=this.firestore.collectionGroup(t);return new u1(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new lS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Gs.Dh),d.LFG(Gs.xv,8),d.LFG(cS,8),d.LFG(l1,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG($r.HU),d.LFG(dS,8),d.LFG(c1,8),d.LFG(Ow,8),d.LFG(JA,8),d.LFG(XA,8),d.LFG(eS,8),d.LFG(tS,8),d.LFG(nS,8),d.LFG(rS,8),d.LFG(XD,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),d1=(()=>{class n{constructor(){QA.Z.registerVersion("angularfire",$r.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:cS,useValue:!0},{provide:dS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[rT]}),n})(),lC=(()=>{class n{constructor(t){this.db=t,this.id="1"}getConfiguracion(){return this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracion=this.configuracionDoc.valueChanges(),this.configuracion}modificarConfiguracion(t){this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracionDoc.update(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rT))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Zp=(()=>{class n extends fS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Hl=new d.OlP("NgValueAccessor"),f1={provide:Hl,useExisting:(0,d.Gpc)(()=>iT),multi:!0};let iT=(()=>{class n extends Zp{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[d._Bn([f1]),d.qOj]}),n})();const p1={provide:Hl,useExisting:(0,d.Gpc)(()=>Wp),multi:!0},m1=new d.OlP("CompositionEventMode");let Wp=(()=>{class n extends fS{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function g1(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(m1,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[d._Bn([p1]),d.qOj]}),n})();function Hh(n){return null==n||0===n.length}const Ts=new d.OlP("NgValidators"),Gh=new d.OlP("NgAsyncValidators");function yS(n){return Hh(n.value)?{required:!0}:null}function cC(n){return null}function CS(n){return null!=n}function IS(n){const e=(0,d.QGY)(n)?(0,hn.D)(n):n;return(0,d.CqO)(e),e}function DS(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function TS(n,e){return e.map(t=>t(n))}function AS(n){return n.map(e=>function v1(n){return!n.validate}(e)?e:t=>e.validate(t))}function sT(n){return null!=n?function SS(n){if(!n)return null;const e=n.filter(CS);return 0==e.length?null:function(t){return DS(TS(t,e))}}(AS(n)):null}function oT(n){return null!=n?function xS(n){if(!n)return null;const e=n.filter(CS);return 0==e.length?null:function(t){return function h1(...n){const e=(0,E.jO)(n),{args:t,keys:r}=Tr(n),o=new Te.y(l=>{const{length:f}=t;if(!f)return void l.complete();const m=new Array(f);let C=f,A=f;for(let R=0;R<f;R++){let F=!1;(0,du.Xf)(t[R]).subscribe((0,xn.x)(l,W=>{F||(F=!0,A--),m[R]=W},()=>C--,void 0,()=>{(!C||!F)&&(A||l.next(r?ou(r,m):m),l.complete())}))}});return e?o.pipe(_d(e)):o}(TS(t,e).map(IS)).pipe((0,It.U)(DS))}}(AS(n)):null}function MS(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function aT(n){return n?Array.isArray(n)?n:[n]:[]}function dC(n,e){return Array.isArray(n)?n.includes(e):n===e}function RS(n,e){const t=aT(e);return aT(n).forEach(o=>{dC(t,o)||t.push(o)}),t}function NS(n,e){return aT(e).filter(t=>!dC(n,t))}class PS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=oT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class qh extends PS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ro extends PS{get formDirective(){return null}get path(){return null}}class FS{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let ry=(()=>{class n extends FS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(qh,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})(),Rw=(()=>{class n extends FS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ro,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[d.qOj]}),n})();function Nw(n,e){cT(n,e),e.valueAccessor.writeValue(n.value),function T1(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&VS(n,e)})}(n,e),function S1(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function A1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&VS(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function D1(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function gC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cT(n,e){const t=function kS(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(MS(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function OS(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(MS(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();gC(e._rawValidators,o),gC(e._rawAsyncValidators,o)}function VS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Pw="VALID",yC="INVALID",iy="PENDING",Fw="DISABLED";function gT(n){return(vC(n)?n.validators:n)||null}function jS(n){return Array.isArray(n)?sT(n):n||null}function mT(n,e){return(vC(e)?e.asyncValidators:n)||null}function $S(n){return Array.isArray(n)?oT(n):n||null}function vC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const yT=n=>n instanceof _T;function GS(n){return(n=>n instanceof ZS)(n)?n.value:n.getRawValue()}function qS(n,e){const t=yT(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[e])throw new d.vHH(1001,"")}function zS(n,e){yT(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new d.vHH(1002,"")})}class vT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=jS(this._rawValidators),this._composedAsyncValidatorFn=$S(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pw}get invalid(){return this.status===yC}get pending(){return this.status==iy}get disabled(){return this.status===Fw}get enabled(){return this.status!==Fw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=jS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=$S(e)}addValidators(e){this.setValidators(RS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NS(e,this._rawAsyncValidators))}hasValidator(e){return dC(this._rawValidators,e)}hasAsyncValidator(e){return dC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=iy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fw,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pw,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pw||this.status===iy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fw:Pw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=iy,this._hasOwnPendingAsyncValidator=!0;const t=IS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function O1(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=yT(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof N1)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Fw:this.errors?yC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iy)?iy:this._anyControlsHaveStatus(yC)?yC:Pw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ZS extends vT{constructor(e=null,t,r){super(gT(t),mT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vC(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class _T extends vT{constructor(e,t,r){super(gT(t),mT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){zS(this,e),Object.keys(e).forEach(r=>{qS(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=GS(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class N1 extends vT{constructor(e,t,r){super(gT(t),mT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){zS(this,e),e.forEach((r,o)=>{qS(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>GS(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const P1={provide:ro,useExisting:(0,d.Gpc)(()=>Kp)},Lw=(()=>Promise.resolve(null))();let Kp=(()=>{class n extends ro{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new _T({},sT(t),oT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Lw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Nw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Lw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Lw.then(()=>{const r=this._findContainer(t.path),o=new _T({});(function US(n,e){cT(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Lw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Lw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function BS(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ts,10),d.Y36(Gh,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([P1]),d.qOj]}),n})();const L1={provide:qh,useExisting:(0,d.Gpc)(()=>Yp)},YS=(()=>Promise.resolve(null))();let Yp=(()=>{class n extends qh{constructor(t,r,o,l,f){super(),this._changeDetectorRef=f,this.control=new ZS,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function hT(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===Wp?t=l:function k1(n){return Object.getPrototypeOf(n.constructor)===Zp}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function dT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){YS.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;YS.then(()=>{var l;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function fC(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ro,9),d.Y36(Ts,10),d.Y36(Gh,10),d.Y36(Hl,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([L1]),d.qOj,d.TTD]}),n})(),Vw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const V1={provide:Hl,useExisting:(0,d.Gpc)(()=>_C),multi:!0};let _C=(()=>{class n extends Zp{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[d._Bn([V1]),d.qOj]}),n})(),QS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();let Qp=(()=>{class n{constructor(){this._validator=cC}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):cC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const nk={provide:Ts,useExisting:(0,d.Gpc)(()=>Jp),multi:!0};let Jp=(()=>{class n extends Qp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function X1(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>yS}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([nk]),d.qOj]}),n})();const sk={provide:Ts,useExisting:(0,d.Gpc)(()=>wC),multi:!0};let wC=(()=>{class n extends Qp{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function ox(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function wS(n){return e=>Hh(e.value)||!function pS(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([sk]),d.qOj]}),n})();const ak={provide:Ts,useExisting:(0,d.Gpc)(()=>bC),multi:!0};let bC=(()=>{class n extends Qp{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>function ES(n){if(!n)return cC;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Hh(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[d._Bn([ak]),d.qOj]}),n})(),uk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[QS]]}),n})(),lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[uk]}),n})(),ck=(()=>{class n{constructor(t,r){this.router=t,this.configuracionServicio=r,this.permitirRegistro=!1}ngOnInit(){this.configuracionServicio.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}guardar(){this.configuracionServicio.modificarConfiguracion({permitirRegistro:this.permitirRegistro}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rr),d.Y36(lC))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-configuracion"]],decls:34,vars:3,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["href","","routerLink","/",1,"btn","btn-primary","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block",3,"click"],[1,"fas","fa-check"],["id","configuracion"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","name","permitirRegistro",1,"form-check-input",3,"ngModel","checked","ngModelChange"]],template:function(t,r){1&t&&(d.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),d._UZ(5,"i",4),d._uU(6," Configuraci\xf3n "),d.qZA()()()()(),d.TgZ(7,"section",5)(8,"div",1)(9,"div",2)(10,"div",6)(11,"a",7),d._UZ(12,"i",8),d._uU(13," Regresar al inicio "),d.qZA()(),d.TgZ(14,"div",6)(15,"button",9),d.NdJ("click",function(){return r.guardar()}),d._UZ(16,"i",10),d._uU(17," Guardar Cambios "),d.qZA()()()()(),d.TgZ(18,"section",11)(19,"div",1)(20,"div",2)(21,"div",12)(22,"div",13)(23,"div",14)(24,"h4"),d._uU(25,"Editar Configuraci\xf3n"),d.qZA()(),d.TgZ(26,"div",15)(27,"fieldset",16)(28,"legend"),d._uU(29,"Permitir registro de usuarios"),d.qZA(),d.TgZ(30,"div",17)(31,"label",18)(32,"input",19),d.NdJ("ngModelChange",function(l){return r.permitirRegistro=l}),d.qZA(),d._uU(33),d.qZA()()()()()()()()()),2&t&&(d.xp6(32),d.Q6J("ngModel",r.permitirRegistro)("checked",r.permitirRegistro),d.xp6(1),d.hij("",r.permitirRegistro?"Si":"No"," "))},directives:[vc,iT,ry,Yp],styles:[""]}),n})();var dk=L(5226),EC=L.n(dk);let DT=(()=>{class n{constructor(t){this.db=t,this.clientesColeccion=t.collection("clientes",r=>r.orderBy("nombre","asc"))}getClientes(){return this.clientes=this.clientesColeccion.snapshotChanges().pipe((0,It.U)(t=>t.map(r=>{const o=r.payload.doc.data();return o.id=r.payload.doc.id,o}))),this.clientes}agregarCliente(t){this.clientesColeccion.add(t)}getCliente(t){return this.clienteDoc=this.db.doc("clientes/"+t),this.cliente=this.clienteDoc.snapshotChanges().pipe((0,It.U)(r=>{if(!1===r.payload.exists)return null;{const o=r.payload.data();return o.id=r.payload.id,o}})),this.cliente}modificarCliente(t){this.clienteDoc=this.db.doc("clientes/"+t.id),this.clienteDoc.update(t)}eliminarCliente(t){this.clienteDoc=this.db.doc("clientes/"+t.id),this.clienteDoc.delete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rT))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CC=function(n){return{"is-invalid":n}};let hk=(()=>{class n{constructor(t,r,o){this.clientesServicio=t,this.router=r,this.route=o,this.cliente={nombre:"",apellido:"",email:"",saldo:0}}ngOnInit(){this.id=this.route.snapshot.params.id,this.clientesServicio.getCliente(this.id).subscribe(t=>{this.cliente=t})}guardar({value:t,valid:r}){r?(t.id=this.id,this.clientesServicio.modificarCliente(t),this.router.navigate(["/"])):EC().fire({icon:"error",text:"\xa1Debe diligenciar todos los campos antes de guardar!"})}eliminar(){confirm("\xbfSeguro que desea eliminar el cliente?")&&(this.clientesServicio.eliminarCliente(this.cliente),this.router.navigate(["/"]))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(DT),d.Y36(rr),d.Y36(la))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-editar-cliente"]],decls:67,vars:23,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["action","",3,"ngSubmit"],["clienteForm","ngForm"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-primary","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block"],[1,"fas","fa-check"],["href","#","click","eliminar()",1,"btn","btn-danger","btn-block"],[1,"fas","fa-trash"],["id","details"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group","mb-3"],["for","nombre"],["type","text","name","nombre","id","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","apellido"],["type","text","name","apellido","id","apellido","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["apellido","ngModel"],["for","email"],["type","email","name","email","id","email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],[1,"form-group","mb-4"],["for","saldo"],["type","number","name","saldo","id","saldo","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["saldo","ngModel"]],template:function(t,r){if(1&t){const o=d.EpF();d.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),d._UZ(5,"i",4),d._uU(6," Editar Cliente"),d.qZA()()()()(),d.TgZ(7,"form",5,6),d.NdJ("ngSubmit",function(){d.CHM(o);const f=d.MAs(8);return r.guardar(f.form)}),d.TgZ(9,"section",7)(10,"div",1)(11,"div",2)(12,"div",8)(13,"a",9),d._UZ(14,"i",10),d._uU(15," Regresar al inicio "),d.qZA()(),d.TgZ(16,"div",8)(17,"button",11),d._UZ(18,"i",12),d._uU(19," Guardar Cliente "),d.qZA()(),d.TgZ(20,"div",8)(21,"a",13),d._UZ(22,"i",14),d._uU(23," Eliminar Cliente "),d.qZA()()()()(),d.TgZ(24,"section",15)(25,"div",1)(26,"div",2)(27,"div",16)(28,"div",17)(29,"div",18)(30,"h4"),d._uU(31,"Editar Cliente"),d.qZA()(),d.TgZ(32,"div",19)(33,"div",20)(34,"label",21),d._uU(35,"Nombre: "),d.qZA(),d.TgZ(36,"input",22,23),d.NdJ("ngModelChange",function(f){return r.cliente.nombre=f}),d.qZA(),d.TgZ(38,"div",24),d._uU(39," \xa1Nombre requerido! "),d.qZA(),d.TgZ(40,"div",24),d._uU(41," \xa1El nombre debe tener al menos dos car\xe1cteres! "),d.qZA()(),d.TgZ(42,"div",20)(43,"label",25),d._uU(44,"Apellido: "),d.qZA(),d.TgZ(45,"input",26,27),d.NdJ("ngModelChange",function(f){return r.cliente.apellido=f}),d.qZA(),d.TgZ(47,"div",24),d._uU(48," \xa1Apellido requerido! "),d.qZA(),d.TgZ(49,"div",24),d._uU(50," \xa1El apellido debe tener al menos dos car\xe1cteres! "),d.qZA()(),d.TgZ(51,"div",20)(52,"label",28),d._uU(53,"Email: "),d.qZA(),d.TgZ(54,"input",29,30),d.NdJ("ngModelChange",function(f){return r.cliente.email=f}),d.qZA(),d.TgZ(56,"div",24),d._uU(57," \xa1Email requerido! "),d.qZA(),d.TgZ(58,"div",24),d._uU(59," \xa1El email ingresado no es valido, int\xe9ntelo nuevamente! "),d.qZA()(),d.TgZ(60,"div",31)(61,"label",32),d._uU(62,"Saldo: "),d.qZA(),d.TgZ(63,"input",33,34),d.NdJ("ngModelChange",function(f){return r.cliente.saldo=f}),d.qZA(),d.TgZ(65,"div",24),d._uU(66," \xa1Saldo requerido! "),d.qZA()()()()()()()()()}if(2&t){const o=d.MAs(37),l=d.MAs(46),f=d.MAs(55),m=d.MAs(64);d.xp6(36),d.Q6J("ngModel",r.cliente.nombre)("ngClass",d.VKq(15,CC,o.errors&&o.touched)),d.xp6(2),d.Q6J("hidden",!(null!=o.errors&&o.errors.required)),d.xp6(2),d.Q6J("hidden",!(null!=o.errors&&o.errors.minlength)),d.xp6(5),d.Q6J("ngModel",r.cliente.apellido)("ngClass",d.VKq(17,CC,l.errors&&l.touched)),d.xp6(2),d.Q6J("hidden",!(null!=l.errors&&l.errors.required)),d.xp6(2),d.Q6J("hidden",!(null!=l.errors&&l.errors.minlength)),d.xp6(5),d.Q6J("ngModel",r.cliente.email)("ngClass",d.VKq(19,CC,f.errors&&f.touched)),d.xp6(2),d.Q6J("hidden",!(null!=f.errors&&f.errors.required)),d.xp6(2),d.Q6J("hidden",!(null!=f.errors&&f.errors.pattern)),d.xp6(5),d.Q6J("ngModel",r.cliente.saldo)("ngClass",d.VKq(21,CC,m.errors&&m.touched)),d.xp6(2),d.Q6J("hidden",!(null!=m.errors&&m.errors.required))}},directives:[Vw,Rw,Kp,vc,Wp,Jp,wC,ry,Yp,Ui,bC,_C],styles:[""]}),n})(),IC=(()=>{class n{constructor(t){this.authService=t}login(t,r){return new Promise((o,l)=>{this.authService.signInWithEmailAndPassword(t,r).then(f=>o(f),f=>l(f))})}getAuth(){return this.authService.authState.pipe((0,It.U)(t=>t))}logOut(){this.authService.signOut()}registrarse(t,r){return new Promise((o,l)=>{this.authService.createUserWithEmailAndPassword(t,r).then(f=>o(f),f=>l(f))})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ow))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fk=(()=>{class n{constructor(t,r){this.router=t,this.loginService=r}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}login(){this.loginService.login(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{EC().fire({icon:"info",text:"\xa1Datos incorrectos!"})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rr),d.Y36(IC))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","login"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group","mb-3"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","login",1,"btn","btn-primary","btn-block","col-md-12"]],template:function(t,r){1&t&&(d.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),d._UZ(5,"i",4),d._uU(6," Login "),d.qZA()()()()(),d.TgZ(7,"section",5)(8,"div",1),d._UZ(9,"div",2),d.qZA()(),d.TgZ(10,"section",6)(11,"div",1)(12,"div",2)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h4"),d._uU(17,"Login"),d.qZA()(),d.TgZ(18,"div",10)(19,"form",11),d.NdJ("submit",function(){return r.login()}),d.TgZ(20,"div",12)(21,"label",13),d._uU(22,"Email"),d.qZA(),d.TgZ(23,"input",14),d.NdJ("ngModelChange",function(l){return r.email=l}),d.qZA()(),d.TgZ(24,"div",12)(25,"label",15),d._uU(26,"Password"),d.qZA(),d.TgZ(27,"input",16),d.NdJ("ngModelChange",function(l){return r.password=l}),d.qZA()(),d._UZ(28,"input",17),d.qZA()()()()()()()),2&t&&(d.xp6(23),d.Q6J("ngModel",r.email),d.xp6(4),d.Q6J("ngModel",r.password))},directives:[Vw,Rw,Kp,Wp,Jp,ry,Yp],styles:[""]}),n})(),pk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-no-encontrado"]],decls:2,vars:0,template:function(t,r){1&t&&(d.TgZ(0,"p"),d._uU(1,"no-encontrado works!"),d.qZA())},styles:[""]}),n})(),gk=(()=>{class n{constructor(t,r){this.loginService=t,this.router=r}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}registro(){this.loginService.registrarse(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{EC().fire({icon:"info",text:"\xa1Debe ingresar un email y un password para quedar registrado!"})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(IC),d.Y36(rr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-registro"]],decls:29,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","registro"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group","mb-3"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Registrarse",1,"btn","btn-primary","btn-block","col-12"]],template:function(t,r){1&t&&(d.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),d._UZ(5,"i",4),d._uU(6," Registro "),d.qZA()()()()(),d.TgZ(7,"section",5)(8,"div",1),d._UZ(9,"div",2),d.qZA()(),d.TgZ(10,"section",6)(11,"div",1)(12,"div",2)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h4"),d._uU(17,"Registro"),d.qZA()(),d.TgZ(18,"div",10)(19,"form",11),d.NdJ("submit",function(){return r.registro()}),d.TgZ(20,"div",12)(21,"label",13),d._uU(22,"Email"),d.qZA(),d.TgZ(23,"input",14),d.NdJ("ngModelChange",function(l){return r.email=l}),d.qZA()(),d.TgZ(24,"div",12)(25,"label",15),d._uU(26,"Password"),d.qZA(),d.TgZ(27,"input",16),d.NdJ("ngModelChange",function(l){return r.password=l}),d.qZA()(),d._UZ(28,"input",17),d.qZA()()()()()()()),2&t&&(d.xp6(23),d.Q6J("ngModel",r.email),d.xp6(4),d.Q6J("ngModel",r.password))},directives:[Vw,Rw,Kp,Wp,Jp,ry,Yp],styles:[""]}),n})();const mk=["clienteForm"],yk=["botonCerrar"];function vk(n,e){if(1&n&&(d.TgZ(0,"tr",47)(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.ALo(7,"currency"),d.qZA(),d.TgZ(8,"td")(9,"a",48),d._UZ(10,"i",49),d._uU(11," Editar "),d.qZA()()()),2&n){const t=e.$implicit,r=e.index;d.xp6(2),d.Oqu(r+1),d.xp6(2),d.AsE("",t.nombre," ",t.apellido,""),d.xp6(2),d.Oqu(d.gM2(7,5,t.saldo," COP","$","4.2-2")),d.xp6(3),d.MGl("routerLink","/cliente/editar/",t.id,"")}}const DC=function(n){return{"is-invalid":n}};let _k=(()=>{class n{constructor(t){this.clientesServicio=t,this.cliente={nombre:"",apellido:"",email:"",saldo:0}}ngOnInit(){this.clientesServicio.getClientes().subscribe(t=>{this.clientes=t})}getSaldoTotal(){let t=0;return this.clientes&&this.clientes.forEach(r=>{t+=r.saldo}),t}agregar({value:t,valid:r}){r?(this.clientesServicio.agregarCliente(t),this.clienteForm.resetForm(),this.cerrarModal()):EC().fire({icon:"error",text:"\xa1Debe diligenciar todos los campos antes de guardar!"})}cerrarModal(){this.botonCerrar.nativeElement.click()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(DT))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-clientes"]],viewQuery:function(t,r){if(1&t&&(d.Gf(mk,5),d.Gf(yk,5)),2&t){let o;d.iGM(o=d.CRH())&&(r.clienteForm=o.first),d.iGM(o=d.CRH())&&(r.botonCerrar=o.first)}},decls:89,vars:31,consts:[["id","actions",1,"py-4","mb-4","bg-white"],[1,"container"],[1,"row"],[1,"col-md-3"],["href","#","role","button","data-bs-toggle","modal","data-bs-target","#agregarClienteModal",1,"btn","btn-primary","btn-block"],[1,"fas","fa-plus"],["id","clientes"],[1,"col-md-8"],[1,"card-header"],[1,"card-title","color-primary"],[1,"table","table-striped"],[1,"table-primary"],["scope","col"],["class","table-light",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","text-center","bg-danger","text-white","mb-3"],[1,"card-body"],[1,"display-6"],[1,"card","text-center","bg-success","text-white","mb-3"],[1,"fas","fa-users"],["id","agregarClienteModal",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-info","text-white"],[1,"modal-title"],["data-bs-dismiss","modal",1,"btn-close","bg-danger"],["botonCerrar",""],["action","",3,"ngSubmit"],["clienteForm","ngForm"],[1,"modal-body"],[1,"form-group","mb-3"],["for","nombre"],["type","text","name","nombre","id","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","apellido"],["type","text","name","apellido","id","apellido","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["apellido","ngModel"],["for","email"],["type","email","name","email","id","email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],[1,"form-group","mb-4"],["for","saldo"],["type","number","name","saldo","id","saldo","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["saldo","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],[1,"table-light"],[1,"btn","btn-primary",3,"routerLink"],[1,"fas","fa-angle-double-right"]],template:function(t,r){if(1&t){const o=d.EpF();d.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),d._UZ(5,"i",5),d._uU(6," Agregar Cliente "),d.qZA()()()()(),d.TgZ(7,"section",6)(8,"div",1)(9,"div",2)(10,"div",7)(11,"div",8)(12,"h4",9),d._uU(13,"Listado de Clientes"),d.qZA()(),d.TgZ(14,"table",10)(15,"thead",11)(16,"tr")(17,"th",12),d._uU(18,"#"),d.qZA(),d.TgZ(19,"th",12),d._uU(20,"Nombre"),d.qZA(),d.TgZ(21,"th",12),d._uU(22,"Saldo"),d.qZA(),d._UZ(23,"th"),d.qZA()(),d.TgZ(24,"tbody"),d.YNc(25,vk,12,10,"tr",13),d.qZA()()(),d.TgZ(26,"div",14)(27,"div",15)(28,"div",16)(29,"h3"),d._uU(30,"Saldo Total"),d.qZA(),d.TgZ(31,"h4",17),d._uU(32),d.ALo(33,"currency"),d.qZA()()(),d.TgZ(34,"div",18)(35,"div",16)(36,"h3"),d._uU(37,"Total Clientes"),d.qZA(),d.TgZ(38,"h4",17),d._UZ(39,"i",19),d._uU(40),d.qZA()()()()()()(),d.TgZ(41,"div",20)(42,"div",21)(43,"div",22)(44,"div",23)(45,"h5",24),d._uU(46,"Agregar Cliente"),d.qZA(),d._UZ(47,"button",25,26),d.qZA(),d.TgZ(49,"form",27,28),d.NdJ("ngSubmit",function(){d.CHM(o);const f=d.MAs(50);return r.agregar(f.form)}),d.TgZ(51,"div",29)(52,"div",30)(53,"label",31),d._uU(54,"Nombre: "),d.qZA(),d.TgZ(55,"input",32,33),d.NdJ("ngModelChange",function(f){return r.cliente.nombre=f}),d.qZA(),d.TgZ(57,"div",34),d._uU(58," \xa1Nombre requerido! "),d.qZA(),d.TgZ(59,"div",34),d._uU(60," \xa1El nombre debe tener al menos dos car\xe1cteres! "),d.qZA()(),d.TgZ(61,"div",30)(62,"label",35),d._uU(63,"Apellido: "),d.qZA(),d.TgZ(64,"input",36,37),d.NdJ("ngModelChange",function(f){return r.cliente.apellido=f}),d.qZA(),d.TgZ(66,"div",34),d._uU(67," \xa1Apellido requerido! "),d.qZA(),d.TgZ(68,"div",34),d._uU(69," \xa1El apellido debe tener al menos dos car\xe1cteres! "),d.qZA()(),d.TgZ(70,"div",30)(71,"label",38),d._uU(72,"Email: "),d.qZA(),d.TgZ(73,"input",39,40),d.NdJ("ngModelChange",function(f){return r.cliente.email=f}),d.qZA(),d.TgZ(75,"div",34),d._uU(76," \xa1Email requerido! "),d.qZA(),d.TgZ(77,"div",34),d._uU(78," \xa1El email ingresado no es valido, int\xe9ntelo nuevamente! "),d.qZA()(),d.TgZ(79,"div",41)(80,"label",42),d._uU(81,"Saldo: "),d.qZA(),d.TgZ(82,"input",43,44),d.NdJ("ngModelChange",function(f){return r.cliente.saldo=f}),d.qZA(),d.TgZ(84,"div",34),d._uU(85," \xa1Saldo requerido! "),d.qZA()(),d.TgZ(86,"div",45)(87,"button",46),d._uU(88,"Guardar"),d.qZA()()()()()()()}if(2&t){const o=d.MAs(56),l=d.MAs(65),f=d.MAs(74),m=d.MAs(83);d.xp6(25),d.Q6J("ngForOf",r.clientes),d.xp6(7),d.hij(" ",d.gM2(33,18,r.getSaldoTotal()," COP","$","4.2-2")," "),d.xp6(8),d.hij(" ",null==r.clientes?null:r.clientes.length," "),d.xp6(15),d.Q6J("ngModel",r.cliente.nombre)("ngClass",d.VKq(23,DC,o.errors&&o.touched)),d.xp6(2),d.Q6J("hidden",!(null!=o.errors&&o.errors.required)),d.xp6(2),d.Q6J("hidden",!(null!=o.errors&&o.errors.minlength)),d.xp6(5),d.Q6J("ngModel",r.cliente.apellido)("ngClass",d.VKq(25,DC,l.errors&&l.touched)),d.xp6(2),d.Q6J("hidden",!(null!=l.errors&&l.errors.required)),d.xp6(2),d.Q6J("hidden",!(null!=l.errors&&l.errors.minlength)),d.xp6(5),d.Q6J("ngModel",r.cliente.email)("ngClass",d.VKq(27,DC,f.errors&&f.touched)),d.xp6(2),d.Q6J("hidden",!(null!=f.errors&&f.errors.required)),d.xp6(2),d.Q6J("hidden",!(null!=f.errors&&f.errors.pattern)),d.xp6(5),d.Q6J("ngModel",r.cliente.saldo)("ngClass",d.VKq(29,DC,m.errors&&m.touched)),d.xp6(2),d.Q6J("hidden",!(null!=m.errors&&m.errors.required))}},directives:[An,vc,Vw,Rw,Kp,Wp,Jp,wC,ry,Yp,Ui,bC,_C],pipes:[hs],styles:[""]}),n})(),wk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-tablero"]],decls:8,vars:0,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-8"],[1,"fas","fa-cog"]],template:function(t,r){1&t&&(d.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),d._UZ(5,"i",4),d._uU(6," Control de Clientes"),d.qZA()()()()(),d._UZ(7,"app-clientes"))},directives:[_k],styles:[""]}),n})(),TC=(()=>{class n{constructor(t,r){this.router=t,this.afAuth=r}canActivate(){return this.afAuth.authState.pipe((0,It.U)(t=>!!t||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rr),d.LFG(Ow))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fx=(()=>{class n{constructor(t,r){this.router=t,this.configuracionServicio=r}canActivate(){return this.configuracionServicio.getConfiguracion().pipe((0,It.U)(t=>!!t.permitirRegistro||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rr),d.LFG(lC))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bk=[{path:"",component:wk,canActivate:[TC]},{path:"login",component:fk},{path:"registro",component:gk,canActivate:[fx]},{path:"configuracion",component:ck,canActivate:[TC]},{path:"cliente/editar/:id",component:hk,canActivate:[TC]},{path:"**",component:pk}];let Ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Sf.forRoot(bk)],Sf]}),n})();function Ck(n,e){1&n&&(d.TgZ(0,"ul",10)(1,"li",11)(2,"a",12),d._uU(3,"Inicio"),d.qZA()()())}function Ik(n,e){if(1&n&&(d.TgZ(0,"li",13)(1,"a",14)(2,"i",15),d._uU(3),d.qZA()(),d.TgZ(4,"div",16)(5,"a",17)(6,"i",18),d._uU(7,"Configuraci\xf3n"),d.qZA()()()()),2&n){const t=d.oxw();d.xp6(3),d.hij(" Bienvenido ",t.loggedInUser,"")}}function Dk(n,e){1&n&&(d.TgZ(0,"li",19)(1,"a",20),d._UZ(2,"i",15),d._uU(3," Login "),d.qZA()())}function Tk(n,e){1&n&&(d.TgZ(0,"li",19)(1,"a",21),d._UZ(2,"i",15),d._uU(3," Registro "),d.qZA()())}function Ak(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"li",19)(1,"a",22),d.NdJ("click",function(){return d.CHM(t),d.oxw().logOut()}),d._UZ(2,"i",23),d._uU(3," Salir "),d.qZA()()}}let Sk=(()=>{class n{constructor(t,r,o){this.loginService=t,this.router=r,this.configuracionServicio=o}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t?(this.isLoggedIn=!0,this.loggedInUser=t.email):this.isLoggedIn=!1}),this.configuracionServicio.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}logOut(){this.loginService.logOut(),this.isLoggedIn=!1,this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(IC),d.Y36(rr),d.Y36(lC))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-cabecero"]],decls:13,vars:5,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","p-0"],[1,"container","py-2"],["routerLink","/",1,"navbar-brand"],["data-bs-toggle","collapse","data-bs-target","#navbarCollapse",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],["class","navbar-nav",4,"ngIf"],[1,"navbar-nav","ms-auto"],["class","nav-item dropdown mr-3",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item","px-2"],["routerLink","/",1,"nav-link"],[1,"nav-item","dropdown","mr-3"],["href","#","data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle"],[1,"fas","fa-user"],[1,"dropdown-menu"],["routerLink","/configuracion",1,"dropdown-item"],[1,"fas","fa-cog"],[1,"nav-item"],["routerLink","/login","routerLinkActive","router-link-active",1,"nav-link"],["routerLink","/registro","routerLinkActive","router-link-active",1,"nav-link"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"fas","fa-user-times"]],template:function(t,r){1&t&&(d.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),d._uU(3,"Control Clientes"),d.qZA(),d.TgZ(4,"button",3),d._UZ(5,"span",4),d.qZA(),d.TgZ(6,"div",5),d.YNc(7,Ck,4,0,"ul",6),d.TgZ(8,"ul",7),d.YNc(9,Ik,8,1,"li",8),d.YNc(10,Dk,4,0,"li",9),d.YNc(11,Tk,4,0,"li",9),d.YNc(12,Ak,4,0,"li",9),d.qZA()()()()),2&t&&(d.xp6(7),d.Q6J("ngIf",r.isLoggedIn),d.xp6(2),d.Q6J("ngIf",r.isLoggedIn),d.xp6(1),d.Q6J("ngIf",!r.isLoggedIn&&r.permitirRegistro),d.xp6(1),d.Q6J("ngIf",!r.isLoggedIn&&r.permitirRegistro),d.xp6(1),d.Q6J("ngIf",r.isLoggedIn))},directives:[vc,dr,Fy],styles:[""]}),n})(),xk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-pie-pagina"]],decls:6,vars:0,consts:[["id","pie-pagina",1,"bg-dark","text-white","mt-5","p-5"],[1,"container"],[1,"row"],[1,"col"],[1,"lead","text-center"]],template:function(t,r){1&t&&(d.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),d._uU(5,"Copyright \xa9 Proyecto con Angular"),d.qZA()()()()())},styles:[""]}),n})(),Mk=(()=>{class n{constructor(){this.title="control-clientes"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&d._UZ(0,"app-cabecero")(1,"router-outlet")(2,"app-pie-pagina")},directives:[Sk,dc,xk],styles:[""]}),n})();const px_firestore={apiKey:"AIzaSyBX-RmF-0g0o-eR56ehYMuZJxjSIwEPvhM",authDomain:"control-clientes-192e8.firebaseapp.com",projectId:"control-clientes-192e8",storageBucket:"control-clientes-192e8.appspot.com",messagingSenderId:"717648224999",appId:"1:717648224999:web:3c5cafd928d5f9cd31f842",measurementId:"G-XB5EG9D2JH"};let kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[Mk]}),n.\u0275inj=d.cJS({providers:[DT,IC,TC,lC,fx],imports:[[eu,Ek,lk,Gs.hO.initializeApp(px_firestore,"control-clientes"),d1,r1]]}),n})();(0,d.G48)(),Xu().bootstrapModule(kk).catch(n=>console.error(n))},5867:(ut,xe,L)=>{"use strict";L.d(xe,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=L(9681);(0,d.registerVersion)("firebase","9.6.7","app")},127:(ut,xe,L)=>{"use strict";L.d(xe,{Z:()=>d.Z});var d=L(3942);d.Z.registerVersion("firebase","9.6.7","app-compat")},3059:(ut,xe,L)=>{"use strict";L.r(xe);var d=L(5861),X=L(3942),P=L(2090),ge=L(9681),se=L(655),_e=L(1877),ce=L(4859);const Fe=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Q=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new _e.Yd("@firebase/auth");function Le(y,...h){Re.logLevel<=_e.in.ERROR&&Re.error(`Auth (${ge.SDK_VERSION}): ${y}`,...h)}function de(y,...h){throw q(y,...h)}function Ee(y,...h){return q(y,...h)}function Ie(y,h,g){const _=Object.assign(Object.assign({},He()),{[h]:g});return new P.LL("auth","Firebase",_).create(h,{appName:y.name})}function ze(y,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&de(y,"argument-error"),Ie(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function q(y,...h){if("string"!=typeof y){const g=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(g,..._)}return Q.create(y,...h)}function ae(y,h,...g){if(!y)throw q(h,...g)}function K(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Le(h),new Error(h)}function le(y,h){y||K(h)}const me=new Map;function te(y){le(y instanceof Function,"Expected a class definition");let h=me.get(y);return h?(le(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,me.set(y,h),h)}function vt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function $t(){return"http:"===En()||"https:"===En()}function En(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class an{constructor(h,g){this.shortDelay=h,this.longDelay=g,le(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function ot(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($t()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xt(y,h){le(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Cn{static initialize(h,g,_){this.fetchImpl=h,g&&(this.headersImpl=g),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void K("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void K("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void K("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},mr=new an(3e4,6e4);function Zt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function At(y,h,g,_){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(y,h,g,_,S={}){return Xn(y,S,(0,d.Z)(function*(){let N={},Y={};_&&("GET"===h?Y=_:N={body:JSON.stringify(_)});const ve=(0,P.xO)(Object.assign({key:y.config.apiKey},Y)).slice(1),qe=yield y._getAdditionalHeaders();return qe["Content-Type"]="application/json",y.languageCode&&(qe["X-Firebase-Locale"]=y.languageCode),Cn.fetch()(us(y,y.config.apiHost,g,ve),Object.assign({method:h,headers:qe,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Xn(y,h,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,d.Z)(function*(y,h,g){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},Lt),h);try{const S=new Hn(y),N=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const Y=yield N.json();if("needConfirmation"in Y)throw un(y,"account-exists-with-different-credential",Y);if(N.ok&&!("errorMessage"in Y))return Y;{const ve=N.ok?Y.errorMessage:Y.error.message,[qe,it]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw un(y,"credential-already-in-use",Y);if("EMAIL_EXISTS"===qe)throw un(y,"email-already-in-use",Y);const bt=_[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(it)throw Ie(y,bt,it);de(y,bt)}}catch(S){if(S instanceof P.ZR)throw S;de(y,"network-request-failed")}})).apply(this,arguments)}function er(y,h,g,_){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,d.Z)(function*(y,h,g,_,S={}){const N=yield At(y,h,g,_,S);return"mfaPendingCredential"in N&&de(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function us(y,h,g,_){const S=`${h}${g}?${_}`;return y.config.emulator?Xt(y.config,S):`${y.config.apiScheme}://${S}`}class Hn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,_)=>{this.timer=setTimeout(()=>_(Ee(this.auth,"network-request-failed")),mr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function un(y,h,g){const _={appName:y.name};g.email&&(_.email=g.email),g.phoneNumber&&(_.phoneNumber=g.phoneNumber);const S=Ee(y,h,_);return S.customData._tokenResponse=g,S}function Nr(){return(Nr=(0,d.Z)(function*(y,h){return At(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Wt(y,h){return mn.apply(this,arguments)}function mn(){return(mn=(0,d.Z)(function*(y,h){return At(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ls(y,h){return gt.apply(this,arguments)}function gt(){return(gt=(0,d.Z)(function*(y,h){return At(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ve(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Tn(){return(Tn=(0,d.Z)(function*(y,h=!1){const g=(0,P.m9)(y),_=yield g.getIdToken(h),S=Ze(_);ae(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const N="object"==typeof S.firebase?S.firebase:void 0,Y=null==N?void 0:N.sign_in_provider;return{claims:S,token:_,authTime:Ve(ft(S.auth_time)),issuedAtTime:Ve(ft(S.iat)),expirationTime:Ve(ft(S.exp)),signInProvider:Y||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function ft(y){return 1e3*Number(y)}function Ze(y){const[h,g,_]=y.split(".");if(void 0===h||void 0===g||void 0===_)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,P.tV)(g);return S?JSON.parse(S):(Le("Failed to decode base64 JWT payload"),null)}catch(S){return Le("Caught error parsing JWT payload as JSON",S),null}}function yr(y,h){return vn.apply(this,arguments)}function vn(){return(vn=(0,d.Z)(function*(y,h,g=!1){if(g)return h;try{return yield h}catch(_){throw _ instanceof P.ZR&&Vt(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}function Vt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class io{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),_)}iteration(){var h=this;return(0,d.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&h.schedule(!0))}h.schedule()})()}}class vr{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ve(this.lastLoginAt),this.creationTime=Ve(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _r(y){return j.apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(y){var h;const g=y.auth,_=yield y.getIdToken(),S=yield yr(y,ls(g,{idToken:_}));ae(null==S?void 0:S.users.length,g,"internal-error");const N=S.users[0];y._notifyReloadListener(N);const Y=(null===(h=N.providerUserInfo)||void 0===h?void 0:h.length)?oe(N.providerUserInfo):[],ve=re(y.providerData,Y),bt=!!y.isAnonymous&&!(y.email&&N.passwordHash||(null==ve?void 0:ve.length)),ht={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ve,metadata:new vr(N.createdAt,N.lastLoginAt),isAnonymous:bt};Object.assign(y,ht)})).apply(this,arguments)}function Z(){return(Z=(0,d.Z)(function*(y){const h=(0,P.m9)(y);yield _r(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function re(y,h){return[...y.filter(_=>!h.some(S=>S.providerId===_.providerId)),...h]}function oe(y){return y.map(h=>{var{providerId:g}=h,_=(0,se._T)(h,["providerId"]);return{providerId:g,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function mt(){return(mt=(0,d.Z)(function*(y,h){const g=yield Xn(y,{},(0,d.Z)(function*(){const _=(0,P.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:S,apiKey:N}=y.config,Y=us(y,S,"/v1/token",`key=${N}`),ve=yield y._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",Cn.fetch()(Y,{method:"POST",headers:ve,body:_})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class en{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ae(h.idToken,"internal-error"),ae(void 0!==h.idToken,"internal-error"),ae(void 0!==h.refreshToken,"internal-error");const g="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function ct(y){const h=Ze(y);return ae(h,"internal-error"),ae(void 0!==h.exp,"internal-error"),ae(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var _=this;return(0,d.Z)(function*(){return ae(!_.accessToken||_.refreshToken,h,"user-token-expired"),g||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var _=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:N,expiresIn:Y}=yield function Ye(y,h){return mt.apply(this,arguments)}(h,g);_.updateTokensAndExpiration(S,N,Number(Y))})()}updateTokensAndExpiration(h,g,_){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,g){const{refreshToken:_,accessToken:S,expirationTime:N}=g,Y=new en;return _&&(ae("string"==typeof _,"internal-error",{appName:h}),Y.refreshToken=_),S&&(ae("string"==typeof S,"internal-error",{appName:h}),Y.accessToken=S),N&&(ae("number"==typeof N,"internal-error",{appName:h}),Y.expirationTime=N),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new en,this.toJSON())}_performRefresh(){return K("not implemented")}}function Gt(y,h){ae("string"==typeof y||void 0===y,"internal-error",{appName:h})}class ln{constructor(h){var{uid:g,auth:_,stsTokenManager:S}=h,N=(0,se._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=_,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new vr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,d.Z)(function*(){const _=yield yr(g,g.stsTokenManager.getToken(g.auth,h));return ae(_,g.auth,"internal-error"),g.accessToken!==_&&(g.accessToken=_,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),_})()}getIdTokenResult(h){return function Ht(y){return Tn.apply(this,arguments)}(this,h)}reload(){return function z(y){return Z.apply(this,arguments)}(this)}_assign(h){this!==h&&(ae(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new ln(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var _=this;return(0,d.Z)(function*(){let S=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),S=!0),g&&(yield _r(_)),yield _.auth._persistUserIfCurrent(_),S&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,d.Z)(function*(){const g=yield h.getIdToken();return yield yr(h,function rt(y,h){return Nr.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var _,S,N,Y,ve,qe,it,bt;const ht=null!==(_=g.displayName)&&void 0!==_?_:void 0,On=null!==(S=g.email)&&void 0!==S?S:void 0,vs=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,yc=null!==(Y=g.photoURL)&&void 0!==Y?Y:void 0,ml=null!==(ve=g.tenantId)&&void 0!==ve?ve:void 0,yl=null!==(qe=g._redirectEventId)&&void 0!==qe?qe:void 0,Df=null!==(it=g.createdAt)&&void 0!==it?it:void 0,Ny=null!==(bt=g.lastLoginAt)&&void 0!==bt?bt:void 0,{uid:Ua,emailVerified:Rd,isAnonymous:Nd,providerData:Tf,stsTokenManager:Pd}=g;ae(Ua&&Pd,h,"internal-error");const rr=en.fromJSON(this.name,Pd);ae("string"==typeof Ua,h,"internal-error"),Gt(ht,h.name),Gt(On,h.name),ae("boolean"==typeof Rd,h,"internal-error"),ae("boolean"==typeof Nd,h,"internal-error"),Gt(vs,h.name),Gt(yc,h.name),Gt(ml,h.name),Gt(yl,h.name),Gt(Df,h.name),Gt(Ny,h.name);const Af=new ln({uid:Ua,auth:h,email:On,emailVerified:Rd,displayName:ht,isAnonymous:Nd,photoURL:yc,phoneNumber:vs,tenantId:ml,stsTokenManager:rr,createdAt:Df,lastLoginAt:Ny});return Tf&&Array.isArray(Tf)&&(Af.providerData=Tf.map(Fd=>Object.assign({},Fd))),yl&&(Af._redirectEventId=yl),Af}static _fromIdTokenResponse(h,g,_=!1){return(0,d.Z)(function*(){const S=new en;S.updateFromServerResponse(g);const N=new ln({uid:g.localId,auth:h,stsTokenManager:S,isAnonymous:_});return yield _r(N),N})()}}const kt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,_){var S=this;return(0,d.Z)(function*(){S.storage[g]=_})()}_get(g){var _=this;return(0,d.Z)(function*(){const S=_.storage[g];return void 0===S?null:S})()}_remove(g){var _=this;return(0,d.Z)(function*(){delete _.storage[g]})()}_addListener(g,_){}_removeListener(g,_){}}return y.type="NONE",y})();function Ln(y,h,g){return`firebase:${y}:${h}:${g}`}class wr{constructor(h,g,_){this.persistence=h,this.auth=g,this.userKey=_;const{config:S,name:N}=this.auth;this.fullUserKey=Ln(this.userKey,S.apiKey,N),this.fullPersistenceKey=Ln("persistence",S.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?ln._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,d.Z)(function*(){if(g.persistence===h)return;const _=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,_?g.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,_="authUser"){return(0,d.Z)(function*(){if(!g.length)return new wr(te(kt),h,_);const S=(yield Promise.all(g.map(function(){var it=(0,d.Z)(function*(bt){if(yield bt._isAvailable())return bt});return function(bt){return it.apply(this,arguments)}}()))).filter(it=>it);let N=S[0]||te(kt);const Y=Ln(_,h.config.apiKey,h.name);let ve=null;for(const it of g)try{const bt=yield it._get(Y);if(bt){const ht=ln._fromJSON(h,bt);it!==N&&(ve=ht),N=it;break}}catch(bt){}const qe=S.filter(it=>it._shouldAllowMigration);return N._shouldAllowMigration&&qe.length?(N=qe[0],ve&&(yield N._set(Y,ve.toJSON())),yield Promise.all(g.map(function(){var it=(0,d.Z)(function*(bt){if(bt!==N)try{yield bt._remove(Y)}catch(ht){}});return function(bt){return it.apply(this,arguments)}}())),new wr(N,h,_)):new wr(N,h,_)})()}}function so(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Vn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Fo(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Vi(h))return"Blackberry";if(Un(h))return"Webos";if(wa(h))return"Safari";if((h.includes("chrome/")||Li(h))&&!h.includes("edge/"))return"Chrome";if(br(h))return"Android";{const _=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==_?void 0:_.length))return _[1]}return"Other"}function Fo(y=(0,P.z$)()){return/firefox\//i.test(y)}function wa(y=(0,P.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Li(y=(0,P.z$)()){return/crios\//i.test(y)}function Vn(y=(0,P.z$)()){return/iemobile/i.test(y)}function br(y=(0,P.z$)()){return/android/i.test(y)}function Vi(y=(0,P.z$)()){return/blackberry/i.test(y)}function Un(y=(0,P.z$)()){return/webos/i.test(y)}function cr(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)}function cs(y=(0,P.z$)()){return cr(y)||br(y)||Un(y)||Vi(y)||/windows phone/i.test(y)||Vn(y)}function oo(y,h=[]){let g;switch(y){case"Browser":g=so((0,P.z$)());break;case"Worker":g=`${so((0,P.z$)())}-${y}`;break;default:g=y}const _=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${ge.SDK_VERSION}/${_}`}class Fr{constructor(h,g){this.app=h,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new St(this),this.idTokenSubscription=new St(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(h,g){var _=this;return g&&(this._popupRedirectResolver=te(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,N;if(!_._deleted&&(_.persistenceManager=yield wr.create(_,h),!_._deleted)){if(null===(S=_._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch(Y){}yield _.initializeCurrentUser(g),_.lastNotifiedUid=(null===(N=_.currentUser)||void 0===N?void 0:N.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g)}})()}initializeCurrentUser(h){var g=this;return(0,d.Z)(function*(){var _;let S=yield g.assertedPersistence.getCurrentUser();if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const N=null===(_=g.redirectUser)||void 0===_?void 0:_._redirectEventId,Y=null==S?void 0:S._redirectEventId,ve=yield g.tryRedirectSignIn(h);(!N||N===Y)&&(null==ve?void 0:ve.user)&&(S=ve.user)}return S?S._redirectEventId?(ae(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var g=this;return(0,d.Z)(function*(){let _=null;try{_=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch(S){yield g._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,d.Z)(function*(){try{yield _r(h)}catch(_){if("auth/network-request-failed"!==_.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function et(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,d.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,d.Z)(function*(){const _=h?(0,P.m9)(h):null;return _&&ae(_.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(_&&_._clone(g))})()}_updateCurrentUser(h){var g=this;return(0,d.Z)(function*(){if(!g._deleted)return h&&ae(g.tenantId===h.tenantId,g,"tenant-id-mismatch"),g.queue((0,d.Z)(function*(){yield g.directlySetCurrentUser(h),g.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(te(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new P.LL("auth","Firebase",h())}onAuthStateChanged(h,g,_){return this.registerStateListener(this.authStateSubscription,h,g,_)}onIdTokenChanged(h,g,_){return this.registerStateListener(this.idTokenSubscription,h,g,_)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var _=this;return(0,d.Z)(function*(){const S=yield _.getOrInitRedirectPersistenceManager(g);return null===h?S.removeCurrentUser():S.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const _=h&&te(h)||g._popupRedirectResolver;ae(_,g,"argument-error"),g.redirectPersistenceManager=yield wr.create(g,[te(_._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,d.Z)(function*(){var _,S;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(_=g._currentUser)||void 0===_?void 0:_._redirectEventId)===h?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,d.Z)(function*(){if(h===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,_,S){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(Y,this,"internal-error"),Y.then(()=>N(this.currentUser)),"function"==typeof g?h.addObserver(g,_,S):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==h&&(g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh()),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=oo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.Z)(function*(){const g={"X-Client-Version":h.clientVersion};return h.app.options.appId&&(g["X-Firebase-gmpid"]=h.app.options.appId),g})()}}function Ue(y){return(0,P.m9)(y)}class St{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Er(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function cn(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class Ct{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return K("not implemented")}_getIdTokenResponse(h){return K("not implemented")}_linkToIdToken(h,g){return K("not implemented")}_getReauthenticationResolver(h){return K("not implemented")}}function Ss(y,h){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(y,h){return At(y,"POST","/v1/accounts:resetPassword",Zt(y,h))})).apply(this,arguments)}function Dt(y,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(y,h){return At(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ui(y,h){return uo.apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(y,h){return At(y,"POST","/v1/accounts:update",Zt(y,h))})).apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(y,h){return er(y,"POST","/v1/accounts:signInWithPassword",Zt(y,h))})).apply(this,arguments)}function Bi(y,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(y,h){return At(y,"POST","/v1/accounts:sendOobCode",Zt(y,h))})).apply(this,arguments)}function dr(y,h){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(y,h){return Bi(y,h)})).apply(this,arguments)}function Bu(y,h){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,d.Z)(function*(y,h){return Bi(y,h)})).apply(this,arguments)}function ci(y,h){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,d.Z)(function*(y,h){return Bi(y,h)})).apply(this,arguments)}function ju(y,h){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(y,h){return Bi(y,h)})).apply(this,arguments)}function Gn(){return(Gn=(0,d.Z)(function*(y,h){return er(y,"POST","/v1/accounts:signInWithEmailLink",Zt(y,h))})).apply(this,arguments)}function Wa(){return(Wa=(0,d.Z)(function*(y,h){return er(y,"POST","/v1/accounts:signInWithEmailLink",Zt(y,h))})).apply(this,arguments)}class Vo extends Ct{constructor(h,g,_,S=null){super("password",_),this._email=h,this._password=g,this._tenantId=S}static _fromEmailAndPassword(h,g){return new Vo(h,g,"password")}static _fromEmailAndCode(h,g,_=null){return new Vo(h,g,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function lo(y,h){return An.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function ji(y,h){return Gn.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:de(h,"internal-error")}})()}_linkToIdToken(h,g){var _=this;return(0,d.Z)(function*(){switch(_.signInMethod){case"password":return Dt(h,{idToken:g,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Gl(y,h){return Wa.apply(this,arguments)}(h,{idToken:g,email:_._email,oobCode:_._password});default:de(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Sn(y,h){return $u.apply(this,arguments)}function $u(){return($u=(0,d.Z)(function*(y,h){return er(y,"POST","/v1/accounts:signInWithIdp",Zt(y,h))})).apply(this,arguments)}class $i extends Ct{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new $i(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):de("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:S}=g,N=(0,se._T)(g,["providerId","signInMethod"]);if(!_||!S)return null;const Y=new $i(_,S);return Y.idToken=N.idToken||void 0,Y.accessToken=N.accessToken||void 0,Y.secret=N.secret,Y.nonce=N.nonce,Y.pendingToken=N.pendingToken||null,Y}_getIdTokenResponse(h){return Sn(h,this.buildRequest())}_linkToIdToken(h,g){const _=this.buildRequest();return _.idToken=g,Sn(h,_)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Sn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,P.xO)(g)}return h}}function dd(y,h){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,d.Z)(function*(y,h){return At(y,"POST","/v1/accounts:sendVerificationCode",Zt(y,h))})).apply(this,arguments)}function Uo(){return(Uo=(0,d.Z)(function*(y,h){return er(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,h))})).apply(this,arguments)}function Ka(){return(Ka=(0,d.Z)(function*(y,h){const g=yield er(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,h));if(g.temporaryProof)throw un(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const fd={USER_NOT_FOUND:"user-not-found"};function Gu(){return(Gu=(0,d.Z)(function*(y,h){return er(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),fd)})).apply(this,arguments)}class co extends Ct{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new co({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new co({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function hd(y,h){return Uo.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Kr(y,h){return Ka.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function pd(y,h){return Gu.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:_,verificationCode:S}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:_,code:S}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:_,phoneNumber:S,temporaryProof:N}=h;return _||g||S||N?new co({verificationId:g,verificationCode:_,phoneNumber:S,temporaryProof:N}):null}}class Hi{constructor(h){var g,_,S,N,Y,ve;const qe=(0,P.zd)((0,P.pd)(h)),it=null!==(g=qe.apiKey)&&void 0!==g?g:null,bt=null!==(_=qe.oobCode)&&void 0!==_?_:null,ht=function gd(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=qe.mode)&&void 0!==S?S:null);ae(it&&bt&&ht,"argument-error"),this.apiKey=it,this.operation=ht,this.code=bt,this.continueUrl=null!==(N=qe.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Y=qe.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(ve=qe.tenantId)&&void 0!==ve?ve:null}static parseLink(h){const g=function ql(y){const h=(0,P.zd)((0,P.pd)(y)).link,g=h?(0,P.zd)((0,P.pd)(h)).deep_link_id:null,_=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(_?(0,P.zd)((0,P.pd)(_)).link:null)||_||g||h||y}(h);try{return new Hi(g)}catch(_){return null}}}let Bo=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,_){return Vo._fromEmailAndPassword(g,_)}static credentialWithLink(g,_){const S=Hi.parseLink(_);return ae(S,"argument-error"),Vo._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ds{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Yr extends ds{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class hs extends Yr{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return ae("providerId"in g&&"signInMethod"in g,"argument-error"),$i._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ae(h.idToken||h.accessToken,"argument-error"),$i._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return hs.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return hs.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:_,oauthTokenSecret:S,pendingToken:N,nonce:Y,providerId:ve}=h;if(!_&&!S&&!g&&!N||!ve)return null;try{return new hs(ve)._credential({idToken:g,accessToken:_,nonce:Y,pendingToken:N})}catch(qe){return null}}}let ho=(()=>{class y extends Yr{constructor(){super("facebook.com")}static credential(g){return $i._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(_){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ks=(()=>{class y extends Yr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,_){return $i._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:_})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:S}=g;if(!_&&!S)return null;try{return y.credential(_,S)}catch(N){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),qu=(()=>{class y extends Yr{constructor(){super("github.com")}static credential(g){return $i._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(_){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Os extends Ct{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Sn(h,this.buildRequest())}_linkToIdToken(h,g){const _=this.buildRequest();return _.idToken=g,Sn(h,_)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Sn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:S,pendingToken:N}=g;return _&&S&&N&&_===S?new Os(_,N):null}static _create(h,g){return new Os(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gi extends ds{constructor(h){ae(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Gi.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Gi.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Os.fromJSON(h);return ae(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:_}=h;if(!g||!_)return null;try{return Os._create(_,g)}catch(S){return null}}}let qn=(()=>{class y extends Yr{constructor(){super("twitter.com")}static credential(g,_){return $i._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:_})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:_,oauthTokenSecret:S}=g;if(!_||!S)return null;try{return y.credential(_,S)}catch(N){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Zu(y,h){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(y,h){return er(y,"POST","/v1/accounts:signUp",Zt(y,h))})).apply(this,arguments)}class fr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,_,S=!1){return(0,d.Z)(function*(){const N=yield ln._fromIdTokenResponse(h,_,S),Y=Wu(_);return new fr({user:N,providerId:Y,_tokenResponse:_,operationType:g})})()}static _forOperation(h,g,_){return(0,d.Z)(function*(){yield h._updateTokensIfNecessary(_,!0);const S=Wu(_);return new fr({user:h,providerId:S,_tokenResponse:_,operationType:g})})()}}function Wu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ea(){return(Ea=(0,d.Z)(function*(y){var h;const g=Ue(y);if(yield g._initializationPromise,null===(h=g.currentUser)||void 0===h?void 0:h.isAnonymous)return new fr({user:g.currentUser,providerId:null,operationType:"signIn"});const _=yield Zu(g,{returnSecureToken:!0}),S=yield fr._fromIdTokenResponse(g,"signIn",_,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ca extends P.ZR{constructor(h,g,_,S){var N;super(g.code,g.message),this.operationType=_,this.user=S,Object.setPrototypeOf(this,Ca.prototype),this.customData={appName:h.name,tenantId:null!==(N=h.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,g,_,S){return new Ca(h,g,_,S)}}function Ia(y,h,g,_){return("reauthenticate"===h?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Ca._fromErrorAndOperation(y,N,h,_):N})}function Ya(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Da(){return(Da=(0,d.Z)(function*(y,h){const g=(0,P.m9)(y);yield fs(!0,g,h);const{providerUserInfo:_}=yield Wt(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),S=Ya(_||[]);return g.providerData=g.providerData.filter(N=>S.has(N.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function tn(y,h){return jo.apply(this,arguments)}function jo(){return(jo=(0,d.Z)(function*(y,h,g=!1){const _=yield yr(y,h._linkToIdToken(y.auth,yield y.getIdToken()),g);return fr._forOperation(y,"link",_)})).apply(this,arguments)}function fs(y,h,g){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,d.Z)(function*(y,h,g){yield _r(h);const S=!1===y?"provider-already-linked":"no-such-provider";ae(Ya(h.providerData).has(g)===y,h.auth,S)})).apply(this,arguments)}function $o(y,h){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(y,h,g=!1){const{auth:_}=y,S="reauthenticate";try{const N=yield yr(y,Ia(_,S,h,y),g);ae(N.idToken,_,"internal-error");const Y=Ze(N.idToken);ae(Y,_,"internal-error");const{sub:ve}=Y;return ae(y.uid===ve,_,"user-mismatch"),fr._forOperation(y,S,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&de(_,"user-mismatch"),N}})).apply(this,arguments)}function Ii(y,h){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(y,h,g=!1){const _="signIn",S=yield Ia(y,_,h),N=yield fr._fromIdTokenResponse(y,_,S);return g||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ta(y,h){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.Z)(function*(y,h){return Ii(Ue(y),h)})).apply(this,arguments)}function Lr(y,h){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(y,h){const g=(0,P.m9)(y);return yield fs(!1,g,h.providerId),tn(g,h)})).apply(this,arguments)}function fo(y,h){return Di.apply(this,arguments)}function Di(){return(Di=(0,d.Z)(function*(y,h){return $o((0,P.m9)(y),h)})).apply(this,arguments)}function Aa(y,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,d.Z)(function*(y,h){return er(y,"POST","/v1/accounts:signInWithCustomToken",Zt(y,h))})).apply(this,arguments)}function ps(){return(ps=(0,d.Z)(function*(y,h){const g=Ue(y),_=yield Aa(g,{token:h,returnSecureToken:!0}),S=yield fr._fromIdTokenResponse(g,"signIn",_);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class pt{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Go._fromServerResponse(h,g):de(h,"internal-error")}}class Go extends pt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Go(g)}}function qo(y,h,g){var _;ae((null===(_=g.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),ae(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ae(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(ae(g.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function zo(){return(zo=(0,d.Z)(function*(y,h,g){const _=(0,P.m9)(y),S={requestType:"PASSWORD_RESET",email:h};g&&qo(_,S,g),yield Bu(_,S)})).apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(y,h,g){yield Ss((0,P.m9)(y),{oobCode:h,newPassword:g})})).apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(y,h){yield Ui((0,P.m9)(y),{oobCode:h})})).apply(this,arguments)}function Nt(y,h){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(y,h){const g=(0,P.m9)(y),_=yield Ss(g,{oobCode:h}),S=_.requestType;switch(ae(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(_.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(_.mfaInfo,g,"internal-error");default:ae(_.email,g,"internal-error")}let N=null;return _.mfaInfo&&(N=pt._fromServerResponse(Ue(g),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:N},operation:S}})).apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(y,h){const{data:g}=yield Nt((0,P.m9)(y),h);return g.email})).apply(this,arguments)}function Ir(){return(Ir=(0,d.Z)(function*(y,h,g){const _=Ue(y),S=yield Zu(_,{returnSecureToken:!0,email:h,password:g}),N=yield fr._fromIdTokenResponse(_,"signIn",S);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}function Qu(){return(Qu=(0,d.Z)(function*(y,h,g){const _=(0,P.m9)(y),S={requestType:"EMAIL_SIGNIN",email:h};ae(g.handleCodeInApp,_,"argument-error"),g&&qo(_,S,g),yield ci(_,S)})).apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(y,h,g){const _=(0,P.m9)(y),S=Bo.credentialWithLink(h,g||vt());return ae(S._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Ta(_,S)})).apply(this,arguments)}function In(y,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(y,h){return At(y,"POST","/v1/accounts:createAuthUri",Zt(y,h))})).apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(y,h){const _={identifier:h,continueUri:$t()?vt():"http://localhost"},{signinMethods:S}=yield In((0,P.m9)(y),_);return S||[]})).apply(this,arguments)}function Ko(){return(Ko=(0,d.Z)(function*(y,h){const g=(0,P.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&qo(g.auth,S,h);const{email:N}=yield dr(g.auth,S);N!==y.email&&(yield y.reload())})).apply(this,arguments)}function Yo(){return(Yo=(0,d.Z)(function*(y,h,g){const _=(0,P.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};g&&qo(_.auth,N,g);const{email:Y}=yield ju(_.auth,N);Y!==y.email&&(yield y.reload())})).apply(this,arguments)}function Xu(y,h){return gs.apply(this,arguments)}function gs(){return(gs=(0,d.Z)(function*(y,h){return At(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(y,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const _=(0,P.m9)(y),N={idToken:yield _.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Y=yield yr(_,Xu(_.auth,N));_.displayName=Y.displayName||null,_.photoURL=Y.photoUrl||null;const ve=_.providerData.find(({providerId:qe})=>"password"===qe);ve&&(ve.displayName=_.displayName,ve.photoURL=_.photoURL),yield _._updateTokensIfNecessary(Y)})).apply(this,arguments)}function Jo(y,h,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,d.Z)(function*(y,h,g){const{auth:_}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(N.email=h),g&&(N.password=g);const Y=yield yr(y,Dt(_,N));yield y._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class Ps{constructor(h,g,_={}){this.isNewUser=h,this.providerId=g,this.profile=_}}class tl extends Ps{constructor(h,g,_,S){super(h,g,_),this.username=S}}class Wl extends Ps{constructor(h,g){super(h,"facebook.com",g)}}class mo extends tl{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Ai extends Ps{constructor(h,g){super(h,"google.com",g)}}class nl extends tl{constructor(h,g,_){super(h,"twitter.com",g,_)}}function Wn(y){const{user:h,_tokenResponse:g}=y;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function nu(y){var h,g;if(!y)return null;const{providerId:_}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&(null==y?void 0:y.idToken)){const Y=null===(g=null===(h=Ze(y.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Y)return new Ps(N,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!_)return null;switch(_){case"facebook.com":return new Wl(N,S);case"github.com":return new mo(N,S);case"google.com":return new Ai(N,S);case"twitter.com":return new nl(N,S,y.screenName||null);case"custom":case"anonymous":return new Ps(N,null);default:return new Ps(N,_,S)}}(g)}class Si{constructor(h,g){this.type=h,this.credential=g}static _fromIdtoken(h){return new Si("enroll",h)}static _fromMfaPendingCredential(h){return new Si("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,_;if(null==h?void 0:h.multiFactorSession){if(null===(g=h.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Si._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(_=h.multiFactorSession)||void 0===_?void 0:_.idToken)return Si._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Fs{constructor(h,g,_){this.session=h,this.hints=g,this.signInResolver=_}static _fromError(h,g){const _=Ue(h),S=g.customData._serverResponse,N=(S.mfaInfo||[]).map(ve=>pt._fromServerResponse(_,ve));ae(S.mfaPendingCredential,_,"internal-error");const Y=Si._fromMfaPendingCredential(S.mfaPendingCredential);return new Fs(Y,N,function(){var ve=(0,d.Z)(function*(qe){const it=yield qe._process(_,Y);delete S.mfaInfo,delete S.mfaPendingCredential;const bt=Object.assign(Object.assign({},S),{idToken:it.idToken,refreshToken:it.refreshToken});switch(g.operationType){case"signIn":const ht=yield fr._fromIdTokenResponse(_,g.operationType,bt);return yield _._updateCurrentUser(ht.user),ht;case"reauthenticate":return ae(g.user,_,"internal-error"),fr._forOperation(g.user,g.operationType,bt);default:de(_,"internal-error")}});return function(qe){return ve.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,d.Z)(function*(){return g.signInResolver(h)})()}}function Ma(y,h){return At(y,"POST","/v2/accounts/mfaEnrollment:start",Zt(y,h))}class Dr{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(_=>pt._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new Dr(h)}getSession(){var h=this;return(0,d.Z)(function*(){return Si._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,g){var _=this;return(0,d.Z)(function*(){const S=h,N=yield _.getSession(),Y=yield yr(_.user,S._process(_.user.auth,N,g));return yield _.user._updateTokensIfNecessary(Y),_.user.reload()})()}unenroll(h){var g=this;return(0,d.Z)(function*(){const _="string"==typeof h?h:h.uid,S=yield g.user.getIdToken(),N=yield yr(g.user,function su(y,h){return At(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(y,h))}(g.user.auth,{idToken:S,mfaEnrollmentId:_}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Y})=>Y!==_),yield g.user._updateTokensIfNecessary(N);try{yield g.user.reload()}catch(Y){if("auth/user-token-expired"!==Y.code)throw Y}})()}}const yo=new WeakMap,Xo="__sak";class ea{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Xo,"1"),this.storage.removeItem(Xo),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const E=(()=>{class y extends ea{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,_)=>this.onStorageEvent(g,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ka(){const y=(0,P.z$)();return wa(y)||cr(y)}()&&function dt(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=cs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const _ of Object.keys(this.listeners)){const S=this.storage.getItem(_),N=this.localCache[_];S!==N&&g(_,N,S)}}onStorageEvent(g,_=!1){if(!g.key)return void this.forAllChangedKeys((ve,qe,it)=>{this.notifyListeners(ve,it)});const S=g.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(S);if(g.newValue!==ve)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!_)return}const N=()=>{const ve=this.storage.getItem(S);!_&&this.localCache[S]===ve||this.notifyListeners(S,ve)},Y=this.storage.getItem(S);!function Lo(){return(0,P.w1)()&&10===document.documentMode}()||Y===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,_){this.localCache[g]=_;const S=this.listeners[g];if(S)for(const N of Array.from(S))N(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,_,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:_,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,_){var S=()=>super._set,N=this;return(0,d.Z)(function*(){yield S().call(N,g,_),N.localCache[g]=JSON.stringify(_)})()}_get(g){var _=()=>super._get,S=this;return(0,d.Z)(function*(){const N=yield _().call(S,g);return S.localCache[g]=JSON.stringify(N),N})()}_remove(g){var _=()=>super._remove,S=this;return(0,d.Z)(function*(){yield _().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),M=(()=>{class y extends ea{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,_){}_removeListener(g,_){}}return y.type="SESSION",y})();let Te=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const _=this.receivers.find(N=>N.isListeningto(g));if(_)return _;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var _=this;return(0,d.Z)(function*(){const S=g,{eventId:N,eventType:Y,data:ve}=S.data,qe=_.handlersMap[Y];if(!(null==qe?void 0:qe.size))return;S.ports[0].postMessage({status:"ack",eventId:N,eventType:Y});const it=Array.from(qe).map(function(){var ht=(0,d.Z)(function*(On){return On(S.origin,ve)});return function(On){return ht.apply(this,arguments)}}()),bt=yield function B(y){return Promise.all(y.map(function(){var h=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(_){return{fulfilled:!1,reason:_}}});return function(g){return h.apply(this,arguments)}}()))}(it);S.ports[0].postMessage({status:"done",eventId:N,eventType:Y,response:bt})})()}_subscribe(g,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(_)}_unsubscribe(g,_){this.handlersMap[g]&&_&&this.handlersMap[g].delete(_),(!_||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Xe(y="",h=10){let g="";for(let _=0;_<h;_++)g+=Math.floor(10*Math.random());return y+g}class yn{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,_=50){var S=this;return(0,d.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Y,ve;return new Promise((qe,it)=>{const bt=Xe("",20);N.port1.start();const ht=setTimeout(()=>{it(new Error("unsupported_event"))},_);ve={messageChannel:N,onMessage(On){const vs=On;if(vs.data.eventId===bt)switch(vs.data.status){case"ack":clearTimeout(ht),Y=setTimeout(()=>{it(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),qe(vs.data.response);break;default:clearTimeout(ht),clearTimeout(Y),it(new Error("invalid_response"))}}},S.handlers.add(ve),N.port1.addEventListener("message",ve.onMessage),S.target.postMessage({eventType:h,eventId:bt,data:g},[N.port2])}).finally(()=>{ve&&S.removeMessageHandler(ve)})})()}}function Ft(){return window}function Tr(){return void 0!==Ft().WorkerGlobalScope&&"function"==typeof Ft().importScripts}function Wi(){return(Wi=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Yl="firebaseLocalStorageDb",ou="firebaseLocalStorage",xn="fbase_key";class ta{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function vo(y,h){return y.transaction([ou],h?"readwrite":"readonly").objectStore(ou)}function Vr(){const y=indexedDB.open(Yl,1);return new Promise((h,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const _=y.result;try{_.createObjectStore(ou,{keyPath:xn})}catch(S){g(S)}}),y.addEventListener("success",(0,d.Z)(function*(){const _=y.result;_.objectStoreNames.contains(ou)?h(_):(_.close(),yield function sl(){const y=indexedDB.deleteDatabase(Yl);return new ta(y).toPromise()}(),h(yield Vr()))}))})}function au(y,h,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(y,h,g){const _=vo(y,!0).put({[xn]:h,value:g});return new ta(_).toPromise()})).apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(y,h){const g=vo(y,!1).get(h),_=yield new ta(g).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function na(y,h){const g=vo(y,!0).delete(h);return new ta(g).toPromise()}const Ki=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Vr()),g.db})()}_withRetries(g){var _=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const N=yield _._openDb();return yield g(N)}catch(N){if(S++>3)throw N;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return Tr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=Te._getInstance(function vd(){return Tr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var _=(0,d.Z)(function*(S,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(S,N){return _.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var _=(0,d.Z)(function*(S,N){return["keyChanged"]});return function(S,N){return _.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var _,S;if(g.activeServiceWorker=yield function Ls(){return Wi.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new yn(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);!N||(null===(_=N[0])||void 0===_?void 0:_.fulfilled)&&(null===(S=N[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var _=this;return(0,d.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function It(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:g},_.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Vr();return yield au(g,Xo,"1"),yield na(g,Xo),!0}catch(g){}return!1})()}_withPendingWrite(g){var _=this;return(0,d.Z)(function*(){_.pendingWrites++;try{yield g()}finally{_.pendingWrites--}})()}_set(g,_){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(N=>au(N,g,_)),S.localCache[g]=_,S.notifyServiceWorker(g)}))})()}_get(g){var _=this;return(0,d.Z)(function*(){const S=yield _._withRetries(N=>function uu(y,h){return wo.apply(this,arguments)}(N,g));return _.localCache[g]=S,S})()}_remove(g){var _=this;return(0,d.Z)(function*(){return _._withPendingWrite((0,d.Z)(function*(){return yield _._withRetries(S=>na(S,g)),delete _.localCache[g],_.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const _=yield g._withRetries(Y=>{const ve=vo(Y,!1).getAll();return new ta(ve).toPromise()});if(!_)return[];if(0!==g.pendingWrites)return[];const S=[],N=new Set;for(const{fbase_key:Y,value:ve}of _)N.add(Y),JSON.stringify(g.localCache[Y])!==JSON.stringify(ve)&&(g.notifyListeners(Y,ve),S.push(Y));for(const Y of Object.keys(g.localCache))g.localCache[Y]&&!N.has(Y)&&(g.notifyListeners(Y,null),S.push(Y));return S})()}notifyListeners(g,_){this.localCache[g]=_;const S=this.listeners[g];if(S)for(const N of Array.from(S))N(_)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Oa(y,h){return At(y,"POST","/v2/accounts/mfaSignIn:start",Zt(y,h))}function Vs(){return(Vs=(0,d.Z)(function*(y){return(yield At(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function tr(y){return new Promise((h,g)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=h,_.onerror=S=>{const N=Ee("internal-error");N.customData=S,g(N)},_.type="text/javascript",_.charset="UTF-8",function ol(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(_)})}function bo(y){return`__${y}${Math.floor(1e6*Math.random())}`}const fi=1e12;class xi{constructor(h){this.auth=h,this.counter=fi,this._widgets=new Map}render(h,g){const _=this.counter;return this._widgets.set(_,new Bs(h,this.auth.name,g||{})),this.counter++,_}reset(h){var g;const _=h||fi;null===(g=this._widgets.get(_))||void 0===g||g.delete(),this._widgets.delete(_)}getResponse(h){var g;return(null===(g=this._widgets.get(h||fi))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,d.Z)(function*(){var _;return null===(_=g._widgets.get(h||fi))||void 0===_||_.execute(),""})()}}class Bs{constructor(h,g,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof h?document.getElementById(h):h;ae(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mn(y){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<y;_++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch(_){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(_){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ra=bo("rcb"),hu=new an(3e4,6e4);class eg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ft().grecaptcha}load(h,g=""){return ae(function tg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Ft().grecaptcha):new Promise((_,S)=>{const N=Ft().setTimeout(()=>{S(Ee(h,"network-request-failed"))},hu.get());Ft()[Ra]=()=>{Ft().clearTimeout(N),delete Ft()[Ra];const ve=Ft().grecaptcha;if(!ve)return void S(Ee(h,"internal-error"));const qe=ve.render;ve.render=(it,bt)=>{const ht=qe(it,bt);return this.counter++,ht},this.hostLanguage=g,_(ve)},tr(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Ra,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),S(Ee(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!Ft().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sy{load(h){return(0,d.Z)(function*(){return new xi(h)})()}clearedOneInstance(){}}const ra="recaptcha",pi={theme:"light",type:"image"};class Kh{constructor(h,g=Object.assign({},pi),_){this.parameters=g,this.type=ra,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ue(_),this.isInvisible="invisible"===this.parameters.size,ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof h?document.getElementById(h):h;ae(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sy:new eg,this.validateStartingState()}verify(){var h=this;return(0,d.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),_=h.getAssertedRecaptcha();return _.getResponse(g)||new Promise(N=>{const Y=ve=>{!ve||(h.tokenChangeListeners.delete(Y),N(ve))};h.tokenChangeListeners.add(Y),h.isInvisible&&_.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(_=>_(g)),"function"==typeof h)h(g);else if("string"==typeof h){const _=Ft()[h];"function"==typeof _&&_(g)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const _=document.createElement("div");g.appendChild(_),g=_}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.Z)(function*(){ae($t()&&!Tr(),h.auth,"internal-error"),yield function Co(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Ar(y){return Vs.apply(this,arguments)}(h.auth);ae(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class js{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=co._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Dn(){return(Dn=(0,d.Z)(function*(y,h,g){const _=Ue(y),S=yield Ur(_,h,(0,P.m9)(g));return new js(S,N=>Ta(_,N))})).apply(this,arguments)}function ia(){return(ia=(0,d.Z)(function*(y,h,g){const _=(0,P.m9)(y);yield fs(!1,_,"phone");const S=yield Ur(_.auth,h,(0,P.m9)(g));return new js(S,N=>Lr(_,N))})).apply(this,arguments)}function Xl(){return(Xl=(0,d.Z)(function*(y,h,g){const _=(0,P.m9)(y),S=yield Ur(_.auth,h,(0,P.m9)(g));return new js(S,N=>fo(_,N))})).apply(this,arguments)}function Ur(y,h,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,d.Z)(function*(y,h,g){var _;const S=yield g.verify();try{let N;if(ae("string"==typeof S,y,"argument-error"),ae(g.type===ra,y,"argument-error"),N="string"==typeof h?{phoneNumber:h}:h,"session"in N){const Y=N.session;if("phoneNumber"in N)return ae("enroll"===Y.type,y,"internal-error"),(yield Ma(y,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ae("signin"===Y.type,y,"internal-error");const ve=(null===(_=N.multiFactorHint)||void 0===_?void 0:_.uid)||N.multiFactorUid;return ae(ve,y,"missing-multi-factor-info"),(yield Oa(y,{mfaPendingCredential:Y.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield dd(y,{phoneNumber:N.phoneNumber,recaptchaToken:S});return Y}}finally{g._reset()}})).apply(this,arguments)}function sa(){return(sa=(0,d.Z)(function*(y,h){yield tn((0,P.m9)(y),h)})).apply(this,arguments)}let Yi=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Ue(g)}verifyPhoneNumber(g,_){return Ur(this.auth,g,(0,P.m9)(_))}static credential(g,_){return co._fromVerification(g,_)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:_,temporaryProof:S}=g;return _&&S?co._fromTokenResponse(_,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ms(y,h){return h?te(h):(ae(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class fu extends Ct{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Sn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Sn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Sn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function tc(y){return Ii(y.auth,new fu(y),y.bypassAuthState)}function nc(y){const{auth:h,user:g}=y;return ae(g,h,"internal-error"),$o(g,new fu(y),y.bypassAuthState)}function Pt(y){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(y){const{auth:h,user:g}=y;return ae(g,h,"internal-error"),tn(g,new fu(y),y.bypassAuthState)})).apply(this,arguments)}class nr{constructor(h,g,_,S,N=!1){this.auth=h,this.resolver=_,this.user=S,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,d.Z)(function*(_,S){h.pendingPromise={resolve:_,reject:S};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(N){h.reject(N)}});return function(_,S){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,d.Z)(function*(){const{urlResponse:_,sessionId:S,postBody:N,tenantId:Y,error:ve,type:qe}=h;if(ve)return void g.reject(ve);const it={auth:g.auth,requestUri:_,sessionId:S,tenantId:Y||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(qe)(it))}catch(bt){g.reject(bt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return tc;case"linkViaPopup":case"linkViaRedirect":return Pt;case"reauthViaPopup":case"reauthViaRedirect":return nc;default:de(this.auth,"internal-error")}}resolve(h){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rc=new an(2e3,1e4);function wd(){return(wd=(0,d.Z)(function*(y,h,g){const _=Ue(y);ze(y,h,ds);const S=ms(_,g);return new ll(_,"signInViaPopup",h,S).executeNotNull()})).apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(y,h,g){const _=(0,P.m9)(y);ze(_.auth,h,ds);const S=ms(_.auth,g);return new ll(_.auth,"reauthViaPopup",h,S,_).executeNotNull()})).apply(this,arguments)}function ul(){return(ul=(0,d.Z)(function*(y,h,g){const _=(0,P.m9)(y);ze(_.auth,h,ds);const S=ms(_.auth,g);return new ll(_.auth,"linkViaPopup",h,S,_).executeNotNull()})).apply(this,arguments)}let ll=(()=>{class y extends nr{constructor(g,_,S,N,Y){super(g,_,N,Y),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const _=yield g.execute();return ae(_,g.auth,"internal-error"),_})()}onExecution(){var g=this;return(0,d.Z)(function*(){le(1===g.filter.length,"Popup operations only handle one event");const _=Xe();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],_),g.authWindow.associatedEvent=_,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Ee(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var _,S;this.pollId=(null===(S=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,rc.get())};g()}}return y.currentPopupAction=null,y})();const cl=new Map;class fn extends nr{constructor(h,g,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,d.Z)(function*(){let _=cl.get(g.auth._key());if(!_){try{const N=(yield function ki(y,h){return Yh.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;_=()=>Promise.resolve(N)}catch(S){_=()=>Promise.reject(S)}cl.set(g.auth._key(),_)}return g.bypassAuthState||cl.set(g.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,_=this;return(0,d.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(_,h);if("unknown"!==h.type){if(h.eventId){const S=yield _.auth._redirectUserForId(h.eventId);if(S)return _.user=S,g().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Yh(){return(Yh=(0,d.Z)(function*(y,h){const g=D(h),_=Qh(y);if(!(yield _._isAvailable()))return!1;const S="true"===(yield _._get(g));return yield _._remove(g),S})).apply(this,arguments)}function To(y,h){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(y,h){return Qh(y)._set(D(h),"true")})).apply(this,arguments)}function Qh(y){return te(y._redirectPersistence)}function D(y){return Ln("pendingRedirect",y.config.apiKey,y.name)}function U(){return(U=(0,d.Z)(function*(y,h,g){const _=Ue(y);ze(y,h,ds);const S=ms(_,g);return yield To(S,_),S._openRedirect(_,h,"signInViaRedirect")})).apply(this,arguments)}function we(){return(we=(0,d.Z)(function*(y,h,g){const _=(0,P.m9)(y);ze(_.auth,h,ds);const S=ms(_.auth,g);yield To(S,_.auth);const N=yield Ao(_);return S._openRedirect(_.auth,h,"reauthViaRedirect",N)})).apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(y,h,g){const _=(0,P.m9)(y);ze(_.auth,h,ds);const S=ms(_.auth,g);yield fs(!1,_,h.providerId),yield To(S,_.auth);const N=yield Ao(_);return S._openRedirect(_.auth,h,"linkViaRedirect",N)})).apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(y,h){return yield Ue(y)._initializationPromise,Sr(y,h,!1)})).apply(this,arguments)}function Sr(y,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,d.Z)(function*(y,h,g=!1){const _=Ue(y),S=ms(_,h),Y=yield new fn(_,S,g).execute();return Y&&!g&&(delete Y.user._redirectEventId,yield _._persistUserIfCurrent(Y.user),yield _._setRedirectUser(null,h)),Y})).apply(this,arguments)}function Ao(y){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(y){const h=Xe(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Ri{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(g=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ic(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gu(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var _;if(h.error&&!gu(h)){const S=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";g.onError(Ee(this.auth,S))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const _=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ji(h))}saveEventToCache(h){this.cachedEventUids.add(Ji(h)),this.lastProcessedEventTime=Date.now()}}function Ji(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function gu({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function sc(y){return mu.apply(this,arguments)}function mu(){return(mu=(0,d.Z)(function*(y,h={}){return At(y,"GET","/v1/projects",h)})).apply(this,arguments)}const ng=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ay=/^https?/;function $s(){return($s=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield sc(y);for(const g of h)try{if(oc(g))return}catch(_){}de(y,"unauthorized-domain")})).apply(this,arguments)}function oc(y){const h=vt(),{protocol:g,hostname:_}=new URL(h);if(y.startsWith("chrome-extension://")){const Y=new URL(y);return""===Y.hostname&&""===_?"chrome-extension:"===g&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Y.hostname===_}if(!ay.test(g))return!1;if(ng.test(y))return _===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(_)}const ly=new an(3e4,6e4);function cy(){const y=Ft().___jsl;if(null==y?void 0:y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Ed=null;function dy(y){return Ed=Ed||function rg(y){return new Promise((h,g)=>{var _,S,N;function Y(){cy(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{cy(),g(Ee(y,"network-request-failed"))},timeout:ly.get()})}if(null===(S=null===(_=Ft().gapi)||void 0===_?void 0:_.iframes)||void 0===S?void 0:S.Iframe)h(gapi.iframes.getContext());else{if(!(null===(N=Ft().gapi)||void 0===N?void 0:N.load)){const ve=bo("iframefcb");return Ft()[ve]=()=>{gapi.load?Y():g(Ee(y,"network-request-failed"))},tr(`https://apis.google.com/js/api.js?onload=${ve}`).catch(qe=>g(qe))}Y()}}).catch(h=>{throw Ed=null,h})}(y),Ed}const Jh=new an(5e3,15e3),ua={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yu(y){const h=y.config;ae(h.authDomain,y,"auth-domain-config-required");const g=h.emulator?Xt(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,_={apiKey:h.apiKey,appName:y.name,v:ge.SDK_VERSION},S=Cd.get(y.config.apiHost);S&&(_.eid=S);const N=y._getFrameworks();return N.length&&(_.fw=N.join(",")),`${g}?${(0,P.xO)(_).slice(1)}`}function la(){return la=(0,d.Z)(function*(y){const h=yield dy(y),g=Ft().gapi;return ae(g,y,"internal-error"),h.open({where:document.body,url:yu(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ua,dontclear:!0},_=>new Promise(function(){var S=(0,d.Z)(function*(N,Y){yield _.restyle({setHideOnLeave:!1});const ve=Ee(y,"network-request-failed"),qe=Ft().setTimeout(()=>{Y(ve)},Jh.get());function it(){Ft().clearTimeout(qe),N(_)}_.ping(it).then(it,()=>{Y(ve)})});return function(N,Y){return S.apply(this,arguments)}}()))}),la.apply(this,arguments)}const fy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Td{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function nf(y,h,g,_,S,N){ae(y.config.authDomain,y,"auth-domain-config-required"),ae(y.config.apiKey,y,"invalid-api-key");const Y={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:_,v:ge.SDK_VERSION,eventId:S};if(h instanceof ds){h.setDefaultLanguage(y.languageCode),Y.providerId=h.providerId||"",(0,P.xb)(h.getCustomParameters())||(Y.customParameters=JSON.stringify(h.getCustomParameters()));for(const[qe,it]of Object.entries(N||{}))Y[qe]=it}if(h instanceof Yr){const qe=h.getScopes().filter(it=>""!==it);qe.length>0&&(Y.scopes=qe.join(","))}y.tenantId&&(Y.tid=y.tenantId);const ve=Y;for(const qe of Object.keys(ve))void 0===ve[qe]&&delete ve[qe];return`${function gy({config:y}){return y.emulator?Xt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(ve).slice(1)}`}const So="webStorageSupport";class rf extends class ig{constructor(h){this.factorId=h}_process(h,g,_){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,_);case"signin":return this._finalizeSignIn(h,g.credential);default:return K("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new rf(h)}_finalizeEnroll(h,g,_){return function Kn(y,h){return At(y,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(y,h))}(h,{idToken:g,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Ql(y,h){return At(y,"POST","/v2/accounts/mfaSignIn:finalize",Zt(y,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let my=(()=>{class y{constructor(){}static assertion(g){return rf._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var yy="@firebase/auth";class sg{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(_=>{var S;h((null===(S=_)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xo(){return window}function fl(){return(fl=(0,d.Z)(function*(y,h,g){var _;const{BuildInfo:S}=xo();le(h.sessionId,"AuthEvent did not contain a session ID");const N=yield vu(h.sessionId),Y={};return cr()?Y.ibi=S.packageName:br()?Y.apn=S.packageName:de(y,"operation-not-supported-in-this-environment"),S.displayName&&(Y.appDisplayName=S.displayName),Y.sessionId=N,nf(y,g,h.type,void 0,null!==(_=h.eventId)&&void 0!==_?_:void 0,Y)})).apply(this,arguments)}function Xi(){return(Xi=(0,d.Z)(function*(y){const{BuildInfo:h}=xo(),g={};cr()?g.iosBundleId=h.packageName:br()?g.androidPackageName=h.packageName:de(y,"operation-not-supported-in-this-environment"),yield sc(y,g)})).apply(this,arguments)}function Sd(){return(Sd=(0,d.Z)(function*(y,h,g){const{cordova:_}=xo();let S=()=>{};try{yield new Promise((N,Y)=>{let ve=null;function qe(){var ht;N();const On=null===(ht=_.plugins.browsertab)||void 0===ht?void 0:ht.close;"function"==typeof On&&On(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function it(){ve||(ve=window.setTimeout(()=>{Y(Ee(y,"redirect-cancelled-by-user"))},2e3))}function bt(){"visible"===(null==document?void 0:document.visibilityState)&&it()}h.addPassiveListener(qe),document.addEventListener("resume",it,!1),br()&&document.addEventListener("visibilitychange",bt,!1),S=()=>{h.removePassiveListener(qe),document.removeEventListener("resume",it,!1),document.removeEventListener("visibilitychange",bt,!1),ve&&window.clearTimeout(ve)}})}finally{S()}})).apply(this,arguments)}function vu(y){return ag.apply(this,arguments)}function ag(){return(ag=(0,d.Z)(function*(y){const h=pl(y),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pl(y){if(le(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),g=new Uint8Array(h);for(let _=0;_<y.length;_++)g[_]=y.charCodeAt(_);return g}!function _y(y){(0,ge._registerComponent)(new ce.wA("auth",(h,{options:g})=>{const _=h.getProvider("app").getImmediate(),{apiKey:S,authDomain:N}=_.options;return(Y=>{ae(S&&!S.includes(":"),"invalid-api-key",{appName:Y.name}),ae(!(null==N?void 0:N.includes(":")),"argument-error",{appName:Y.name});const ve={apiKey:S,authDomain:N,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oo(y)},qe=new Fr(Y,ve);return function ye(y,h){const g=(null==h?void 0:h.persistence)||[],_=(Array.isArray(g)?g:[g]).map(te);(null==h?void 0:h.errorMap)&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(_,null==h?void 0:h.popupRedirectResolver)}(qe,g),qe})(_)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,_)=>{h.getProvider("auth-internal").initialize()})),(0,ge._registerComponent)(new ce.wA("auth-internal",h=>{const g=Ue(h.getProvider("auth").getImmediate());return new sg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)(yy,"0.19.9",function vy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ge.registerVersion)(yy,"0.19.9","esm2017")}("Browser");class lf extends Ri{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,d.Z)(function*(){yield h.initPromise})()}}function lc(y){return La.apply(this,arguments)}function La(){return(La=(0,d.Z)(function*(y){const h=yield dc()._get(df(y));return h&&(yield dc()._remove(df(y))),h})).apply(this,arguments)}function cc(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const _=Math.floor(Math.random()*h.length);y.push(h.charAt(_))}return y.join("")}function dc(){return te(E)}function df(y){return Ln("authEvent",y.config.apiKey,y.name)}function Md(y){if(!(null==y?void 0:y.includes("?")))return{};const[h,...g]=y.split("?");return(0,P.zd)(g.join("?"))}function gf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function kd(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function lg(y=(0,P.z$)()){return!("file:"!==kd()&&"ionic:"!==kd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Br(){try{const y=self.localStorage,h=Xe();if(y)return y.setItem(h,"1"),y.removeItem(h),!function ca(y=(0,P.z$)()){return function Iy(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Dy(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch(y){return Va()&&(0,P.hl)()}return!1}function Va(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function pc(){return(function Cy(){return"http:"===kd()||"https:"===kd()}()||(0,P.ru)()||lg())&&!function Od(){return(0,P.b$)()||(0,P.UG)()}()&&Br()&&!Va()}function mf(){return lg()&&"undefined"!=typeof document}function _u(){return(_u=(0,d.Z)(function*(){return!!mf()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const es={LOCAL:"local",NONE:"none",SESSION:"session"},wu=ae,vf="persistence";function bu(y){return _f.apply(this,arguments)}function _f(){return(_f=(0,d.Z)(function*(y){yield y._initializationPromise;const h=gc(),g=Ln(vf,y.config.apiKey,y.name);h&&h.setItem(g,y._getPersistence())})).apply(this,arguments)}function gc(){var y;try{return(null===(y=function yf(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(h){return null}}const Ty=ae;class Ni{constructor(){this.browserResolver=te(class Fa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M,this._completeRedirectFn=Sr}_openPopup(h,g,_,S){var N=this;return(0,d.Z)(function*(){var Y;le(null===(Y=N.eventManagers[h._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const ve=nf(h,g,_,vt(),S);return function Ad(y,h,g,_=500,S=600){const N=Math.max((window.screen.availHeight-S)/2,0).toString(),Y=Math.max((window.screen.availWidth-_)/2,0).toString();let ve="";const qe=Object.assign(Object.assign({},fy),{width:_.toString(),height:S.toString(),top:N,left:Y}),it=(0,P.z$)().toLowerCase();g&&(ve=Li(it)?"_blank":g),Fo(it)&&(h=h||"http://localhost",qe.scrollbars="yes");const bt=Object.entries(qe).reduce((On,[vs,yc])=>`${On}${vs}=${yc},`,"");if(function As(y=(0,P.z$)()){var h;return cr(y)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(it)&&"_self"!==ve)return function tf(y,h){const g=document.createElement("a");g.href=y,g.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(_)}(h||"",ve),new Td(null);const ht=window.open(h||"",ve,bt);ae(ht,y,"popup-blocked");try{ht.focus()}catch(On){}return new Td(ht)}(h,ve,Xe())})()}_openRedirect(h,g,_,S){var N=this;return(0,d.Z)(function*(){return yield N._originValidation(h),function Yn(y){Ft().location.href=y}(nf(h,g,_,vt(),S)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:S,promise:N}=this.eventManagers[g];return S?Promise.resolve(S):(le(N,"If manager is not set, promise should be"),N)}const _=this.initAndGetManager(h);return this.eventManagers[g]={promise:_},_.catch(()=>{delete this.eventManagers[g]}),_}initAndGetManager(h){var g=this;return(0,d.Z)(function*(){const _=yield function hy(y){return la.apply(this,arguments)}(h),S=new Ri(h);return _.register("authEvent",N=>(ae(null==N?void 0:N.authEvent,h,"invalid-auth-event"),{status:S.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:S},g.iframes[h._key()]=_,S})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(So,{type:So},S=>{var N;const Y=null===(N=null==S?void 0:S[0])||void 0===N?void 0:N[So];void 0!==Y&&g(!!Y),de(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function uy(y){return $s.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return cs()||wa()||cr()}}),this.cordovaResolver=te(class pf{constructor(){this._redirectPersistence=M,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Sr}_initialize(h){var g=this;return(0,d.Z)(function*(){const _=h._key();let S=g.eventManagers.get(_);return S||(S=new lf(h),g.eventManagers.set(_,S),g.attachCallbackListeners(h,S)),S})()}_openPopup(h){de(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,_,S){var N=this;return(0,d.Z)(function*(){!function xd(y){var h,g,_,S,N,Y,ve,qe,it,bt;const ht=xo();ae("function"==typeof(null===(h=null==ht?void 0:ht.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ae(void 0!==(null===(g=null==ht?void 0:ht.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ae("function"==typeof(null===(N=null===(S=null===(_=null==ht?void 0:ht.cordova)||void 0===_?void 0:_.plugins)||void 0===S?void 0:S.browsertab)||void 0===N?void 0:N.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(qe=null===(ve=null===(Y=null==ht?void 0:ht.cordova)||void 0===Y?void 0:Y.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===qe?void 0:qe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(bt=null===(it=null==ht?void 0:ht.cordova)||void 0===it?void 0:it.InAppBrowser)||void 0===bt?void 0:bt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Y=yield N._initialize(h);yield Y.initialized(),Y.resetRedirect(),function pu(){cl.clear()}(),yield N._originValidation(h);const ve=function cf(y,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:cc(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(h,_,S);yield function Bw(y,h){return dc()._set(df(y),h)}(h,ve);const qe=yield function of(y,h,g){return fl.apply(this,arguments)}(h,ve,g),it=yield function uc(y){const{cordova:h}=xo();return new Promise(g=>{h.plugins.browsertab.isAvailable(_=>{let S=null;_?h.plugins.browsertab.openUrl(y):S=h.InAppBrowser.open(y,function Uu(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(S)})})}(qe);return function og(y,h,g){return Sd.apply(this,arguments)}(h,Y,it)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function af(y){return Xi.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:_,handleOpenURL:S,BuildInfo:N}=xo(),Y=setTimeout((0,d.Z)(function*(){yield lc(h),g.onEvent(gf())}),500),ve=function(){var bt=(0,d.Z)(function*(ht){clearTimeout(Y);const On=yield lc(h);let vs=null;On&&(null==ht?void 0:ht.url)&&(vs=function by(y,h){var g,_;const S=function hc(y){const h=Md(y),g=h.link?decodeURIComponent(h.link):void 0,_=Md(g).link,S=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Md(S).link||S||_||g||y}(h);if(S.includes("/__/auth/callback")){const N=Md(S),Y=N.firebaseError?function hf(y){try{return JSON.parse(y)}catch(h){return null}}(decodeURIComponent(N.firebaseError)):null,ve=null===(_=null===(g=null==Y?void 0:Y.code)||void 0===g?void 0:g.split("auth/"))||void 0===_?void 0:_[1],qe=ve?Ee(ve):null;return qe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(On,ht.url)),g.onEvent(vs||gf())});return function(On){return bt.apply(this,arguments)}}();void 0!==_&&"function"==typeof _.subscribe&&_.subscribe(null,ve);const qe=S,it=`${N.packageName.toLowerCase()}://`;xo().handleOpenURL=function(){var bt=(0,d.Z)(function*(ht){if(ht.toLowerCase().startsWith(it)&&ve({url:ht}),"function"==typeof qe)try{qe(ht)}catch(On){console.error(On)}});return function(ht){return bt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=M,this._completeRedirectFn=Sr}_initialize(h){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,_,S){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(h,g,_,S)})()}_openRedirect(h,g,_,S){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(h,g,_,S)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return mf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ty(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,d.Z)(function*(){if(h.underlyingResolver)return;const g=yield function Jr(){return _u.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function hg(y){return y.unwrap()}function Eu(y){return fg(y)}function fg(y){const{_tokenResponse:h}=y instanceof P.ZR?y.customData:y;if(!h)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Yi.credentialFromResult(y);const g=h.providerId;if(!g||"password"===g)return null;let _;switch(g){case"google.com":_=ks;break;case"facebook.com":_=ho;break;case"github.com":_=qu;break;case"twitter.com":_=qn;break;default:const{oauthIdToken:S,oauthAccessToken:N,oauthTokenSecret:Y,pendingToken:ve,nonce:qe}=h;return N||Y||S||ve?ve?g.startsWith("saml.")?Os._create(g,ve):$i._fromParams({providerId:g,signInMethod:g,pendingToken:ve,idToken:S,accessToken:N}):new hs(g).credential({idToken:S,accessToken:N,rawNonce:qe}):null}return y instanceof P.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function jr(y,h){return h.catch(g=>{throw g instanceof P.ZR&&function Sy(y,h){var g;const _=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new xy(y,function iu(y,h){var g;const _=(0,P.m9)(y),S=h;return ae(h.customData.operationType,_,"argument-error"),ae(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,_,"argument-error"),Fs._fromError(_,S)}(y,h));else if(_){const S=fg(h),N=h;S&&(N.credential=S,N.tenantId=_.tenantId||void 0,N.email=_.email||void 0,N.phoneNumber=_.phoneNumber||void 0)}}(y,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Eu(g),additionalUserInfo:Wn(g),user:da.getOrCreate(S)}})}function wf(y,h){return bf.apply(this,arguments)}function bf(){return(bf=(0,d.Z)(function*(y,h){const g=yield h;return{verificationId:g.verificationId,confirm:_=>jr(y,g.confirm(_))}})).apply(this,arguments)}class xy{constructor(h,g){this.resolver=g,this.auth=function Ay(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return jr(hg(this.auth),this.resolver.resolveSignIn(h))}}class da{constructor(h){this._delegate=h,this.multiFactor=function md(y){const h=(0,P.m9)(y);return yo.has(h)||yo.set(h,Dr._fromUser(h)),yo.get(h)}(h)}static getOrCreate(h){return da.USER_MAP.has(h)||da.USER_MAP.set(h,new da(h)),da.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,d.Z)(function*(){return jr(g.auth,Lr(g._delegate,h))})()}linkWithPhoneNumber(h,g){var _=this;return(0,d.Z)(function*(){return wf(_.auth,function Jl(y,h,g){return ia.apply(this,arguments)}(_._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,d.Z)(function*(){return jr(g.auth,function Qi(y,h,g){return ul.apply(this,arguments)}(g._delegate,h,Ni))})()}linkWithRedirect(h){var g=this;return(0,d.Z)(function*(){return yield bu(Ue(g.auth)),function Be(y,h,g){return function Je(y,h,g){return Ot.apply(this,arguments)}(y,h,g)}(g._delegate,h,Ni)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,d.Z)(function*(){return jr(g.auth,fo(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return wf(this.auth,function oy(y,h,g){return Xl.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return jr(this.auth,function bd(y,h,g){return Io.apply(this,arguments)}(this._delegate,h,Ni))}reauthenticateWithRedirect(h){var g=this;return(0,d.Z)(function*(){return yield bu(Ue(g.auth)),function J(y,h,g){return function ue(y,h,g){return we.apply(this,arguments)}(y,h,g)}(g._delegate,h,Ni)})()}sendEmailVerification(h){return function Qr(y,h){return Ko.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,d.Z)(function*(){return yield function di(y,h){return Da.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function tu(y,h){return Jo((0,P.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function el(y,h){return Jo((0,P.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function ec(y,h){return sa.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function eu(y,h){return Qo.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function Ju(y,h,g){return Yo.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}da.USER_MAP=new WeakMap;const mc=ae;let Ef=(()=>{class y{constructor(g,_){if(this.app=g,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;mc(S,"invalid-api-key",{appName:g.name}),mc(S,"invalid-api-key",{appName:g.name});const N="undefined"!=typeof window?Ni:void 0;this._delegate=_.initialize({options:{persistence:My(S,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?da.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,_){!function sn(y,h,g){const _=Ue(y);ae(_._canInitEmulator,_,"emulator-config-failed"),ae(/^https?:\/\//.test(h),_,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),N=Er(h),{host:Y,port:ve}=function li(y){const h=Er(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!g)return{host:"",port:null};const _=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(_);if(S){const N=S[1];return{host:N,port:cn(_.substr(N.length+1))}}{const[N,Y]=_.split(":");return{host:N,port:cn(Y)}}}(h);_.config.emulator={url:`${N}//${Y}${null===ve?"":`:${ve}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:Y,port:ve,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Ci(){function y(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,_)}applyActionCode(g){return function Zl(y,h){return Me.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Nt(this._delegate,g)}confirmPasswordReset(g,_){return function Qa(y,h,g){return Zo.apply(this,arguments)}(this._delegate,g,_)}createUserWithEmailAndPassword(g,_){var S=this;return(0,d.Z)(function*(){return jr(S._delegate,function Wo(y,h,g){return Ir.apply(this,arguments)}(S._delegate,g,_))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Xa(y,h){return Ti.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function xa(y,h){const g=Hi.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){mc(pc(),g._delegate,"operation-not-supported-in-this-environment");const _=yield function on(y,h){return Bn.apply(this,arguments)}(g._delegate,Ni);return _?jr(g._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function ug(y,h){Ue(y)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,_,S){const{next:N,error:Y,complete:ve}=Cf(g,_,S);return this._delegate.onAuthStateChanged(N,Y,ve)}onIdTokenChanged(g,_,S){const{next:N,error:Y,complete:ve}=Cf(g,_,S);return this._delegate.onIdTokenChanged(N,Y,ve)}sendSignInLinkToEmail(g,_){return function Sa(y,h,g){return Qu.apply(this,arguments)}(this._delegate,g,_)}sendPasswordResetEmail(g,_){return function Yu(y,h,g){return zo.apply(this,arguments)}(this._delegate,g,_||void 0)}setPersistence(g){var _=this;return(0,d.Z)(function*(){let S;switch(function cg(y,h){wu(Object.values(es).includes(h),y,"invalid-persistence-type"),(0,P.b$)()?wu(h!==es.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?wu(h===es.NONE,y,"unsupported-persistence-type"):Va()?wu(h===es.NONE||h===es.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):wu(h===es.NONE||Br(),y,"unsupported-persistence-type")}(_._delegate,g),g){case es.SESSION:S=M;break;case es.LOCAL:S=(yield te(Ki)._isAvailable())?Ki:E;break;case es.NONE:S=kt;break;default:return de("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return jr(this._delegate,function Ku(y){return Ea.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return jr(this._delegate,Ta(this._delegate,g))}signInWithCustomToken(g){return jr(this._delegate,function qi(y,h){return ps.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,_){return jr(this._delegate,function Ja(y,h,g){return Ta((0,P.m9)(y),Bo.credential(h,g))}(this._delegate,g,_))}signInWithEmailLink(g,_){return jr(this._delegate,function go(y,h,g){return Rs.apply(this,arguments)}(this._delegate,g,_))}signInWithPhoneNumber(g,_){return wf(this._delegate,function al(y,h,g){return Dn.apply(this,arguments)}(this._delegate,g,_))}signInWithPopup(g){var _=this;return(0,d.Z)(function*(){return mc(pc(),_._delegate,"operation-not-supported-in-this-environment"),jr(_._delegate,function oa(y,h,g){return wd.apply(this,arguments)}(_._delegate,g,Ni))})()}signInWithRedirect(g){var _=this;return(0,d.Z)(function*(){return mc(pc(),_._delegate,"operation-not-supported-in-this-environment"),yield bu(_._delegate),function T(y,h,g){return function O(y,h,g){return U.apply(this,arguments)}(y,h,g)}(_._delegate,g,Ni)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function dn(y,h){return zi.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=es,y})();function Cf(y,h,g){let _=y;"function"!=typeof y&&({next:_,error:h,complete:g}=y);const S=_;return{next:Y=>S(Y&&da.getOrCreate(Y)),error:h,complete:g}}function My(y,h){const g=function dg(y,h){const g=gc();if(!g)return[];const _=Ln(vf,y,h);switch(g.getItem(_)){case es.NONE:return[kt];case es.LOCAL:return[Ki,M];case es.SESSION:return[M];default:return[]}}(y,h);if("undefined"!=typeof self&&!g.includes(Ki)&&g.push(Ki),"undefined"!=typeof window)for(const _ of[E,M])g.includes(_)||g.push(_);return g.includes(kt)||g.push(kt),g}class If{constructor(){this.providerId="phone",this._delegate=new Yi(hg(X.Z.auth()))}static credential(h,g){return Yi.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}If.PHONE_SIGN_IN_METHOD=Yi.PHONE_SIGN_IN_METHOD,If.PROVIDER_ID=Yi.PROVIDER_ID;const ky=ae;class Oy{constructor(h,g,_=X.Z.app()){var S;ky(null===(S=_.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new Kh(h,g,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pg(y){y.INTERNAL.registerComponent(new ce.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),_=h.getProvider("auth");return new Ef(g,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bo,FacebookAuthProvider:ho,GithubAuthProvider:qu,GoogleAuthProvider:ks,OAuthProvider:hs,SAMLAuthProvider:Gi,PhoneAuthProvider:If,PhoneMultiFactorGenerator:my,RecaptchaVerifier:Oy,TwitterAuthProvider:qn,Auth:Ef,AuthCredential:Ct,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.9")}(X.Z)},2940:function(ut,xe){!function(L){"use strict";function d(Q){return Array.prototype.slice.call(Q)}function X(Q){return new Promise(function(he,Re){Q.onsuccess=function(){he(Q.result)},Q.onerror=function(){Re(Q.error)}})}function P(Q,he,Re){var Le,de=new Promise(function(Ee,Ie){X(Le=Q[he].apply(Q,Re)).then(Ee,Ie)});return de.request=Le,de}function ge(Q,he,Re){var Le=P(Q,he,Re);return Le.then(function(de){if(de)return new H(de,Le.request)})}function se(Q,he,Re){Re.forEach(function(Le){Object.defineProperty(Q.prototype,Le,{get:function(){return this[he][Le]},set:function(de){this[he][Le]=de}})})}function _e(Q,he,Re,Le){Le.forEach(function(de){de in Re.prototype&&(Q.prototype[de]=function(){return P(this[he],de,arguments)})})}function ce(Q,he,Re,Le){Le.forEach(function(de){de in Re.prototype&&(Q.prototype[de]=function(){return this[he][de].apply(this[he],arguments)})})}function fe(Q,he,Re,Le){Le.forEach(function(de){de in Re.prototype&&(Q.prototype[de]=function(){return ge(this[he],de,arguments)})})}function pe(Q){this._index=Q}function H(Q,he){this._cursor=Q,this._request=he}function $(Q){this._store=Q}function ee(Q){this._tx=Q,this.complete=new Promise(function(he,Re){Q.oncomplete=function(){he()},Q.onerror=function(){Re(Q.error)},Q.onabort=function(){Re(Q.error)}})}function Ge(Q,he,Re){this._db=Q,this.oldVersion=he,this.transaction=new ee(Re)}function ke(Q){this._db=Q}se(pe,"_index",["name","keyPath","multiEntry","unique"]),_e(pe,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),fe(pe,"_index",IDBIndex,["openCursor","openKeyCursor"]),se(H,"_cursor",["direction","key","primaryKey","value"]),_e(H,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Q){Q in IDBCursor.prototype&&(H.prototype[Q]=function(){var he=this,Re=arguments;return Promise.resolve().then(function(){return he._cursor[Q].apply(he._cursor,Re),X(he._request).then(function(Le){if(Le)return new H(Le,he._request)})})})}),$.prototype.createIndex=function(){return new pe(this._store.createIndex.apply(this._store,arguments))},$.prototype.index=function(){return new pe(this._store.index.apply(this._store,arguments))},se($,"_store",["name","keyPath","indexNames","autoIncrement"]),_e($,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),fe($,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ce($,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new $(this._tx.objectStore.apply(this._tx,arguments))},se(ee,"_tx",["objectStoreNames","mode"]),ce(ee,"_tx",IDBTransaction,["abort"]),Ge.prototype.createObjectStore=function(){return new $(this._db.createObjectStore.apply(this._db,arguments))},se(Ge,"_db",["name","version","objectStoreNames"]),ce(Ge,"_db",IDBDatabase,["deleteObjectStore","close"]),ke.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},se(ke,"_db",["name","version","objectStoreNames"]),ce(ke,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Q){[$,pe].forEach(function(he){Q in he.prototype&&(he.prototype[Q.replace("open","iterate")]=function(){var Re=d(arguments),Le=Re[Re.length-1],de=this._store||this._index,Ee=de[Q].apply(de,Re.slice(0,-1));Ee.onsuccess=function(){Le(Ee.result)}})})}),[pe,$].forEach(function(Q){Q.prototype.getAll||(Q.prototype.getAll=function(he,Re){var Le=this,de=[];return new Promise(function(Ee){Le.iterateCursor(he,function(Ie){Ie?(de.push(Ie.value),void 0===Re||de.length!=Re?Ie.continue():Ee(de)):Ee(de)})})})}),L.openDb=function Fe(Q,he,Re){var Le=P(indexedDB,"open",[Q,he]),de=Le.request;return de&&(de.onupgradeneeded=function(Ee){Re&&Re(new Ge(de.result,Ee.oldVersion,de.transaction))}),Le.then(function(Ee){return new ke(Ee)})},L.deleteDb=function He(Q){return P(indexedDB,"deleteDatabase",[Q])},Object.defineProperty(L,"__esModule",{value:!0})}(xe)},8306:(ut,xe,L)=>{"use strict";L.d(xe,{y:()=>H});var d=L(2961),X=L(727),P=L(8822),ge=L(4671);var ce=L(2416),fe=L(576),pe=L(2806);let H=(()=>{class ke{constructor(He){He&&(this._subscribe=He)}lift(He){const Q=new ke;return Q.source=this,Q.operator=He,Q}subscribe(He,Q,he){const Re=function Ge(ke){return ke&&ke instanceof d.Lv||function ee(ke){return ke&&(0,fe.m)(ke.next)&&(0,fe.m)(ke.error)&&(0,fe.m)(ke.complete)}(ke)&&(0,X.Nn)(ke)}(He)?He:new d.Hp(He,Q,he);return(0,pe.x)(()=>{const{operator:Le,source:de}=this;Re.add(Le?Le.call(Re,de):de?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(He){try{return this._subscribe(He)}catch(Q){He.error(Q)}}forEach(He,Q){return new(Q=$(Q))((he,Re)=>{const Le=new d.Hp({next:de=>{try{He(de)}catch(Ee){Re(Ee),Le.unsubscribe()}},error:Re,complete:he});this.subscribe(Le)})}_subscribe(He){var Q;return null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(He)}[P.L](){return this}pipe(...He){return function _e(ke){return 0===ke.length?ge.y:1===ke.length?ke[0]:function(He){return ke.reduce((Q,he)=>he(Q),He)}}(He)(this)}toPromise(He){return new(He=$(He))((Q,he)=>{let Re;this.subscribe(Le=>Re=Le,Le=>he(Le),()=>Q(Re))})}}return ke.create=Fe=>new ke(Fe),ke})();function $(ke){var Fe;return null!==(Fe=null!=ke?ke:ce.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(ut,xe,L)=>{"use strict";L.d(xe,{x:()=>ce});var d=L(8306),X=L(727);const ge=(0,L(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=L(8737),_e=L(2806);let ce=(()=>{class pe extends d.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ee=new fe(this,this);return ee.operator=$,ee}_throwIfClosed(){if(this.closed)throw new ge}next($){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ee=this.observers.slice();for(const Ge of ee)Ge.next($)}})}error($){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ee}=this;for(;ee.length;)ee.shift().error($)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ee,isStopped:Ge,observers:ke}=this;return ee||Ge?X.Lc:(ke.push($),new X.w0(()=>(0,se.P)(ke,$)))}_checkFinalizedStatuses($){const{hasError:ee,thrownError:Ge,isStopped:ke}=this;ee?$.error(Ge):ke&&$.complete()}asObservable(){const $=new d.y;return $.source=this,$}}return pe.create=(H,$)=>new fe(H,$),pe})();class fe extends ce{constructor(H,$){super(),this.destination=H,this.source=$}next(H){var $,ee;null===(ee=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ee||ee.call($,H)}error(H){var $,ee;null===(ee=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ee||ee.call($,H)}complete(){var H,$;null===($=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===$||$.call(H)}_subscribe(H){var $,ee;return null!==(ee=null===($=this.source)||void 0===$?void 0:$.subscribe(H))&&void 0!==ee?ee:X.Lc}}},2961:(ut,xe,L)=>{"use strict";L.d(xe,{Hp:()=>He,Lv:()=>ee});var d=L(576),X=L(727),P=L(2416),ge=L(7849);function se(){}const _e=pe("C",void 0,void 0);function pe(de,Ee,Ie){return{kind:de,value:Ee,error:Ie}}var H=L(3410),$=L(2806);class ee extends X.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,X.Nn)(Ee)&&Ee.add(this)):this.destination=Le}static create(Ee,Ie,ze){return new He(Ee,Ie,ze)}next(Ee){this.isStopped?Re(function fe(de){return pe("N",de,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Re(function ce(de){return pe("E",void 0,de)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Re(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function ke(de,Ee){return Ge.call(de,Ee)}class Fe{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Ee)}catch(ze){Q(ze)}}error(Ee){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Ee)}catch(ze){Q(ze)}else Q(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Ie){Q(Ie)}}}class He extends ee{constructor(Ee,Ie,ze){let q;if(super(),(0,d.m)(Ee)||!Ee)q={next:null!=Ee?Ee:void 0,error:null!=Ie?Ie:void 0,complete:null!=ze?ze:void 0};else{let ae;this&&P.v.useDeprecatedNextContext?(ae=Object.create(Ee),ae.unsubscribe=()=>this.unsubscribe(),q={next:Ee.next&&ke(Ee.next,ae),error:Ee.error&&ke(Ee.error,ae),complete:Ee.complete&&ke(Ee.complete,ae)}):q=Ee}this.destination=new Fe(q)}}function Q(de){P.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(de):(0,ge.h)(de)}function Re(de,Ee){const{onStoppedNotification:Ie}=P.v;Ie&&H.z.setTimeout(()=>Ie(de,Ee))}const Le={closed:!0,next:se,error:function he(de){throw de},complete:se}},727:(ut,xe,L)=>{"use strict";L.d(xe,{Lc:()=>_e,w0:()=>se,Nn:()=>ce});var d=L(576);const P=(0,L(3888).d)(pe=>function($){pe(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ee,Ge)=>`${Ge+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ge=L(8737);class se{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const ke of $)ke.remove(this);else $.remove(this);const{initialTeardown:ee}=this;if((0,d.m)(ee))try{ee()}catch(ke){H=ke instanceof P?ke.errors:[ke]}const{_teardowns:Ge}=this;if(Ge){this._teardowns=null;for(const ke of Ge)try{fe(ke)}catch(Fe){H=null!=H?H:[],Fe instanceof P?H=[...H,...Fe.errors]:H.push(Fe)}}if(H)throw new P(H)}}add(H){var $;if(H&&H!==this)if(this.closed)fe(H);else{if(H instanceof se){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==($=this._teardowns)&&void 0!==$?$:[]).push(H)}}_hasParent(H){const{_parentage:$}=this;return $===H||Array.isArray($)&&$.includes(H)}_addParent(H){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(H),$):$?[$,H]:H}_removeParent(H){const{_parentage:$}=this;$===H?this._parentage=null:Array.isArray($)&&(0,ge.P)($,H)}remove(H){const{_teardowns:$}=this;$&&(0,ge.P)($,H),H instanceof se&&H._removeParent(this)}}se.EMPTY=(()=>{const pe=new se;return pe.closed=!0,pe})();const _e=se.EMPTY;function ce(pe){return pe instanceof se||pe&&"closed"in pe&&(0,d.m)(pe.remove)&&(0,d.m)(pe.add)&&(0,d.m)(pe.unsubscribe)}function fe(pe){(0,d.m)(pe)?pe():pe.unsubscribe()}},2416:(ut,xe,L)=>{"use strict";L.d(xe,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,xe,L)=>{"use strict";L.d(xe,{E:()=>X});const X=new(L(8306).y)(se=>se.complete())},8996:(ut,xe,L)=>{"use strict";L.d(xe,{D:()=>Ee});var d=L(8421),X=L(5363),P=L(9468),_e=L(8306),fe=L(2202),pe=L(576),H=L(9672);function ee(Ie,ze){if(!Ie)throw new Error("Iterable cannot be null");return new _e.y(q=>{(0,H.f)(q,ze,()=>{const ae=Ie[Symbol.asyncIterator]();(0,H.f)(q,ze,()=>{ae.next().then(K=>{K.done?q.complete():q.next(K.value)})},0,!0)})})}var Ge=L(3670),ke=L(8239),Fe=L(1144),He=L(6495),Q=L(2206),he=L(4532),Re=L(3260);function Ee(Ie,ze){return ze?function de(Ie,ze){if(null!=Ie){if((0,Ge.c)(Ie))return function ge(Ie,ze){return(0,d.Xf)(Ie).pipe((0,P.R)(ze),(0,X.Q)(ze))}(Ie,ze);if((0,Fe.z)(Ie))return function ce(Ie,ze){return new _e.y(q=>{let ae=0;return ze.schedule(function(){ae===Ie.length?q.complete():(q.next(Ie[ae++]),q.closed||this.schedule())})})}(Ie,ze);if((0,ke.t)(Ie))return function se(Ie,ze){return(0,d.Xf)(Ie).pipe((0,P.R)(ze),(0,X.Q)(ze))}(Ie,ze);if((0,Q.D)(Ie))return ee(Ie,ze);if((0,He.T)(Ie))return function $(Ie,ze){return new _e.y(q=>{let ae;return(0,H.f)(q,ze,()=>{ae=Ie[fe.h](),(0,H.f)(q,ze,()=>{let K,le;try{({value:K,done:le}=ae.next())}catch(me){return void q.error(me)}le?q.complete():q.next(K)},0,!0)}),()=>(0,pe.m)(null==ae?void 0:ae.return)&&ae.return()})}(Ie,ze);if((0,Re.L)(Ie))return function Le(Ie,ze){return ee((0,Re.Q)(Ie),ze)}(Ie,ze)}throw(0,he.z)(Ie)}(Ie,ze):(0,d.Xf)(Ie)}},8421:(ut,xe,L)=>{"use strict";L.d(xe,{Xf:()=>Ge});var d=L(655),X=L(1144),P=L(8239),ge=L(8306),se=L(3670),_e=L(2206),ce=L(4532),fe=L(6495),pe=L(3260),H=L(576),$=L(7849),ee=L(8822);function Ge(de){if(de instanceof ge.y)return de;if(null!=de){if((0,se.c)(de))return function ke(de){return new ge.y(Ee=>{const Ie=de[ee.L]();if((0,H.m)(Ie.subscribe))return Ie.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(de);if((0,X.z)(de))return function Fe(de){return new ge.y(Ee=>{for(let Ie=0;Ie<de.length&&!Ee.closed;Ie++)Ee.next(de[Ie]);Ee.complete()})}(de);if((0,P.t)(de))return function He(de){return new ge.y(Ee=>{de.then(Ie=>{Ee.closed||(Ee.next(Ie),Ee.complete())},Ie=>Ee.error(Ie)).then(null,$.h)})}(de);if((0,_e.D)(de))return he(de);if((0,fe.T)(de))return function Q(de){return new ge.y(Ee=>{for(const Ie of de)if(Ee.next(Ie),Ee.closed)return;Ee.complete()})}(de);if((0,pe.L)(de))return function Re(de){return he((0,pe.Q)(de))}(de)}throw(0,ce.z)(de)}function he(de){return new ge.y(Ee=>{(function Le(de,Ee){var Ie,ze,q,ae;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,d.KL)(de);!(ze=yield Ie.next()).done;)if(Ee.next(ze.value),Ee.closed)return}catch(K){q={error:K}}finally{try{ze&&!ze.done&&(ae=Ie.return)&&(yield ae.call(Ie))}finally{if(q)throw q.error}}Ee.complete()})})(de,Ee).catch(Ie=>Ee.error(Ie))})}},6451:(ut,xe,L)=>{"use strict";L.d(xe,{T:()=>_e});var d=L(8189),X=L(8421),P=L(515),ge=L(7669),se=L(8996);function _e(...ce){const fe=(0,ge.yG)(ce),pe=(0,ge._6)(ce,1/0),H=ce;return H.length?1===H.length?(0,X.Xf)(H[0]):(0,d.J)(pe)((0,se.D)(H,fe)):P.E}},5403:(ut,xe,L)=>{"use strict";L.d(xe,{x:()=>X});var d=L(2961);function X(ge,se,_e,ce,fe){return new P(ge,se,_e,ce,fe)}class P extends d.Lv{constructor(se,_e,ce,fe,pe,H){super(se),this.onFinalize=pe,this.shouldUnsubscribe=H,this._next=_e?function($){try{_e($)}catch(ee){se.error(ee)}}:super._next,this._error=fe?function($){try{fe($)}catch(ee){se.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch($){se.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(ut,xe,L)=>{"use strict";L.d(xe,{U:()=>P});var d=L(4482),X=L(5403);function P(ge,se){return(0,d.e)((_e,ce)=>{let fe=0;_e.subscribe((0,X.x)(ce,pe=>{ce.next(ge.call(se,pe,fe++))}))})}},8189:(ut,xe,L)=>{"use strict";L.d(xe,{J:()=>P});var d=L(5577),X=L(4671);function P(ge=1/0){return(0,d.z)(X.y,ge)}},5577:(ut,xe,L)=>{"use strict";L.d(xe,{z:()=>fe});var d=L(4004),X=L(8421),P=L(4482),ge=L(9672),se=L(5403),ce=L(576);function fe(pe,H,$=1/0){return(0,ce.m)(H)?fe((ee,Ge)=>(0,d.U)((ke,Fe)=>H(ee,ke,Ge,Fe))((0,X.Xf)(pe(ee,Ge))),$):("number"==typeof H&&($=H),(0,P.e)((ee,Ge)=>function _e(pe,H,$,ee,Ge,ke,Fe,He){const Q=[];let he=0,Re=0,Le=!1;const de=()=>{Le&&!Q.length&&!he&&H.complete()},Ee=ze=>he<ee?Ie(ze):Q.push(ze),Ie=ze=>{ke&&H.next(ze),he++;let q=!1;(0,X.Xf)($(ze,Re++)).subscribe((0,se.x)(H,ae=>{null==Ge||Ge(ae),ke?Ee(ae):H.next(ae)},()=>{q=!0},void 0,()=>{if(q)try{for(he--;Q.length&&he<ee;){const ae=Q.shift();Fe?(0,ge.f)(H,Fe,()=>Ie(ae)):Ie(ae)}de()}catch(ae){H.error(ae)}}))};return pe.subscribe((0,se.x)(H,Ee,()=>{Le=!0,de()})),()=>{null==He||He()}}(ee,Ge,pe,$)))}},5363:(ut,xe,L)=>{"use strict";L.d(xe,{Q:()=>ge});var d=L(9672),X=L(4482),P=L(5403);function ge(se,_e=0){return(0,X.e)((ce,fe)=>{ce.subscribe((0,P.x)(fe,pe=>(0,d.f)(fe,se,()=>fe.next(pe),_e),()=>(0,d.f)(fe,se,()=>fe.complete(),_e),pe=>(0,d.f)(fe,se,()=>fe.error(pe),_e)))})}},3099:(ut,xe,L)=>{"use strict";L.d(xe,{B:()=>_e});var d=L(8996),X=L(5698),P=L(7579),ge=L(2961),se=L(4482);function _e(fe={}){const{connector:pe=(()=>new P.x),resetOnError:H=!0,resetOnComplete:$=!0,resetOnRefCountZero:ee=!0}=fe;return Ge=>{let ke=null,Fe=null,He=null,Q=0,he=!1,Re=!1;const Le=()=>{null==Fe||Fe.unsubscribe(),Fe=null},de=()=>{Le(),ke=He=null,he=Re=!1},Ee=()=>{const Ie=ke;de(),null==Ie||Ie.unsubscribe()};return(0,se.e)((Ie,ze)=>{Q++,!Re&&!he&&Le();const q=He=null!=He?He:pe();ze.add(()=>{Q--,0===Q&&!Re&&!he&&(Fe=ce(Ee,ee))}),q.subscribe(ze),ke||(ke=new ge.Hp({next:ae=>q.next(ae),error:ae=>{Re=!0,Le(),Fe=ce(de,H,ae),q.error(ae)},complete:()=>{he=!0,Le(),Fe=ce(de,$),q.complete()}}),(0,d.D)(Ie).subscribe(ke))})(Ge)}}function ce(fe,pe,...H){return!0===pe?(fe(),null):!1===pe?null:pe(...H).pipe((0,X.q)(1)).subscribe(()=>fe())}},9468:(ut,xe,L)=>{"use strict";L.d(xe,{R:()=>X});var d=L(4482);function X(P,ge=0){return(0,d.e)((se,_e)=>{_e.add(P.schedule(()=>se.subscribe(_e),ge))})}},5698:(ut,xe,L)=>{"use strict";L.d(xe,{q:()=>ge});var d=L(515),X=L(4482),P=L(5403);function ge(se){return se<=0?()=>d.E:(0,X.e)((_e,ce)=>{let fe=0;_e.subscribe((0,P.x)(ce,pe=>{++fe<=se&&(ce.next(pe),se<=fe&&ce.complete())}))})}},8505:(ut,xe,L)=>{"use strict";L.d(xe,{b:()=>se});var d=L(576),X=L(4482),P=L(5403),ge=L(4671);function se(_e,ce,fe){const pe=(0,d.m)(_e)||ce||fe?{next:_e,error:ce,complete:fe}:_e;return pe?(0,X.e)((H,$)=>{var ee;null===(ee=pe.subscribe)||void 0===ee||ee.call(pe);let Ge=!0;H.subscribe((0,P.x)($,ke=>{var Fe;null===(Fe=pe.next)||void 0===Fe||Fe.call(pe,ke),$.next(ke)},()=>{var ke;Ge=!1,null===(ke=pe.complete)||void 0===ke||ke.call(pe),$.complete()},ke=>{var Fe;Ge=!1,null===(Fe=pe.error)||void 0===Fe||Fe.call(pe,ke),$.error(ke)},()=>{var ke,Fe;Ge&&(null===(ke=pe.unsubscribe)||void 0===ke||ke.call(pe)),null===(Fe=pe.finalize)||void 0===Fe||Fe.call(pe)}))}):ge.y}},4408:(ut,xe,L)=>{"use strict";L.d(xe,{o:()=>se});var d=L(727);class X extends d.w0{constructor(ce,fe){super()}schedule(ce,fe=0){return this}}const P={setInterval(..._e){const{delegate:ce}=P;return((null==ce?void 0:ce.setInterval)||setInterval)(..._e)},clearInterval(_e){const{delegate:ce}=P;return((null==ce?void 0:ce.clearInterval)||clearInterval)(_e)},delegate:void 0};var ge=L(8737);class se extends X{constructor(ce,fe){super(ce,fe),this.scheduler=ce,this.work=fe,this.pending=!1}schedule(ce,fe=0){if(this.closed)return this;this.state=ce;const pe=this.id,H=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(H,pe,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(H,this.id,fe),this}requestAsyncId(ce,fe,pe=0){return P.setInterval(ce.flush.bind(ce,this),pe)}recycleAsyncId(ce,fe,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return fe;P.clearInterval(fe)}execute(ce,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ce,fe);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,fe){let H,pe=!1;try{this.work(ce)}catch($){pe=!0,H=$||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ce,scheduler:fe}=this,{actions:pe}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(pe,this),null!=ce&&(this.id=this.recycleAsyncId(fe,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,xe,L)=>{"use strict";L.d(xe,{v:()=>P});var d=L(6063);class X{constructor(se,_e=X.now){this.schedulerActionCtor=se,this.now=_e}schedule(se,_e=0,ce){return new this.schedulerActionCtor(this,se).schedule(ce,_e)}}X.now=d.l.now;class P extends X{constructor(se,_e=X.now){super(se,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:_e}=this;if(this._active)return void _e.push(se);let ce;this._active=!0;do{if(ce=se.execute(se.state,se.delay))break}while(se=_e.shift());if(this._active=!1,ce){for(;se=_e.shift();)se.unsubscribe();throw ce}}}},4986:(ut,xe,L)=>{"use strict";L.d(xe,{z:()=>P});var d=L(4408);const P=new(L(7565).v)(d.o)},6063:(ut,xe,L)=>{"use strict";L.d(xe,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(ut,xe,L)=>{"use strict";L.d(xe,{z:()=>d});const d={setTimeout(...X){const{delegate:P}=d;return((null==P?void 0:P.setTimeout)||setTimeout)(...X)},clearTimeout(X){const{delegate:P}=d;return((null==P?void 0:P.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(ut,xe,L)=>{"use strict";L.d(xe,{h:()=>X});const X=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,xe,L)=>{"use strict";L.d(xe,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ut,xe,L)=>{"use strict";L.d(xe,{_6:()=>_e,jO:()=>ge,yG:()=>se});var d=L(576);function P(ce){return ce[ce.length-1]}function ge(ce){return(0,d.m)(P(ce))?ce.pop():void 0}function se(ce){return function X(ce){return ce&&(0,d.m)(ce.schedule)}(P(ce))?ce.pop():void 0}function _e(ce,fe){return"number"==typeof P(ce)?ce.pop():fe}},8737:(ut,xe,L)=>{"use strict";function d(X,P){if(X){const ge=X.indexOf(P);0<=ge&&X.splice(ge,1)}}L.d(xe,{P:()=>d})},3888:(ut,xe,L)=>{"use strict";function d(X){const ge=X(se=>{Error.call(se),se.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}L.d(xe,{d:()=>d})},2806:(ut,xe,L)=>{"use strict";L.d(xe,{x:()=>P,O:()=>ge});var d=L(2416);let X=null;function P(se){if(d.v.useDeprecatedSynchronousErrorHandling){const _e=!X;if(_e&&(X={errorThrown:!1,error:null}),se(),_e){const{errorThrown:ce,error:fe}=X;if(X=null,ce)throw fe}}else se()}function ge(se){d.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=se)}},9672:(ut,xe,L)=>{"use strict";function d(X,P,ge,se=0,_e=!1){const ce=P.schedule(function(){ge(),_e?X.add(this.schedule(null,se)):this.unsubscribe()},se);if(X.add(ce),!_e)return ce}L.d(xe,{f:()=>d})},4671:(ut,xe,L)=>{"use strict";function d(X){return X}L.d(xe,{y:()=>d})},1144:(ut,xe,L)=>{"use strict";L.d(xe,{z:()=>d});const d=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(ut,xe,L)=>{"use strict";L.d(xe,{D:()=>X});var d=L(576);function X(P){return Symbol.asyncIterator&&(0,d.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(ut,xe,L)=>{"use strict";function d(X){return"function"==typeof X}L.d(xe,{m:()=>d})},3670:(ut,xe,L)=>{"use strict";L.d(xe,{c:()=>P});var d=L(8822),X=L(576);function P(ge){return(0,X.m)(ge[d.L])}},6495:(ut,xe,L)=>{"use strict";L.d(xe,{T:()=>P});var d=L(2202),X=L(576);function P(ge){return(0,X.m)(null==ge?void 0:ge[d.h])}},8239:(ut,xe,L)=>{"use strict";L.d(xe,{t:()=>X});var d=L(576);function X(P){return(0,d.m)(null==P?void 0:P.then)}},3260:(ut,xe,L)=>{"use strict";L.d(xe,{Q:()=>P,L:()=>ge});var d=L(655),X=L(576);function P(se){return(0,d.FC)(this,arguments,function*(){const ce=se.getReader();try{for(;;){const{value:fe,done:pe}=yield(0,d.qq)(ce.read());if(pe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(fe)}}finally{ce.releaseLock()}})}function ge(se){return(0,X.m)(null==se?void 0:se.getReader)}},4482:(ut,xe,L)=>{"use strict";L.d(xe,{A:()=>X,e:()=>P});var d=L(576);function X(ge){return(0,d.m)(null==ge?void 0:ge.lift)}function P(ge){return se=>{if(X(se))return se.lift(function(_e){try{return ge(_e,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(ut,xe,L)=>{"use strict";L.d(xe,{h:()=>P});var d=L(2416),X=L(3410);function P(ge){X.z.setTimeout(()=>{const{onUnhandledError:se}=d.v;if(!se)throw ge;se(ge)})}},4532:(ut,xe,L)=>{"use strict";function d(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(xe,{z:()=>d})},5226:function(ut){ut.exports=function(){"use strict";const xe="SweetAlert2:",d=E=>E.charAt(0).toUpperCase()+E.slice(1),X=E=>Array.prototype.slice.call(E),P=E=>{console.warn("".concat(xe," ").concat("object"==typeof E?E.join(" "):E))},ge=E=>{console.error("".concat(xe," ").concat(E))},se=[],ce=(E,b)=>{(E=>{se.includes(E)||(se.push(E),P(E))})('"'.concat(E,'" is deprecated and will be removed in the next major release. Please use "').concat(b,'" instead.'))},fe=E=>"function"==typeof E?E():E,pe=E=>E&&"function"==typeof E.toPromise,H=E=>pe(E)?E.toPromise():Promise.resolve(E),$=E=>E&&Promise.resolve(E)===E,ee={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ge=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ke={},Fe=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],He=E=>Object.prototype.hasOwnProperty.call(ee,E),Q=E=>-1!==Ge.indexOf(E),he=E=>ke[E],Re=E=>{He(E)||P('Unknown parameter "'.concat(E,'"'))},Le=E=>{Fe.includes(E)&&P('The parameter "'.concat(E,'" is incompatible with toasts'))},de=E=>{he(E)&&ce(E,he(E))},ze=E=>{const b={};for(const M in E)b[E[M]]="swal2-"+E[M];return b},q=ze(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),ae=ze(["success","warning","info","question","error"]),K=()=>document.body.querySelector(".".concat(q.container)),le=E=>{const b=K();return b?b.querySelector(E):null},me=E=>le(".".concat(E)),te=()=>me(q.popup),Pe=()=>me(q.icon),ye=()=>me(q.title),vt=()=>me(q["html-container"]),$t=()=>me(q.image),En=()=>me(q["progress-steps"]),ot=()=>me(q["validation-message"]),et=()=>le(".".concat(q.actions," .").concat(q.confirm)),an=()=>le(".".concat(q.actions," .").concat(q.deny)),Cn=()=>le(".".concat(q.loader)),Lt=()=>le(".".concat(q.actions," .").concat(q.cancel)),mr=()=>me(q.actions),Zt=()=>me(q.footer),At=()=>me(q["timer-progress-bar"]),ui=()=>me(q.close),Ei=()=>{const E=X(te().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((M,B)=>{const Te=parseInt(M.getAttribute("tabindex")),Xe=parseInt(B.getAttribute("tabindex"));return Te>Xe?1:Te<Xe?-1:0}),b=X(te().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(M=>"-1"!==M.getAttribute("tabindex"));return(E=>{const b=[];for(let M=0;M<E.length;M++)-1===b.indexOf(E[M])&&b.push(E[M]);return b})(E.concat(b)).filter(M=>vn(M))},er=()=>rt(document.body,q.shown)&&!rt(document.body,q["toast-shown"])&&!rt(document.body,q["no-backdrop"]),Rr=()=>te()&&rt(te(),q.toast),Hn={previousBodyPadding:null},un=(E,b)=>{if(E.textContent="",b){const B=(new DOMParser).parseFromString(b,"text/html");X(B.querySelector("head").childNodes).forEach(Te=>{E.appendChild(Te)}),X(B.querySelector("body").childNodes).forEach(Te=>{E.appendChild(Te)})}},rt=(E,b)=>{if(!b)return!1;const M=b.split(/\s+/);for(let B=0;B<M.length;B++)if(!E.classList.contains(M[B]))return!1;return!0},Wt=(E,b,M)=>{if(((E,b)=>{X(E.classList).forEach(M=>{!Object.values(q).includes(M)&&!Object.values(ae).includes(M)&&!Object.values(b.showClass).includes(M)&&E.classList.remove(M)})})(E,b),b.customClass&&b.customClass[M]){if("string"!=typeof b.customClass[M]&&!b.customClass[M].forEach)return P("Invalid type of customClass.".concat(M,'! Expected string or iterable object, got "').concat(typeof b.customClass[M],'"'));Ve(E,b.customClass[M])}},mn=(E,b)=>{if(!b)return null;switch(b){case"select":case"textarea":case"file":return E.querySelector(".".concat(q.popup," > .").concat(q[b]));case"checkbox":return E.querySelector(".".concat(q.popup," > .").concat(q.checkbox," input"));case"radio":return E.querySelector(".".concat(q.popup," > .").concat(q.radio," input:checked"))||E.querySelector(".".concat(q.popup," > .").concat(q.radio," input:first-child"));case"range":return E.querySelector(".".concat(q.popup," > .").concat(q.range," input"));default:return E.querySelector(".".concat(q.popup," > .").concat(q.input))}},ls=E=>{if(E.focus(),"file"!==E.type){const b=E.value;E.value="",E.value=b}},gt=(E,b,M)=>{!E||!b||("string"==typeof b&&(b=b.split(/\s+/).filter(Boolean)),b.forEach(B=>{Array.isArray(E)?E.forEach(Te=>{M?Te.classList.add(B):Te.classList.remove(B)}):M?E.classList.add(B):E.classList.remove(B)}))},Ve=(E,b)=>{gt(E,b,!0)},wt=(E,b)=>{gt(E,b,!1)},Ht=(E,b)=>{const M=X(E.childNodes);for(let B=0;B<M.length;B++)if(rt(M[B],b))return M[B]},Tn=(E,b,M)=>{M==="".concat(parseInt(M))&&(M=parseInt(M)),M||0===parseInt(M)?E.style[b]="number"==typeof M?"".concat(M,"px"):M:E.style.removeProperty(b)},ft=function(E){E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Ze=E=>{E.style.display="none"},ct=(E,b,M,B)=>{const Te=E.querySelector(b);Te&&(Te.style[M]=B)},yr=(E,b,M)=>{b?ft(E,M):Ze(E)},vn=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),io=E=>E.scrollHeight>E.clientHeight,vr=E=>{const b=window.getComputedStyle(E),M=parseFloat(b.getPropertyValue("animation-duration")||"0"),B=parseFloat(b.getPropertyValue("transition-duration")||"0");return M>0||B>0},_r=function(E){let b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const M=At();vn(M)&&(b&&(M.style.transition="none",M.style.width="100%"),setTimeout(()=>{M.style.transition="width ".concat(E/1e3,"s linear"),M.style.width="0%"},10))},z=()=>"undefined"==typeof window||"undefined"==typeof document,re={},Ye=E=>new Promise(b=>{if(!E)return b();const M=window.scrollX,B=window.scrollY;re.restoreFocusTimeout=setTimeout(()=>{re.previousActiveElement&&re.previousActiveElement.focus?(re.previousActiveElement.focus(),re.previousActiveElement=null):document.body&&document.body.focus(),b()},100),window.scrollTo(M,B)}),mt='\n <div aria-labelledby="'.concat(q.title,'" aria-describedby="').concat(q["html-container"],'" class="').concat(q.popup,'" tabindex="-1">\n   <button type="button" class="').concat(q.close,'"></button>\n   <ul class="').concat(q["progress-steps"],'"></ul>\n   <div class="').concat(q.icon,'"></div>\n   <img class="').concat(q.image,'" />\n   <h2 class="').concat(q.title,'" id="').concat(q.title,'"></h2>\n   <div class="').concat(q["html-container"],'" id="').concat(q["html-container"],'"></div>\n   <input class="').concat(q.input,'" />\n   <input type="file" class="').concat(q.file,'" />\n   <div class="').concat(q.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(q.select,'"></select>\n   <div class="').concat(q.radio,'"></div>\n   <label for="').concat(q.checkbox,'" class="').concat(q.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(q.label,'"></span>\n   </label>\n   <textarea class="').concat(q.textarea,'"></textarea>\n   <div class="').concat(q["validation-message"],'" id="').concat(q["validation-message"],'"></div>\n   <div class="').concat(q.actions,'">\n     <div class="').concat(q.loader,'"></div>\n     <button type="button" class="').concat(q.confirm,'"></button>\n     <button type="button" class="').concat(q.deny,'"></button>\n     <button type="button" class="').concat(q.cancel,'"></button>\n   </div>\n   <div class="').concat(q.footer,'"></div>\n   <div class="').concat(q["timer-progress-bar-container"],'">\n     <div class="').concat(q["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Gt=()=>{re.currentInstance.resetValidationMessage()},wr=E=>{const b=(()=>{const E=K();return!!E&&(E.remove(),wt([document.documentElement,document.body],[q["no-backdrop"],q["toast-shown"],q["has-column"]]),!0)})();if(z())return void ge("SweetAlert2 requires document to initialize");const M=document.createElement("div");M.className=q.container,b&&Ve(M,q["no-transition"]),un(M,mt);const B=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);B.appendChild(M),(E=>{const b=te();b.setAttribute("role",E.toast?"alert":"dialog"),b.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||b.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&Ve(K(),q.rtl)})(B),(()=>{const E=te(),b=Ht(E,q.input),M=Ht(E,q.file),B=E.querySelector(".".concat(q.range," input")),Te=E.querySelector(".".concat(q.range," output")),Xe=Ht(E,q.select),yn=E.querySelector(".".concat(q.checkbox," input")),Ft=Ht(E,q.textarea);b.oninput=Gt,M.onchange=Gt,Xe.onchange=Gt,yn.onchange=Gt,Ft.oninput=Gt,B.oninput=()=>{Gt(),Te.value=B.value},B.onchange=()=>{Gt(),B.nextSibling.value=B.value}})()},so=(E,b)=>{E instanceof HTMLElement?b.appendChild(E):"object"==typeof E?Fo(E,b):E&&un(b,E)},Fo=(E,b)=>{E.jquery?wa(b,E):un(b,E.toString())},wa=(E,b)=>{if(E.textContent="",0 in b)for(let M=0;M in b;M++)E.appendChild(b[M].cloneNode(!0));else E.appendChild(b.cloneNode(!0))},Li=(()=>{if(z())return!1;const E=document.createElement("div"),b={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const M in b)if(Object.prototype.hasOwnProperty.call(b,M)&&void 0!==E.style[M])return b[M];return!1})(),br=(E,b)=>{const M=mr(),B=Cn();b.showConfirmButton||b.showDenyButton||b.showCancelButton?ft(M):Ze(M),Wt(M,b,"actions"),function Vi(E,b,M){const B=et(),Te=an(),Xe=Lt();cr(B,"confirm",M),cr(Te,"deny",M),cr(Xe,"cancel",M),function Un(E,b,M,B){if(!B.buttonsStyling)return wt([E,b,M],q.styled);Ve([E,b,M],q.styled),B.confirmButtonColor&&(E.style.backgroundColor=B.confirmButtonColor,Ve(E,q["default-outline"])),B.denyButtonColor&&(b.style.backgroundColor=B.denyButtonColor,Ve(b,q["default-outline"])),B.cancelButtonColor&&(M.style.backgroundColor=B.cancelButtonColor,Ve(M,q["default-outline"]))}(B,Te,Xe,M),M.reverseButtons&&(M.toast?(E.insertBefore(Xe,B),E.insertBefore(Te,B)):(E.insertBefore(Xe,b),E.insertBefore(Te,b),E.insertBefore(B,b)))}(M,B,b),un(B,b.loaderHtml),Wt(B,b,"loader")};function cr(E,b,M){yr(E,M["show".concat(d(b),"Button")],"inline-block"),un(E,M["".concat(b,"ButtonText")]),E.setAttribute("aria-label",M["".concat(b,"ButtonAriaLabel")]),E.className=q[b],Wt(E,M,"".concat(b,"Button")),Ve(E,M["".concat(b,"ButtonClass")])}const cs=(E,b)=>{const M=K();!M||(function Uu(E,b){"string"==typeof b?E.style.background=b:b||Ve([document.documentElement,document.body],q["no-backdrop"])}(M,b.backdrop),function As(E,b){b in q?Ve(E,q[b]):(P('The "position" parameter is not valid, defaulting to "center"'),Ve(E,q.center))}(M,b.position),function Lo(E,b){if(b&&"string"==typeof b){const M="grow-".concat(b);M in q&&Ve(E,q[M])}}(M,b.grow),Wt(M,b,"container"))};var dt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const oo=["input","file","range","select","radio","checkbox","textarea"],Ue=E=>{if(!Ct[E.input])return ge('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(E.input,'"'));const b=Ci(E.input),M=Ct[E.input](b,E);ft(M),setTimeout(()=>{ls(M)})},sn=(E,b)=>{const M=mn(te(),E);if(M){(E=>{for(let b=0;b<E.attributes.length;b++){const M=E.attributes[b].name;["type","value","style"].includes(M)||E.removeAttribute(M)}})(M);for(const B in b)M.setAttribute(B,b[B])}},Er=E=>{const b=Ci(E.input);E.customClass&&Ve(b,E.customClass.input)},li=(E,b)=>{(!E.placeholder||b.inputPlaceholder)&&(E.placeholder=b.inputPlaceholder)},cn=(E,b,M)=>{if(M.inputLabel){E.id=q.input;const B=document.createElement("label"),Te=q["input-label"];B.setAttribute("for",E.id),B.className=Te,Ve(B,M.customClass.inputLabel),B.innerText=M.inputLabel,b.insertAdjacentElement("beforebegin",B)}},Ci=E=>{const b=q[E]?q[E]:q.input;return Ht(te(),b)},Ct={};Ct.text=Ct.email=Ct.password=Ct.number=Ct.tel=Ct.url=(E,b)=>("string"==typeof b.inputValue||"number"==typeof b.inputValue?E.value=b.inputValue:$(b.inputValue)||P('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof b.inputValue,'"')),cn(E,E,b),li(E,b),E.type=b.input,E),Ct.file=(E,b)=>(cn(E,E,b),li(E,b),E),Ct.range=(E,b)=>{const M=E.querySelector("input"),B=E.querySelector("output");return M.value=b.inputValue,M.type=b.input,B.value=b.inputValue,cn(M,E,b),E},Ct.select=(E,b)=>{if(E.textContent="",b.inputPlaceholder){const M=document.createElement("option");un(M,b.inputPlaceholder),M.value="",M.disabled=!0,M.selected=!0,E.appendChild(M)}return cn(E,E,b),E},Ct.radio=E=>(E.textContent="",E),Ct.checkbox=(E,b)=>{const M=mn(te(),"checkbox");M.value="1",M.id=q.checkbox,M.checked=Boolean(b.inputValue);const B=E.querySelector("span");return un(B,b.inputPlaceholder),E},Ct.textarea=(E,b)=>{E.value=b.inputValue,li(E,b),cn(E,E,b);return setTimeout(()=>{if("MutationObserver"in window){const B=parseInt(window.getComputedStyle(te()).width);new MutationObserver(()=>{const Xe=E.offsetWidth+(B=>parseInt(window.getComputedStyle(B).marginLeft)+parseInt(window.getComputedStyle(B).marginRight))(E);te().style.width=Xe>B?"".concat(Xe,"px"):null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const Ss=(E,b)=>{const M=vt();Wt(M,b,"htmlContainer"),b.html?(so(b.html,M),ft(M,"block")):b.text?(M.textContent=b.text,ft(M,"block")):Ze(M),((E,b)=>{const M=te(),B=dt.innerParams.get(E),Te=!B||b.input!==B.input;oo.forEach(Xe=>{const yn=q[Xe],Ft=Ht(M,yn);sn(Xe,b.inputAttributes),Ft.className=yn,Te&&Ze(Ft)}),b.input&&(Te&&Ue(b),Er(b))})(E,b)},Ui=(E,b)=>{for(const M in ae)b.icon!==M&&wt(E,ae[M]);Ve(E,ae[b.icon]),xs(E,b),uo(),Wt(E,b,"icon")},uo=()=>{const E=te(),b=window.getComputedStyle(E).getPropertyValue("background-color"),M=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let B=0;B<M.length;B++)M[B].style.backgroundColor=b},Bi=(E,b)=>{E.textContent="",un(E,b.iconHtml?dr(b.iconHtml):"success"===b.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===b.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':dr({question:"?",warning:"!",info:"i"}[b.icon]))},xs=(E,b)=>{if(b.iconColor){E.style.color=b.iconColor,E.style.borderColor=b.iconColor;for(const M of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ct(E,M,"backgroundColor",b.iconColor);ct(E,".swal2-success-ring","borderColor",b.iconColor)}},dr=E=>'<div class="'.concat(q["icon-content"],'">').concat(E,"</div>"),ci=(E,b)=>{const M=En();if(!b.progressSteps||0===b.progressSteps.length)return Ze(M);ft(M),M.textContent="",b.currentProgressStep>=b.progressSteps.length&&P("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),b.progressSteps.forEach((B,Te)=>{const Xe=(E=>{const b=document.createElement("li");return Ve(b,q["progress-step"]),un(b,E),b})(B);if(M.appendChild(Xe),Te===b.currentProgressStep&&Ve(Xe,q["active-progress-step"]),Te!==b.progressSteps.length-1){const yn=(E=>{const b=document.createElement("li");return Ve(b,q["progress-step-line"]),E.progressStepsDistance&&(b.style.width=E.progressStepsDistance),b})(b);M.appendChild(yn)}})},ba=(E,b)=>{E.className="".concat(q.popup," ").concat(vn(E)?b.showClass.popup:""),b.toast?(Ve([document.documentElement,document.body],q["toast-shown"]),Ve(E,q.toast)):Ve(E,q.modal),Wt(E,b,"popup"),"string"==typeof b.customClass&&Ve(E,b.customClass),b.icon&&Ve(E,q["icon-".concat(b.icon)])},ji=(E,b)=>{((E,b)=>{const M=K(),B=te();b.toast?(Tn(M,"width",b.width),B.style.width="100%",B.insertBefore(Cn(),Pe())):Tn(B,"width",b.width),Tn(B,"padding",b.padding),b.color&&(B.style.color=b.color),b.background&&(B.style.background=b.background),Ze(ot()),ba(B,b)})(0,b),cs(0,b),ci(0,b),((E,b)=>{const M=dt.innerParams.get(E),B=Pe();M&&b.icon===M.icon?(Bi(B,b),Ui(B,b)):b.icon||b.iconHtml?b.icon&&-1===Object.keys(ae).indexOf(b.icon)?(ge('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(b.icon,'"')),Ze(B)):(ft(B),Bi(B,b),Ui(B,b),Ve(B,b.showClass.icon)):Ze(B)})(E,b),((E,b)=>{const M=$t();if(!b.imageUrl)return Ze(M);ft(M,""),M.setAttribute("src",b.imageUrl),M.setAttribute("alt",b.imageAlt),Tn(M,"width",b.imageWidth),Tn(M,"height",b.imageHeight),M.className=q.image,Wt(M,b,"image")})(0,b),((E,b)=>{const M=ye();yr(M,b.title||b.titleText,"block"),b.title&&so(b.title,M),b.titleText&&(M.innerText=b.titleText),Wt(M,b,"title")})(0,b),((E,b)=>{const M=ui();un(M,b.closeButtonHtml),Wt(M,b,"closeButton"),yr(M,b.showCloseButton),M.setAttribute("aria-label",b.closeButtonAriaLabel)})(0,b),Ss(E,b),br(0,b),((E,b)=>{const M=Zt();yr(M,b.footer),b.footer&&so(b.footer,M),Wt(M,b,"footer")})(0,b),"function"==typeof b.didRender&&b.didRender(te())},Gn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Wa=()=>{X(document.body.children).forEach(b=>{b.hasAttribute("data-previous-aria-hidden")?(b.setAttribute("aria-hidden",b.getAttribute("data-previous-aria-hidden")),b.removeAttribute("data-previous-aria-hidden")):b.removeAttribute("aria-hidden")})},Vo=["swal-title","swal-html","swal-footer"],$u=E=>{const b={};return X(E.querySelectorAll("swal-param")).forEach(M=>{Kr(M,["name","value"]);const B=M.getAttribute("name"),Te=M.getAttribute("value");"boolean"==typeof ee[B]&&"false"===Te&&(b[B]=!1),"object"==typeof ee[B]&&(b[B]=JSON.parse(Te))}),b},cd=E=>{const b={};return X(E.querySelectorAll("swal-button")).forEach(M=>{Kr(M,["type","color","aria-label"]);const B=M.getAttribute("type");b["".concat(B,"ButtonText")]=M.innerHTML,b["show".concat(d(B),"Button")]=!0,M.hasAttribute("color")&&(b["".concat(B,"ButtonColor")]=M.getAttribute("color")),M.hasAttribute("aria-label")&&(b["".concat(B,"ButtonAriaLabel")]=M.getAttribute("aria-label"))}),b},$i=E=>{const b={},M=E.querySelector("swal-image");return M&&(Kr(M,["src","width","height","alt"]),M.hasAttribute("src")&&(b.imageUrl=M.getAttribute("src")),M.hasAttribute("width")&&(b.imageWidth=M.getAttribute("width")),M.hasAttribute("height")&&(b.imageHeight=M.getAttribute("height")),M.hasAttribute("alt")&&(b.imageAlt=M.getAttribute("alt"))),b},dd=E=>{const b={},M=E.querySelector("swal-icon");return M&&(Kr(M,["type","color"]),M.hasAttribute("type")&&(b.icon=M.getAttribute("type")),M.hasAttribute("color")&&(b.iconColor=M.getAttribute("color")),b.iconHtml=M.innerHTML),b},Hu=E=>{const b={},M=E.querySelector("swal-input");M&&(Kr(M,["type","label","placeholder","value"]),b.input=M.getAttribute("type")||"text",M.hasAttribute("label")&&(b.inputLabel=M.getAttribute("label")),M.hasAttribute("placeholder")&&(b.inputPlaceholder=M.getAttribute("placeholder")),M.hasAttribute("value")&&(b.inputValue=M.getAttribute("value")));const B=E.querySelectorAll("swal-input-option");return B.length&&(b.inputOptions={},X(B).forEach(Te=>{Kr(Te,["value"]);const Xe=Te.getAttribute("value");b.inputOptions[Xe]=Te.innerHTML})),b},hd=(E,b)=>{const M={};for(const B in b){const Te=b[B],Xe=E.querySelector(Te);Xe&&(Kr(Xe,[]),M[Te.replace(/^swal-/,"")]=Xe.innerHTML.trim())}return M},Uo=E=>{const b=Vo.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);X(E.children).forEach(M=>{const B=M.tagName.toLowerCase();-1===b.indexOf(B)&&P("Unrecognized element <".concat(B,">"))})},Kr=(E,b)=>{X(E.attributes).forEach(M=>{-1===b.indexOf(M.name)&&P(['Unrecognized attribute "'.concat(M.name,'" on <').concat(E.tagName.toLowerCase(),">."),"".concat(b.length?"Allowed attributes are: ".concat(b.join(", ")):"To set the value, use HTML within the element.")])})};var Ka={email:(E,b)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(b||"Invalid email address"),url:(E,b)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(b||"Invalid URL")};function Gu(E){(function fd(E){E.inputValidator||Object.keys(Ka).forEach(b=>{E.input===b&&(E.inputValidator=Ka[b])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&P("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function pd(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(P('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),wr(E)}class co{constructor(b,M){this.callback=b,this.remaining=M,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(b){const M=this.running;return M&&this.stop(),this.remaining+=b,M&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const gd=()=>{null===Hn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Hn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Hn.previousBodyPadding+(()=>{const E=document.createElement("div");E.className=q["scrollbar-measure"],document.body.appendChild(E);const b=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),b})(),"px"))},zh=()=>{const E=navigator.userAgent,b=!!E.match(/iPad/i)||!!E.match(/iPhone/i),M=!!E.match(/WebKit/i);b&&M&&!E.match(/CriOS/i)&&te().scrollHeight>window.innerHeight-44&&(K().style.paddingBottom="".concat(44,"px"))},Bo=()=>{const E=K();let b;E.ontouchstart=M=>{b=ds(M)},E.ontouchmove=M=>{b&&(M.preventDefault(),M.stopPropagation())}},ds=E=>{const b=E.target,M=K();return!(Yr(E)||hs(E)||b!==M&&(io(M)||"INPUT"===b.tagName||"TEXTAREA"===b.tagName||io(vt())&&vt().contains(b)))},Yr=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,hs=E=>E.touches&&E.touches.length>1,qu=E=>{const b=K(),M=te();"function"==typeof E.willOpen&&E.willOpen(M);const Te=window.getComputedStyle(document.body).overflowY;Gi(b,M,E),setTimeout(()=>{Os(b,M)},10),er()&&(zu(b,E.scrollbarPadding,Te),X(document.body.children).forEach(b=>{b===K()||b.contains(K())||(b.hasAttribute("aria-hidden")&&b.setAttribute("data-previous-aria-hidden",b.getAttribute("aria-hidden")),b.setAttribute("aria-hidden","true"))})),!Rr()&&!re.previousActiveElement&&(re.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(M)),wt(b,q["no-transition"])},zl=E=>{const b=te();if(E.target!==b)return;const M=K();b.removeEventListener(Li,zl),M.style.overflowY="auto"},Os=(E,b)=>{Li&&vr(b)?(E.style.overflowY="hidden",b.addEventListener(Li,zl)):E.style.overflowY="auto"},zu=(E,b,M)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!rt(document.body,q.iosfix)){const b=document.body.scrollTop;document.body.style.top="".concat(-1*b,"px"),Ve(document.body,q.iosfix),Bo(),zh()}})(),b&&"hidden"!==M&&gd(),setTimeout(()=>{E.scrollTop=0})},Gi=(E,b,M)=>{Ve(E,M.showClass.backdrop),b.style.setProperty("opacity","0","important"),ft(b,"grid"),setTimeout(()=>{Ve(b,M.showClass.popup),b.style.removeProperty("opacity")},10),Ve([document.documentElement,document.body],q.shown),M.heightAuto&&M.backdrop&&!M.toast&&Ve([document.documentElement,document.body],q["height-auto"])},qn=E=>{let b=te();b||new hn,b=te();const M=Cn();Rr()?Ze(Pe()):Zu(b,E),ft(M),b.setAttribute("data-loading",!0),b.setAttribute("aria-busy",!0),b.focus()},Zu=(E,b)=>{const M=mr(),B=Cn();!b&&vn(et())&&(b=et()),ft(M),b&&(Ze(b),B.setAttribute("data-button-to-replace",b.className)),B.parentNode.insertBefore(B,b),Ve([E,M],q.loading)},Wu=E=>E.checked?1:0,Ku=E=>E.checked?E.value:null,Ea=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,Ca=(E,b)=>{const M=te(),B=Te=>Ya[b.input](M,di(Te),b);pe(b.inputOptions)||$(b.inputOptions)?(qn(et()),H(b.inputOptions).then(Te=>{E.hideLoading(),B(Te)})):"object"==typeof b.inputOptions?B(b.inputOptions):ge("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof b.inputOptions))},Ia=(E,b)=>{const M=E.getInput();Ze(M),H(b.inputValue).then(B=>{M.value="number"===b.input?parseFloat(B)||0:"".concat(B),ft(M),M.focus(),E.hideLoading()}).catch(B=>{ge("Error in inputValue promise: ".concat(B)),M.value="",ft(M),M.focus(),E.hideLoading()})},Ya={select:(E,b,M)=>{const B=Ht(E,q.select),Te=(Xe,yn,Ft)=>{const Yn=document.createElement("option");Yn.value=Ft,un(Yn,yn),Yn.selected=Da(Ft,M.inputValue),Xe.appendChild(Yn)};b.forEach(Xe=>{const yn=Xe[0],Ft=Xe[1];if(Array.isArray(Ft)){const Yn=document.createElement("optgroup");Yn.label=yn,Yn.disabled=!1,B.appendChild(Yn),Ft.forEach(Tr=>Te(Yn,Tr[1],Tr[0]))}else Te(B,Ft,yn)}),B.focus()},radio:(E,b,M)=>{const B=Ht(E,q.radio);b.forEach(Xe=>{const yn=Xe[0],Ft=Xe[1],Yn=document.createElement("input"),Tr=document.createElement("label");Yn.type="radio",Yn.name=q.radio,Yn.value=yn,Da(yn,M.inputValue)&&(Yn.checked=!0);const Ls=document.createElement("span");un(Ls,Ft),Ls.className=q.label,Tr.appendChild(Yn),Tr.appendChild(Ls),B.appendChild(Tr)});const Te=B.querySelectorAll("input");Te.length&&Te[0].focus()}},di=E=>{const b=[];return"undefined"!=typeof Map&&E instanceof Map?E.forEach((M,B)=>{let Te=M;"object"==typeof Te&&(Te=di(Te)),b.push([B,Te])}):Object.keys(E).forEach(M=>{let B=E[M];"object"==typeof B&&(B=di(B)),b.push([M,B])}),b},Da=(E,b)=>b&&b.toString()===E.toString();function tn(){const E=dt.innerParams.get(this);if(!E)return;const b=dt.domCache.get(this);Ze(b.loader),Rr()?E.icon&&ft(Pe()):jo(b),wt([b.popup,b.actions],q.loading),b.popup.removeAttribute("aria-busy"),b.popup.removeAttribute("data-loading"),b.confirmButton.disabled=!1,b.denyButton.disabled=!1,b.cancelButton.disabled=!1}const jo=E=>{const b=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));b.length?ft(b[0],"inline-block"):!vn(et())&&!vn(an())&&!vn(Lt())&&Ze(E.actions)};var Ut={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function $o(E,b,M,B){Rr()?Aa(E,B):(Ye(M).then(()=>Aa(E,B)),re.keydownTarget.removeEventListener("keydown",re.keydownHandler,{capture:re.keydownListenerCapture}),re.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(b.setAttribute("style","display:none !important"),b.removeAttribute("class"),b.innerHTML=""):b.remove(),er()&&(null!==Hn.previousBodyPadding&&(document.body.style.paddingRight="".concat(Hn.previousBodyPadding,"px"),Hn.previousBodyPadding=null),(()=>{if(rt(document.body,q.iosfix)){const E=parseInt(document.body.style.top,10);wt(document.body,q.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}})(),Wa()),function Ho(){wt([document.documentElement,document.body],[q.shown,q["height-auto"],q["no-backdrop"],q["toast-shown"]])}()}function Ii(E){E=Zn(E);const b=Ut.swalPromiseResolve.get(this),M=Ta(this);this.isAwaitingPromise()?E.isDismissed||(Lr(this),b(E)):M&&b(E)}const Ta=E=>{const b=te();if(!b)return!1;const M=dt.innerParams.get(E);if(!M||rt(b,M.hideClass.popup))return!1;wt(b,M.showClass.popup),Ve(b,M.hideClass.popup);const B=K();return wt(B,M.showClass.backdrop),Ve(B,M.hideClass.backdrop),fo(E,b,M),!0};const Lr=E=>{E.isAwaitingPromise()&&(dt.awaitingPromise.delete(E),dt.innerParams.get(E)||E._destroy())},Zn=E=>void 0===E?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),fo=(E,b,M)=>{const B=K(),Te=Li&&vr(b);"function"==typeof M.willClose&&M.willClose(b),Te?Di(E,b,B,M.returnFocus,M.didClose):$o(E,B,M.returnFocus,M.didClose)},Di=(E,b,M,B,Te)=>{re.swalCloseEventFinishedCallback=$o.bind(null,E,M,B,Te),b.addEventListener(Li,function(Xe){Xe.target===b&&(re.swalCloseEventFinishedCallback(),delete re.swalCloseEventFinishedCallback)})},Aa=(E,b)=>{setTimeout(()=>{"function"==typeof b&&b.bind(E.params)(),E._destroy()})};function Cr(E,b,M){const B=dt.domCache.get(E);b.forEach(Te=>{B[Te].disabled=M})}function qi(E,b){if(!E)return!1;if("radio"===E.type){const B=E.parentNode.parentNode.querySelectorAll("input");for(let Te=0;Te<B.length;Te++)B[Te].disabled=b}else E.disabled=b}const Zl=E=>{const b={};return Object.keys(E).forEach(M=>{Q(M)?b[M]=E[M]:P('Invalid parameter to update: "'.concat(M,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),b};const Nt=E=>{po(E),delete E.params,delete re.keydownHandler,delete re.keydownTarget,delete re.currentInstance},po=E=>{E.isAwaitingPromise()?(dn(dt,E),dt.awaitingPromise.set(E,!0)):(dn(Ut,E),dn(dt,E))},dn=(E,b)=>{for(const M in E)E[M].delete(b)};var zi=Object.freeze({hideLoading:tn,disableLoading:tn,getInput:function fs(E){const b=dt.innerParams.get(E||this),M=dt.domCache.get(E||this);return M?mn(M.popup,b.input):null},close:Ii,isAwaitingPromise:function zn(){return!!dt.awaitingPromise.get(this)},rejectPromise:function wn(E){const b=Ut.swalPromiseReject.get(this);Lr(this),b&&b(E)},handleAwaitingPromise:Lr,closePopup:Ii,closeModal:Ii,closeToast:Ii,enableButtons:function ps(){Cr(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function pt(){Cr(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Go(){return qi(this.getInput(),!1)},disableInput:function qo(){return qi(this.getInput(),!0)},showValidationMessage:function Yu(E){const b=dt.domCache.get(this),M=dt.innerParams.get(this);un(b.validationMessage,E),b.validationMessage.className=q["validation-message"],M.customClass&&M.customClass.validationMessage&&Ve(b.validationMessage,M.customClass.validationMessage),ft(b.validationMessage);const B=this.getInput();B&&(B.setAttribute("aria-invalid",!0),B.setAttribute("aria-describedby",q["validation-message"]),ls(B),Ve(B,q.inputerror))},resetValidationMessage:function zo(){const E=dt.domCache.get(this);E.validationMessage&&Ze(E.validationMessage);const b=this.getInput();b&&(b.removeAttribute("aria-invalid"),b.removeAttribute("aria-describedby"),wt(b,q.inputerror))},getProgressSteps:function Qa(){return dt.domCache.get(this).progressSteps},update:function Zo(E){const b=te(),M=dt.innerParams.get(this);if(!b||rt(b,M.hideClass.popup))return P("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const B=Zl(E),Te=Object.assign({},M,B);ji(this,Te),dt.innerParams.set(this,Te),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})},_destroy:function Me(){const E=dt.domCache.get(this),b=dt.innerParams.get(this);b?(E.popup&&re.swalCloseEventFinishedCallback&&(re.swalCloseEventFinishedCallback(),delete re.swalCloseEventFinishedCallback),re.deferDisposalTimer&&(clearTimeout(re.deferDisposalTimer),delete re.deferDisposalTimer),"function"==typeof b.didDestroy&&b.didDestroy(),Nt(this)):po(this)}});const Sa=(E,b)=>{const M=dt.innerParams.get(E);if(!M.input)return ge('The "input" parameter is needed to be set when using returnInputValueOn'.concat(d(b)));const B=((E,b)=>{const M=E.getInput();if(!M)return null;switch(b.input){case"checkbox":return Wu(M);case"radio":return Ku(M);case"file":return Ea(M);default:return b.inputAutoTrim?M.value.trim():M.value}})(E,M);M.inputValidator?Qu(E,B,b):E.getInput().checkValidity()?"deny"===b?xa(E,B):In(E,B):(E.enableButtons(),E.showValidationMessage(M.validationMessage))},Qu=(E,b,M)=>{const B=dt.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>H(B.inputValidator(b,B.validationMessage))).then(Xe=>{E.enableButtons(),E.enableInput(),Xe?E.showValidationMessage(Xe):"deny"===M?xa(E,b):In(E,b)})},xa=(E,b)=>{const M=dt.innerParams.get(E||void 0);M.showLoaderOnDeny&&qn(an()),M.preDeny?(dt.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>H(M.preDeny(b,M.validationMessage))).then(Te=>{!1===Te?(E.hideLoading(),Lr(E)):E.closePopup({isDenied:!0,value:void 0===Te?b:Te})}).catch(Te=>Rs(E||void 0,Te))):E.closePopup({isDenied:!0,value:b})},go=(E,b)=>{E.closePopup({isConfirmed:!0,value:b})},Rs=(E,b)=>{E.rejectPromise(b)},In=(E,b)=>{const M=dt.innerParams.get(E||void 0);M.showLoaderOnConfirm&&qn(),M.preConfirm?(E.resetValidationMessage(),dt.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>H(M.preConfirm(b,M.validationMessage))).then(Te=>{vn(ot())||!1===Te?(E.hideLoading(),Lr(E)):go(E,void 0===Te?b:Te)}).catch(Te=>Rs(E||void 0,Te))):go(E,b)},Xa=(E,b,M)=>{b.popup.onclick=()=>{const B=dt.innerParams.get(E);B&&(Ti(B)||B.timer||B.input)||M(Gn.close)}},Ti=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let Qr=!1;const Ko=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(b){E.container.onmouseup=void 0,b.target===E.container&&(Qr=!0)}}},Ju=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(b){E.popup.onmouseup=void 0,(b.target===E.popup||E.popup.contains(b.target))&&(Qr=!0)}}},Yo=(E,b,M)=>{b.container.onclick=B=>{const Te=dt.innerParams.get(E);Qr?Qr=!1:B.target===b.container&&fe(Te.allowOutsideClick)&&M(Gn.backdrop)}},gs=()=>et()&&et().click(),el=(E,b,M)=>{const B=Ei();if(B.length)return(b+=M)===B.length?b=0:-1===b&&(b=B.length-1),B[b].focus();te().focus()},Jo=["ArrowRight","ArrowDown"],Ns=["ArrowLeft","ArrowUp"],nu=(E,b,M)=>{const B=dt.innerParams.get(E);!B||b.isComposing||229===b.keyCode||(B.stopKeydownPropagation&&b.stopPropagation(),"Enter"===b.key?Ps(E,b,B):"Tab"===b.key?tl(b,B):[...Jo,...Ns].includes(b.key)?Wl(b.key):"Escape"===b.key&&mo(b,B,M))},Ps=(E,b,M)=>{if(fe(M.allowEnterKey)&&b.target&&E.getInput()&&b.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(M.input))return;gs(),b.preventDefault()}},tl=(E,b)=>{const M=E.target,B=Ei();let Te=-1;for(let Xe=0;Xe<B.length;Xe++)if(M===B[Xe]){Te=Xe;break}el(0,Te,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},Wl=E=>{if(![et(),an(),Lt()].includes(document.activeElement))return;const Te=Jo.includes(E)?"nextElementSibling":"previousElementSibling";let Xe=document.activeElement;for(let yn=0;yn<mr().children.length;yn++){if(Xe=Xe[Te],!Xe)return;if(vn(Xe)&&Xe instanceof HTMLButtonElement)break}Xe instanceof HTMLButtonElement&&Xe.focus()},mo=(E,b,M)=>{fe(b.allowEscapeKey)&&(E.preventDefault(),M(Gn.esc))},nl=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const rl=()=>{if(re.timeout)return(()=>{const E=At(),b=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const B=b/parseInt(window.getComputedStyle(E).width)*100;E.style.removeProperty("transition"),E.style.width="".concat(B,"%")})(),re.timeout.stop()},Zh=()=>{if(re.timeout){const E=re.timeout.start();return _r(E),E}};let Si=!1;const Fs={};const Ma=E=>{for(let b=E.target;b&&b!==document;b=b.parentNode)for(const M in Fs){const B=b.getAttribute(M);if(B)return void Fs[M].fire({template:B})}};var Kn=Object.freeze({isValidParameter:He,isUpdatableParameter:Q,isDeprecatedParameter:he,argsToParams:E=>{const b={};return"object"!=typeof E[0]||nl(E[0])?["title","html","icon"].forEach((M,B)=>{const Te=E[B];"string"==typeof Te||nl(Te)?b[M]=Te:void 0!==Te&&ge("Unexpected type of ".concat(M,'! Expected "string" or "Element", got ').concat(typeof Te))}):Object.assign(b,E[0]),b},isVisible:()=>vn(te()),clickConfirm:gs,clickDeny:()=>an()&&an().click(),clickCancel:()=>Lt()&&Lt().click(),getContainer:K,getPopup:te,getTitle:ye,getHtmlContainer:vt,getImage:$t,getIcon:Pe,getInputLabel:()=>me(q["input-label"]),getCloseButton:ui,getActions:mr,getConfirmButton:et,getDenyButton:an,getCancelButton:Lt,getLoader:Cn,getFooter:Zt,getTimerProgressBar:At,getFocusableElements:Ei,getValidationMessage:ot,isLoading:()=>te().hasAttribute("data-loading"),fire:function Zi(){const E=this;for(var b=arguments.length,M=new Array(b),B=0;B<b;B++)M[B]=arguments[B];return new E(...M)},mixin:function bn(E){return class b extends(this){_main(B,Te){return super._main(B,Object.assign({},E,Te))}}},showLoading:qn,enableLoading:qn,getTimerLeft:()=>re.timeout&&re.timeout.getTimerLeft(),stopTimer:rl,resumeTimer:Zh,toggleTimer:()=>{const E=re.timeout;return E&&(E.running?rl():Zh())},increaseTimer:E=>{if(re.timeout){const b=re.timeout.increase(E);return _r(b,!0),b}},isTimerRunning:()=>re.timeout&&re.timeout.isRunning(),bindClickHandler:function iu(){Fs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Si||(document.body.addEventListener("click",Ma),Si=!0)}});let su;class Dr{constructor(){if("undefined"==typeof window)return;su=this;for(var b=arguments.length,M=new Array(b),B=0;B<b;B++)M[B]=arguments[B];const Te=Object.freeze(this.constructor.argsToParams(M));Object.defineProperties(this,{params:{value:Te,writable:!1,enumerable:!0,configurable:!0}});const Xe=this._main(this.params);dt.promise.set(this,Xe)}_main(b){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!E.backdrop&&E.allowOutsideClick&&P('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const b in E)Re(b),E.toast&&Le(b),de(b)})(Object.assign({},M,b)),re.currentInstance&&(re.currentInstance._destroy(),er()&&Wa()),re.currentInstance=this;const B=md(b,M);Gu(B),Object.freeze(B),re.timeout&&(re.timeout.stop(),delete re.timeout),clearTimeout(re.restoreFocusTimeout);const Te=Xo(this);return ji(this,B),dt.innerParams.set(this,B),yo(this,Te,B)}then(b){return dt.promise.get(this).then(b)}finally(b){return dt.promise.get(this).finally(b)}}const yo=(E,b,M)=>new Promise((B,Te)=>{const Xe=yn=>{E.closePopup({isDismissed:!0,dismiss:yn})};Ut.swalPromiseResolve.set(E,B),Ut.swalPromiseReject.set(E,Te),b.confirmButton.onclick=()=>(E=>{const b=dt.innerParams.get(E);E.disableButtons(),b.input?Sa(E,"confirm"):In(E,!0)})(E),b.denyButton.onclick=()=>(E=>{const b=dt.innerParams.get(E);E.disableButtons(),b.returnInputValueOnDeny?Sa(E,"deny"):xa(E,!1)})(E),b.cancelButton.onclick=()=>((E,b)=>{E.disableButtons(),b(Gn.cancel)})(E,Xe),b.closeButton.onclick=()=>Xe(Gn.close),((E,b,M)=>{dt.innerParams.get(E).toast?Xa(E,b,M):(Ko(b),Ju(b),Yo(E,b,M))})(E,b,Xe),((E,b,M,B)=>{b.keydownTarget&&b.keydownHandlerAdded&&(b.keydownTarget.removeEventListener("keydown",b.keydownHandler,{capture:b.keydownListenerCapture}),b.keydownHandlerAdded=!1),M.toast||(b.keydownHandler=Te=>nu(E,Te,B),b.keydownTarget=M.keydownListenerCapture?window:te(),b.keydownListenerCapture=M.keydownListenerCapture,b.keydownTarget.addEventListener("keydown",b.keydownHandler,{capture:b.keydownListenerCapture}),b.keydownHandlerAdded=!0)})(E,re,M,Xe),((E,b)=>{"select"===b.input||"radio"===b.input?Ca(E,b):["text","email","number","tel","textarea"].includes(b.input)&&(pe(b.inputValue)||$(b.inputValue))&&(qn(et()),Ia(E,b))})(E,M),qu(M),ea(re,M,Xe),ka(b,M),setTimeout(()=>{b.container.scrollTop=0})}),md=(E,b)=>{const M=(E=>{const b="string"==typeof E.template?document.querySelector(E.template):E.template;if(!b)return{};const M=b.content;return Uo(M),Object.assign($u(M),cd(M),$i(M),dd(M),Hu(M),hd(M,Vo))})(E),B=Object.assign({},ee,b,M,E);return B.showClass=Object.assign({},ee.showClass,B.showClass),B.hideClass=Object.assign({},ee.hideClass,B.hideClass),B},Xo=E=>{const b={popup:te(),container:K(),actions:mr(),confirmButton:et(),denyButton:an(),cancelButton:Lt(),loader:Cn(),closeButton:ui(),validationMessage:ot(),progressSteps:En()};return dt.domCache.set(E,b),b},ea=(E,b,M)=>{const B=At();Ze(B),b.timer&&(E.timeout=new co(()=>{M("timer"),delete E.timeout},b.timer),b.timerProgressBar&&(ft(B),Wt(B,b,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&_r(b.timer)})))},ka=(E,b)=>{if(!b.toast){if(!fe(b.allowEnterKey))return yd();Kl(E,b)||el(0,-1,1)}},Kl=(E,b)=>b.focusDeny&&vn(E.denyButton)?(E.denyButton.focus(),!0):b.focusCancel&&vn(E.cancelButton)?(E.cancelButton.focus(),!0):!(!b.focusConfirm||!vn(E.confirmButton)||(E.confirmButton.focus(),0)),yd=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(Dr.prototype,zi),Object.assign(Dr,Kn),Object.keys(zi).forEach(E=>{Dr[E]=function(){if(su)return su[E](...arguments)}}),Dr.DismissReason=Gn,Dr.version="11.4.4";const hn=Dr;return hn.default=hn,hn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(xe,L){var d=xe.createElement("style");if(xe.getElementsByTagName("head")[0].appendChild(d),d.styleSheet)d.styleSheet.disabled||(d.styleSheet.cssText=L);else try{d.innerHTML=L}catch(X){d.innerText=L}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(ut,xe,L)=>{"use strict";function ge(K,le){var me={};for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&le.indexOf(te)<0&&(me[te]=K[te]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(te=Object.getOwnPropertySymbols(K);Pe<te.length;Pe++)le.indexOf(te[Pe])<0&&Object.prototype.propertyIsEnumerable.call(K,te[Pe])&&(me[te[Pe]]=K[te[Pe]])}return me}function fe(K,le,me,te){return new(me||(me=Promise))(function(ye,vt){function $t(et){try{ot(te.next(et))}catch(an){vt(an)}}function En(et){try{ot(te.throw(et))}catch(an){vt(an)}}function ot(et){et.done?ye(et.value):function Pe(ye){return ye instanceof me?ye:new me(function(vt){vt(ye)})}(et.value).then($t,En)}ot((te=te.apply(K,le||[])).next())})}function Q(K){return this instanceof Q?(this.v=K,this):new Q(K)}function he(K,le,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,te=me.apply(K,le||[]),ye=[];return Pe={},vt("next"),vt("throw"),vt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function vt(Xt){te[Xt]&&(Pe[Xt]=function(Cn){return new Promise(function(Lt,mr){ye.push([Xt,Cn,Lt,mr])>1||$t(Xt,Cn)})})}function $t(Xt,Cn){try{!function En(Xt){Xt.value instanceof Q?Promise.resolve(Xt.value.v).then(ot,et):an(ye[0][2],Xt)}(te[Xt](Cn))}catch(Lt){an(ye[0][3],Lt)}}function ot(Xt){$t("next",Xt)}function et(Xt){$t("throw",Xt)}function an(Xt,Cn){Xt(Cn),ye.shift(),ye.length&&$t(ye[0][0],ye[0][1])}}function Le(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,le=K[Symbol.asyncIterator];return le?le.call(K):(K=function ee(K){var le="function"==typeof Symbol&&Symbol.iterator,me=le&&K[le],te=0;if(me)return me.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&te>=K.length&&(K=void 0),{value:K&&K[te++],done:!K}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),me={},te("next"),te("throw"),te("return"),me[Symbol.asyncIterator]=function(){return this},me);function te(ye){me[ye]=K[ye]&&function(vt){return new Promise(function($t,En){!function Pe(ye,vt,$t,En){Promise.resolve(En).then(function(ot){ye({value:ot,done:$t})},vt)}($t,En,(vt=K[ye](vt)).done,vt.value)})}}}L.d(xe,{_T:()=>ge,mG:()=>fe,qq:()=>Q,FC:()=>he,KL:()=>Le})},5e3:(ut,xe,L)=>{"use strict";L.d(xe,{deG:()=>eg,tb:()=>vE,AFp:()=>Um,ip1:()=>Vm,CZH:()=>Np,hGG:()=>zE,z2F:()=>ow,sBO:()=>lw,Sil:()=>aD,_Vd:()=>pm,EJc:()=>bE,SBq:()=>td,qLn:()=>jr,vpe:()=>os,tBr:()=>Oi,XFs:()=>rt,OlP:()=>kn,zs3:()=>ko,ZZ4:()=>mw,aQg:()=>Bp,soG:()=>Hm,YKP:()=>Ll,h0i:()=>Qs,PXZ:()=>iw,R0b:()=>_a,FiY:()=>ys,Lbi:()=>$m,g9A:()=>jm,Qsj:()=>C_,FYo:()=>Fb,JOm:()=>ve,tp0:()=>Ji,Rgc:()=>xh,dDg:()=>DE,q4F:()=>vp,GfV:()=>yp,s_b:()=>Mh,ifc:()=>ft,eFA:()=>Zm,G48:()=>hD,Gpc:()=>$,X6Q:()=>kE,_c5:()=>qE,VLi:()=>nw,c2e:()=>_E,zSh:()=>Du,wAp:()=>_t,vHH:()=>Fe,cg1:()=>n_,kL8:()=>gh,dqk:()=>Vt,sIi:()=>Dl,CqO:()=>K0,QGY:()=>Kg,F4k:()=>tt,RDi:()=>Ya,AaK:()=>fe,qOj:()=>jg,TTD:()=>ho,_Bn:()=>w_,xp6:()=>Kw,uIk:()=>Yf,ekj:()=>pa,Suo:()=>L_,Xpm:()=>Gt,lG2:()=>wa,Yz7:()=>Lt,cJS:()=>Zt,oAB:()=>wr,Yjl:()=>Li,Y36:()=>Ha,_UZ:()=>tp,qZA:()=>Ga,TgZ:()=>Nn,EpF:()=>oh,n5z:()=>ol,LFG:()=>Be,$8M:()=>bo,$Z:()=>W0,NdJ:()=>xu,CRH:()=>eE,oxw:()=>Yg,ALo:()=>zb,gM2:()=>M_,Q6J:()=>gr,MGl:()=>ip,VKq:()=>jb,iGM:()=>Am,MAs:()=>Jf,CHM:()=>po,LSH:()=>gl,YNc:()=>Ov,_uU:()=>zv,Oqu:()=>Ol,hij:()=>qa,AsE:()=>nm,Gf:()=>Sm});var d=L(7579),X=L(727),P=L(8306),ge=L(6451),se=L(3099);function _e(i){for(let s in i)if(i[s]===_e)return s;throw Error("Could not find renamed property on target object.")}function ce(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function fe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(fe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function pe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const H=_e({__forward_ref__:_e});function $(i){return i.__forward_ref__=$,i.toString=function(){return fe(this())},i}function ee(i){return Ge(i)?i():i}function Ge(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===$}class Fe extends Error{constructor(s,a){super(function He(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function Q(i){return"string"==typeof i?i:null==i?"":String(i)}function he(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Q(i)}function Ee(i,s){const a=s?` in ${s}`:"";throw new Fe(-201,`No provider for ${he(i)} found${a}`)}function ot(i,s){null==i&&function et(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Lt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Zt(i){return{providers:i.providers||[],imports:i.imports||[]}}function At(i){return ui(i,Rr)||ui(i,Hn)}function ui(i,s){return i.hasOwnProperty(s)?i[s]:null}function er(i){return i&&(i.hasOwnProperty(us)||i.hasOwnProperty(un))?i[us]:null}const Rr=_e({\u0275prov:_e}),us=_e({\u0275inj:_e}),Hn=_e({ngInjectableDef:_e}),un=_e({ngInjectorDef:_e});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Nr;function mn(i){const s=Nr;return Nr=i,s}function ls(i,s,a){const u=At(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&rt.Optional?null:void 0!==s?s:void Ee(fe(i),"Injector")}function Ve(i){return{toString:i}.toString()}var wt=(()=>((wt=wt||{})[wt.OnPush=0]="OnPush",wt[wt.Default=1]="Default",wt))(),ft=(()=>{return(i=ft||(ft={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ft;var i})();const Ze="undefined"!=typeof globalThis&&globalThis,ct="undefined"!=typeof window&&window,yr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Vt=Ze||"undefined"!=typeof global&&global||ct||yr,_r={},j=[],z=_e({\u0275cmp:_e}),Z=_e({\u0275dir:_e}),re=_e({\u0275pipe:_e}),oe=_e({\u0275mod:_e}),Ye=_e({\u0275fac:_e}),mt=_e({__NG_ELEMENT_ID__:_e});let en=0;function Gt(i){return Ve(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||j,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ft.Emulated,id:"c",styles:i.styles||j,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,p=i.features,v=i.pipes;return u.id+=en++,u.inputs=Fo(i.inputs,a),u.outputs=Fo(i.outputs),p&&p.forEach(w=>w(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Pr):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(kt):null,u})}function Pr(i){return Vn(i)||function br(i){return i[Z]||null}(i)}function kt(i){return function Vi(i){return i[re]||null}(i)}const Ln={};function wr(i){return Ve(()=>{const s={type:i.type,bootstrap:i.bootstrap||j,declarations:i.declarations||j,imports:i.imports||j,exports:i.exports||j,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ln[i.id]=i.type),s})}function Fo(i,s){if(null==i)return _r;const a={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),a[c]=u,s&&(s[c]=p)}return a}const wa=Gt;function Li(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Vn(i){return i[z]||null}function Un(i,s){const a=i[oe]||null;if(!a&&!0===s)throw new Error(`Type ${fe(i)} does not have '\u0275mod' property.`);return a}function ci(i){return Array.isArray(i)&&"object"==typeof i[1]}function Wr(i){return Array.isArray(i)&&!0===i[1]}function ju(i){return 0!=(8&i.flags)}function ba(i){return 2==(2&i.flags)}function ji(i){return 1==(1&i.flags)}function Gn(i){return null!==i.template}function Gl(i){return 0!=(512&i[2])}function Yr(i,s){return i.hasOwnProperty(Ye)?i[Ye]:null}class hs{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function ho(){return ks}function ks(i){return i.type.prototype.ngOnChanges&&(i.setInput=zl),qu}function qu(){const i=zu(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===_r)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function zl(i,s,a,u){const c=zu(i)||function Gi(i,s){return i[Os]=s}(i,{previous:_r,current:null}),p=c.current||(c.current={}),v=c.previous,w=this.declaredInputs[a],I=v[w];p[w]=new hs(I&&I.currentValue,s,v===_r),i[u]=s}ho.ngInherit=!0;const Os="__ngSimpleChanges__";function zu(i){return i[Os]||null}let Ia;function Ya(i){Ia=i}function tn(i){return!!i.listen}const jo={createRenderer:(i,s)=>function di(){return void 0!==Ia?Ia:"undefined"!=typeof document?document:void 0}()};function Ut(i){for(;Array.isArray(i);)i=i[0];return i}function Ii(i,s){return Ut(s[i])}function zn(i,s){return Ut(s[i.index])}function wn(i,s){return i.data[s]}function Lr(i,s){return i[s]}function Zn(i,s){const a=s[i];return ci(a)?a:a[0]}function fo(i){return 4==(4&i[2])}function Di(i){return 128==(128&i[2])}function Cr(i,s){return null==s?null:i[s]}function qi(i){i[18]=0}function ps(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const pt={lFrame:Ps(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qa(){return pt.bindingsEnabled}function Me(){return pt.lFrame.lView}function Nt(){return pt.lFrame.tView}function po(i){return pt.lFrame.contextLView=i,i[8]}function dn(){let i=zi();for(;null!==i&&64===i.type;)i=i.parent;return i}function zi(){return pt.lFrame.currentTNode}function Ir(i,s){const a=pt.lFrame;a.currentTNode=i,a.isParent=s}function Ja(){return pt.lFrame.isParent}function go(){return pt.isInCheckNoChangesMode}function Rs(i){pt.isInCheckNoChangesMode=i}function In(){const i=pt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Ti(){return pt.lFrame.bindingIndex++}function Qr(i){const s=pt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Yo(i,s){const a=pt.lFrame;a.bindingIndex=a.bindingRootIndex=i,gs(s)}function gs(i){pt.lFrame.currentDirectiveIndex=i}function Qo(){return pt.lFrame.currentQueryIndex}function tu(i){pt.lFrame.currentQueryIndex=i}function el(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Jo(i,s,a){if(a&rt.SkipSelf){let c=s,p=i;for(;!(c=c.parent,null!==c||a&rt.Host||(c=el(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;s=c,i=p}const u=pt.lFrame=nu();return u.currentTNode=s,u.lView=i,!0}function Ns(i){const s=nu(),a=i[1];pt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function nu(){const i=pt.lFrame,s=null===i?null:i.child;return null===s?Ps(i):s}function Ps(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function tl(){const i=pt.lFrame;return pt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Wl=tl;function mo(){const i=tl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Wn(){return pt.lFrame.selectedIndex}function Zi(i){pt.lFrame.selectedIndex=i}function bn(){const i=pt.lFrame;return wn(i.tView,i.selectedIndex)}function Si(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:k}=p;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),x&&((i.viewHooks||(i.viewHooks=[])).push(a,x),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,x)),null!=k&&(i.destroyHooks||(i.destroyHooks=[])).push(a,k)}}function Fs(i,s,a){Kn(i,s,3,a)}function iu(i,s,a,u){(3&i[2])===a&&Kn(i,s,a,u)}function Ma(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Kn(i,s,a,u){const p=null!=u?u:-1,v=s.length-1;let w=0;for(let I=void 0!==u?65535&i[18]:0;I<v;I++)if("number"==typeof s[I+1]){if(w=s[I],null!=u&&w>=u)break}else s[I]<0&&(i[18]+=65536),(w<p||-1==p)&&(su(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function su(i,s,a,u){const c=a[u]<0,p=a[u+1],w=i[c?-a[u]:a[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class yo{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function b(i,s,a){const u=tn(i);let c=0;for(;c<a.length;){const p=a[c];if("number"==typeof p){if(0!==p)break;c++;const v=a[c++],w=a[c++],I=a[c++];u?i.setAttribute(s,w,I,v):s.setAttributeNS(v,w,I)}else{const v=p,w=a[++c];B(v)?u&&i.setProperty(s,v,w):u?i.setAttribute(s,v,w):s.setAttribute(v,w),c++}}return c}function M(i){return 3===i||4===i||6===i}function B(i){return 64===i.charCodeAt(0)}function Te(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?a=c:0===a||Xe(i,a,c,null,-1===a||2===a?s[++u]:null)}}return i}function Xe(i,s,a,u,c){let p=0,v=i.length;if(-1===s)v=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){v=-1;break}if(w>s){v=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==c&&(i[p+1]=c));if(u===i[p+1])return void(i[p+2]=c)}p++,null!==u&&p++,null!==c&&p++}-1!==v&&(i.splice(v,0,s),p=v+1),i.splice(p++,0,a),null!==u&&i.splice(p++,0,u),null!==c&&i.splice(p++,0,c)}function yn(i){return-1!==i}function Ft(i){return 32767&i}function Tr(i,s){let a=function Yn(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Ls=!0;function Wi(i){const s=Ls;return Ls=i,s}let _d=0;function xn(i,s){const a=vo(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,ta(u.data,i),ta(s,null),ta(u.blueprint,null));const c=sl(i,s),p=i.injectorIndex;if(yn(c)){const v=Ft(c),w=Tr(c,s),I=w[1].data;for(let x=0;x<8;x++)s[p+x]=w[v+x]|I[v+x]}return s[p+8]=c,p}function ta(i,s){i.push(0,0,0,0,0,0,0,0,s)}function vo(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function sl(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,c=s;for(;null!==c;){const p=c[1],v=p.type;if(u=2===v?p.declTNode:1===v?c[6]:null,null===u)return-1;if(a++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Vr(i,s,a){!function ou(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(mt)&&(u=a[mt]),null==u&&(u=a[mt]=_d++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function _o(i,s,a){if(a&rt.Optional)return i;Ee(s,"NodeInjector")}function uu(i,s,a,u){if(a&rt.Optional&&void 0===u&&(u=null),0==(a&(rt.Self|rt.Host))){const c=i[9],p=mn(void 0);try{return c?c.get(s,u,a&rt.Optional):ls(s,u,a&rt.Optional)}finally{mn(p)}}return _o(u,s,a)}function wo(i,s,a,u=rt.Default,c){if(null!==i){const p=function Oa(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(mt)?i[mt]:void 0;return"number"==typeof s?s>=0?255&s:lu:s}(a);if("function"==typeof p){if(!Jo(s,i,u))return u&rt.Host?_o(c,a,u):uu(s,a,u,c);try{const v=p(u);if(null!=v||u&rt.Optional)return v;Ee(a)}finally{Wl()}}else if("number"==typeof p){let v=null,w=vo(i,s),I=-1,x=u&rt.Host?s[16][6]:null;for((-1===w||u&rt.SkipSelf)&&(I=-1===w?sl(i,s):s[w+8],-1!==I&&Ar(u,!1)?(v=s[1],w=Ft(I),s=Tr(I,s)):w=-1);-1!==w;){const k=s[1];if(Ql(p,w,k.data)){const V=cu(w,s,a,v,u,x);if(V!==na)return V}I=s[w+8],-1!==I&&Ar(u,s[1].data[w+8]===x)&&Ql(p,w,s)?(v=k,w=Ft(I),s=Tr(I,s)):w=-1}}}return uu(s,a,u,c)}const na={};function lu(){return new Vs(dn(),Me())}function cu(i,s,a,u,c,p){const v=s[1],w=v.data[i+8],k=du(w,v,a,null==u?ba(w)&&Ls:u!=v&&0!=(3&w.type),c&rt.Host&&p===w);return null!==k?Ki(s,v,k,w):na}function du(i,s,a,u,c){const p=i.providerIndexes,v=s.data,w=1048575&p,I=i.directiveStart,k=p>>20,G=c?w+k:i.directiveEnd;for(let ne=u?w:w+k;ne<G;ne++){const De=v[ne];if(ne<I&&a===De||ne>=I&&De.type===a)return ne}if(c){const ne=v[I];if(ne&&Gn(ne)&&ne.type===a)return I}return null}function Ki(i,s,a,u){let c=i[a];const p=s.data;if(function md(i){return i instanceof yo}(c)){const v=c;v.resolving&&function Re(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${i}${a}`)}(he(p[a]));const w=Wi(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?mn(v.injectImpl):null;Jo(i,u,rt.Default);try{c=i[a]=v.factory(void 0,p,i,u),s.firstCreatePass&&a>=u.directiveStart&&function ru(i,s,a){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:p}=s.type.prototype;if(u){const v=ks(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==I&&mn(I),Wi(w),v.resolving=!1,Wl()}}return c}function Ql(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Ar(i,s){return!(i&rt.Self||i&rt.Host&&s)}class Vs{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return wo(this._tNode,this._lView,s,u,a)}}function ol(i){return Ve(()=>{const s=i.prototype.constructor,a=s[Ye]||tr(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const p=c[Ye]||tr(c);if(p&&p!==a)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function tr(i){return Ge(i)?()=>{const s=tr(ee(i));return s&&s()}:Yr(i)}function bo(i){return function au(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let c=0;for(;c<u;){const p=a[c];if(M(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<u&&"string"==typeof a[c];)c++;else{if(p===s)return a[c+1];c+=2}}}return null}(dn(),i)}const Eo="__parameters__";function Mn(i,s,a){return Ve(()=>{const u=function Bs(i){return function(...a){if(i){const u=i(...a);for(const c in u)this[c]=u[c]}}}(s);function c(...p){if(this instanceof c)return u.apply(this,p),this;const v=new c(...p);return w.annotation=v,w;function w(I,x,k){const V=I.hasOwnProperty(Eo)?I[Eo]:Object.defineProperty(I,Eo,{value:[]})[Eo];for(;V.length<=k;)V.push(null);return(V[k]=V[k]||[]).push(v),I}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class kn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Lt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const eg=new kn("AnalyzeForEntryComponents");function Ur(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),Ur(u,s)):s!==i&&s.push(u)}return s}function Mi(i,s){i.forEach(a=>Array.isArray(a)?Mi(a,s):s(a))}function ec(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function sa(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function nr(i,s,a){let u=oa(i,s);return u>=0?i[1|u]=a:(u=~u,function tc(i,s,a,u){let c=i.length;if(c==s)i.push(a,u);else if(1===c)i.push(u,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function rc(i,s){const a=oa(i,s);if(a>=0)return i[1|a]}function oa(i,s){return function bd(i,s,a){let u=0,c=i.length>>a;for(;c!==u;){const p=u+(c-u>>1),v=i[p<<a];if(s===v)return p<<a;v>s?c=p:u=p+1}return~(c<<a)}(i,s,1)}const To={},Pa="__NG_DI_FLAG__",pu="ngTempTokenPath",D=/\n/gm,O="__source",U=_e({provide:String,useValue:_e});let J;function ue(i){const s=J;return J=i,s}function we(i,s=rt.Default){if(void 0===J)throw new Fe(203,"");return null===J?ls(i,void 0,s):J.get(i,s&rt.Optional?null:void 0,s)}function Be(i,s=rt.Default){return(function Wt(){return Nr}()||we)(ee(i),s)}const Ot=Be;function on(i){const s=[];for(let a=0;a<i.length;a++){const u=ee(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Fe(900,"");let c,p=rt.Default;for(let v=0;v<u.length;v++){const w=u[v],I=Sr(w);"number"==typeof I?-1===I?c=w.token:p|=I:c=w}s.push(Be(c,p))}else s.push(Be(u))}return s}function Bn(i,s){return i[Pa]=s,i.prototype[Pa]=s,i}function Sr(i){return i[Pa]}const Oi=Bn(Mn("Inject",i=>({token:i})),-1),ys=Bn(Mn("Optional"),8),Ji=Bn(Mn("SkipSelf"),4);class Ad{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function So(i){return i instanceof Ad?i.changingThisBreaksApplicationSecurity:i}const xo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,of=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var nn=(()=>((nn=nn||{})[nn.NONE=0]="NONE",nn[nn.HTML=1]="HTML",nn[nn.STYLE=2]="STYLE",nn[nn.SCRIPT=3]="SCRIPT",nn[nn.URL=4]="URL",nn[nn.RESOURCE_URL=5]="RESOURCE_URL",nn))();function gl(i){const s=function ca(){const i=Me();return i&&i[12]}();return s?s.sanitize(nn.URL,i)||"":function Fa(i,s){const a=function hl(i){return i instanceof Ad&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?So(i):function fl(i){return(i=String(i)).match(xo)||i.match(of)?i:"unsafe:"+i}(Q(i))}const mf="__ngContext__";function Jr(i,s){i[mf]=s}function yf(i){const s=function _u(i){return i[mf]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Eu(i){return i.ngOriginalError}function fg(i,...s){i.error(...s)}class jr{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function Sy(i){return i&&i.ngErrorLogger||fg}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Eu(s);for(;a&&Eu(a);)a=Eu(a);return a||null}}const Oy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Vt))();function g(i){return i instanceof Function?i():i}var ve=(()=>((ve=ve||{})[ve.Important=1]="Important",ve[ve.DashCase=2]="DashCase",ve))();function it(i,s){return undefined(i,s)}function On(i){const s=i[3];return Wr(s)?s[3]:s}function ml(i){return Df(i[13])}function yl(i){return Df(i[4])}function Df(i){for(;null!==i&&!Wr(i);)i=i[4];return i}function Ua(i,s,a,u,c){if(null!=u){let p,v=!1;Wr(u)?p=u:ci(u)&&(v=!0,u=u[0]);const w=Ut(u);0===i&&null!==a?null==c?By(s,a,w):Hs(s,a,w,c||null,!0):1===i&&null!==a?Hs(s,a,w,c||null,!0):2===i?function Gy(i,s,a){const u=Sf(i,s);u&&function xC(i,s,a,u){tn(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}(s,w,v):3===i&&s.destroyNode(w),null!=p&&function zy(i,s,a,u,c){const p=a[7];p!==Ut(a)&&Ua(s,i,u,p,c);for(let w=10;w<a.length;w++){const I=a[w];yg(I[1],I,i,s,u,p)}}(s,i,p,a,c)}}function Pd(i,s,a){if(tn(i))return i.createElement(s,a);{const u=null!==a?function Ca(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(s):i.createElementNS(u,s)}}function Fy(i,s){const a=i[9],u=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,ps(c,-1)),a.splice(u,1)}function Ly(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const c=u[17];null!==c&&c!==i&&Fy(c,u),s>0&&(i[a-1][4]=u[4]);const p=sa(i,10+s);!function rr(i,s){yg(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const v=p[19];null!==v&&v.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Vy(i,s){if(!(256&s[2])){const a=s[11];tn(a)&&a.destroyNode&&yg(i,s,a,3,null,null),function Py(i){let s=i[13];if(!s)return Uy(i[1],i);for(;s;){let a=null;if(ci(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)ci(s)&&Uy(s[1],s),s=s[3];null===s&&(s=i),ci(s)&&Uy(s[1],s),a=s&&s[4]}s=a}}(s)}}function Uy(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function $w(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const c=s[a[u]];if(!(c instanceof yo)){const p=a[u+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const w=c[p[v]],I=p[v+1];try{I.call(w)}finally{}}else try{p.call(c)}finally{}}}}(i,s),function jw(i,s){const a=i.cleanup,u=s[7];let c=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],w="function"==typeof v?v(s):Ut(s[v]),I=u[c=a[p+2]],x=a[p+3];"boolean"==typeof x?w.removeEventListener(a[p],I,x):x>=0?u[c=x]():u[c=-x].unsubscribe(),p+=2}else{const v=u[c=a[p+1]];a[p].call(v)}if(null!==u){for(let p=c+1;p<u.length;p++)u[p]();s[7]=null}}(i,s),1===s[1].type&&tn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Wr(s[3])){a!==s[3]&&Fy(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function gg(i,s,a){return function SC(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===ft.None||c===ft.Emulated)return null}return zn(u,a)}(i,s.parent,a)}function Hs(i,s,a,u,c){tn(i)?i.insertBefore(s,a,u,c):s.insertBefore(a,u,c)}function By(i,s,a){tn(i)?i.appendChild(s,a):s.appendChild(a)}function Hw(i,s,a,u,c){null!==u?Hs(i,s,a,u,c):By(i,s,a)}function Sf(i,s){return tn(i)?i.parentNode(s):s.parentNode}let jy=function qw(i,s,a){return 40&i.type?zn(i,a):null};function mg(i,s,a,u){const c=gg(i,u,s),p=s[11],w=function Gw(i,s,a){return jy(i,s,a)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(a))for(let I=0;I<a.length;I++)Hw(p,c,a[I],w,!1);else Hw(p,c,a,w,!1)}function Vd(i,s){if(null!==s){const a=s.type;if(3&a)return zn(s,i);if(4&a)return Hy(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Vd(i,u);{const c=i[s.index];return Wr(c)?Hy(-1,c):Ut(c)}}if(32&a)return it(s,i)()||Ut(i[s.index]);{const u=Zw(i,s);return null!==u?Array.isArray(u)?u[0]:Vd(On(i[16]),u):Vd(i,s.next)}}return null}function Zw(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Hy(i,s){const a=10+i+1;if(a<s.length){const u=s[a],c=u[1].firstChild;if(null!==c)return Vd(u,c)}return s[7]}function qy(i,s,a,u,c,p,v){for(;null!=a;){const w=u[a.index],I=a.type;if(v&&0===s&&(w&&Jr(Ut(w),u),a.flags|=4),64!=(64&a.flags))if(8&I)qy(i,s,a.child,u,c,p,!1),Ua(s,i,c,w,p);else if(32&I){const x=it(a,u);let k;for(;k=x();)Ua(s,i,c,k,p);Ua(s,i,c,w,p)}else 16&I?$r(i,s,u,a,c,p):Ua(s,i,c,w,p);a=v?a.projectionNext:a.next}}function yg(i,s,a,u,c,p){qy(a,u,i.firstChild,s,c,p,!1)}function $r(i,s,a,u,c,p){const v=a[16],I=v[6].projection[u.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)Ua(s,i,c,I[x],p);else qy(i,s,I,v[3],c,p,!0)}function Ww(i,s,a){tn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Gs(i,s,a){tn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function RC(i,s,a){let u=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const p=s.length;if(c+p===u||i.charCodeAt(c+p)<=32)return c}a=c+1}}const Ae="ng-template";function _c(i,s,a){let u=0;for(;u<i.length;){let c=i[u++];if(a&&"class"===c){if(c=i[u],-1!==RC(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function xf(i){return 4===i.type&&i.value!==Ae}function vl(i,s,a){return s===(4!==i.type||a?i.value:Ae)}function Bt(i,s,a){let u=4;const c=i.attrs||[],p=function xt(i){for(let s=0;s<i.length;s++)if(M(i[s]))return s;return i.length}(c);let v=!1;for(let w=0;w<s.length;w++){const I=s[w];if("number"!=typeof I){if(!v)if(4&u){if(u=2|1&u,""!==I&&!vl(i,I,a)||""===I&&1===s.length){if(ha(u))return!1;v=!0}}else{const x=8&u?I:s[++w];if(8&u&&null!==i.attrs){if(!_c(i.attrs,x,a)){if(ha(u))return!1;v=!0}continue}const V=Cu(8&u?"class":I,c,xf(i),a);if(-1===V){if(ha(u))return!1;v=!0;continue}if(""!==x){let G;G=V>p?"":c[V+1].toLowerCase();const ne=8&u?G:null;if(ne&&-1!==RC(ne,x,0)||2&u&&x!==G){if(ha(u))return!1;v=!0}}}}else{if(!v&&!ha(u)&&!ha(I))return!1;if(v&&ha(I))continue;v=!1,u=I|1&u}}return ha(u)||v}function ha(i){return 0==(1&i)}function Cu(i,s,a,u){if(null===s)return-1;let c=0;if(u||!a){let p=!1;for(;c<s.length;){const v=s[c];if(v===i)return c;if(3===v||6===v)p=!0;else{if(1===v||2===v){let w=s[++c];for(;"string"==typeof w;)w=s[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=p?1:2}return-1}return function vg(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function nt(i,s,a=!1){for(let u=0;u<s.length;u++)if(Bt(i,s[u],a))return!0;return!1}function Ud(i,s){return i?":not("+s.trim()+")":s}function NC(i){let s=i[0],a=1,u=2,c="",p=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&u){const w=i[++a];c+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?c+="."+v:4&u&&(c+=" "+v);else""!==c&&!ha(v)&&(s+=Ud(p,c),c=""),u=v,p=p||!ha(u);a++}return""!==c&&(s+=Ud(p,c)),s}const Rt={};function Kw(i){Xr(Nt(),Me(),Wn()+i,go())}function Xr(i,s,a,u){if(!u)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Fs(s,p,a)}else{const p=i.preOrderHooks;null!==p&&iu(s,p,0,a)}Zi(a)}function xr(i,s){return i<<17|s<<2}function ei(i){return i>>17&32767}function _g(i){return 2|i}function Ba(i){return(131068&i)>>2}function Yy(i,s){return-131069&i|s<<2}function kf(i){return 1|i}function d0(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const c=a[u],p=a[u+1];if(-1!==p){const v=i.data[p];tu(c),v.contentQueries(2,s[p],p)}}}function wc(i,s,a,u,c,p,v,w,I,x){const k=s.blueprint.slice();return k[0]=c,k[2]=140|u,qi(k),k[3]=k[15]=i,k[8]=a,k[10]=v||i&&i[10],k[11]=w||i&&i[11],k[12]=I||i&&i[12]||null,k[9]=x||i&&i[9]||null,k[6]=p,k[16]=2==s.type?i[16]:k,k}function bc(i,s,a,u,c){let p=i.data[s];if(null===p)p=function ov(i,s,a,u,c){const p=zi(),v=Ja(),I=i.data[s]=function uv(i,s,a,u,c,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,s,u,c);return null===i.firstChild&&(i.firstChild=I),null!==p&&(v?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(i,s,a,u,c),function Ko(){return pt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=c;const v=function Wo(){const i=pt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return Ir(p,!0),p}function _l(i,s,a,u){if(0===a)return-1;const c=s.length;for(let p=0;p<a;p++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function Ec(i,s,a){Ns(s);try{const u=i.viewQuery;null!==u&&Og(1,u,a);const c=i.template;null!==c&&ri(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&d0(i,s),i.staticViewQueries&&Og(2,i.viewQuery,a);const p=i.components;null!==p&&function f0(i,s){for(let a=0;a<s.length;a++)mv(i,s[a])}(s,p)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,mo()}}function wl(i,s,a,u){const c=s[2];if(256==(256&c))return;Ns(s);const p=go();try{qi(s),function Xa(i){return pt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&ri(i,s,a,2,u);const v=3==(3&c);if(!p)if(v){const x=i.preOrderCheckHooks;null!==x&&Fs(s,x,null)}else{const x=i.preOrderHooks;null!==x&&iu(s,x,0,null),Ma(s,0)}if(function Uf(i){for(let s=ml(i);null!==s;s=yl(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const c=a[u],p=c[3];0==(1024&c[2])&&ps(p,1),c[2]|=1024}}}(s),function D0(i){for(let s=ml(i);null!==s;s=yl(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1];Di(u)&&wl(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&d0(i,s),!p)if(v){const x=i.contentCheckHooks;null!==x&&Fs(s,x)}else{const x=i.contentHooks;null!==x&&iu(s,x,1),Ma(s,1)}!function c0(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const c=a[u];if(c<0)Zi(~c);else{const p=c,v=a[++u],w=a[++u];Yo(v,p),w(2,s[p])}}}finally{Zi(-1)}}(i,s);const w=i.components;null!==w&&function h0(i,s){for(let a=0;a<s.length;a++)gv(i,s[a])}(s,w);const I=i.viewQuery;if(null!==I&&Og(2,I,u),!p)if(v){const x=i.viewCheckHooks;null!==x&&Fs(s,x)}else{const x=i.viewHooks;null!==x&&iu(s,x,2),Ma(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ps(s[3],-1))}finally{mo()}}function ni(i,s,a,u){const c=s[10],p=!go(),v=fo(s);try{p&&!v&&c.begin&&c.begin(),v&&Ec(i,s,u),wl(i,s,a,u)}finally{p&&!v&&c.end&&c.end()}}function ri(i,s,a,u,c){const p=Wn(),v=2&u;try{Zi(-1),v&&s.length>20&&Xr(i,s,20,go()),a(u,c)}finally{Zi(p)}}function Lf(i,s,a){!Qa()||(function Gd(i,s,a,u){const c=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||xn(a,s),Jr(u,s);const v=a.initialInputs;for(let w=c;w<p;w++){const I=i.data[w],x=Gn(I);x&&rs(s,a,I);const k=Ki(s,i,w,a);Jr(k,s),null!==v&&Sg(0,w-c,k,I,0,v),x&&(Zn(a.index,s)[8]=k)}}(i,s,a,zn(a,s)),128==(128&a.flags)&&function GC(i,s,a){const u=a.directiveStart,c=a.directiveEnd,v=a.index,w=function Xu(){return pt.lFrame.currentDirectiveIndex}();try{Zi(v);for(let I=u;I<c;I++){const x=i.data[I],k=s[I];gs(I),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&b0(x,k)}}finally{Zi(-1),gs(w)}}(i,s,a))}function av(i,s,a=zn){const u=s.localNames;if(null!==u){let c=s.index+1;for(let p=0;p<u.length;p+=2){const v=u[p+1],w=-1===v?a(s,i):i[v];i[c++]=w}}}function p0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Vf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Vf(i,s,a,u,c,p,v,w,I,x){const k=20+u,V=k+c,G=function BC(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:Rt);return a}(k,V),ne="function"==typeof x?x():x;return G[1]={type:i,blueprint:G,template:a,queries:null,viewQuery:w,declTNode:s,data:G.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:ne,incompleteFirstPass:!1}}function y0(i,s,a,u){const c=yv(s);null===a?c.push(u):(c.push(a),i.firstCreatePass&&Hf(i).push(u,c.length-1))}function lv(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,c):a[u]=[s,c]}return a}function ns(i,s,a,u,c,p,v,w){const I=zn(s,a);let k,x=s.inputs;!w&&null!=x&&(k=x[u])?(Rg(i,a,k,u,c),ba(s)&&function cv(i,s){const a=Zn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function Dg(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=v?v(c,s.value||"",u):c,tn(p)?p.setProperty(I,u,c):B(u)||(I.setProperty?I.setProperty(u,c):I[u]=c))}function Hd(i,s,a,u){let c=!1;if(Qa()){const p=function Cc(i,s,a){const u=i.directiveRegistry;let c=null;if(u)for(let p=0;p<u.length;p++){const v=u[p];nt(a,v.selectors,!1)&&(c||(c=[]),Vr(xn(a,s),i,v.type),Gn(v)?(hv(i,a),c.unshift(v)):c.push(v))}return c}(i,s,a),v=null===u?null:{"":-1};if(null!==p){c=!0,qd(a,i.data.length,p.length);for(let k=0;k<p.length;k++){const V=p[k];V.providersResolver&&V.providersResolver(V)}let w=!1,I=!1,x=_l(i,s,p.length,null);for(let k=0;k<p.length;k++){const V=p[k];a.mergedAttrs=Te(a.mergedAttrs,V.hostAttrs),fv(i,a,s,x,V),E0(x,V,v),null!==V.contentQueries&&(a.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(a.flags|=128);const G=V.type.prototype;!w&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!I&&(G.ngOnChanges||G.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),x++}!function jC(i,s){const u=s.directiveEnd,c=i.data,p=s.attrs,v=[];let w=null,I=null;for(let x=s.directiveStart;x<u;x++){const k=c[x],V=k.inputs,G=null===p||xf(s)?null:C0(V,p);v.push(G),w=lv(V,x,w),I=lv(k.outputs,x,I)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=w,s.outputs=I}(i,a)}v&&function Ag(i,s,a){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const p=a[s[c+1]];if(null==p)throw new Fe(-301,!1);u.push(s[c],p)}}}(a,u,v)}return a.mergedAttrs=Te(a.mergedAttrs,a.attrs),c}function w0(i,s,a,u,c,p){const v=p.hostBindings;if(v){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const I=~s.index;(function HC(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=I&&w.push(I),w.push(u,c,v)}}function b0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function hv(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function E0(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Gn(s)&&(a[""]=i)}}function qd(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function fv(i,s,a,u,c){i.data[u]=c;const p=c.factory||(c.factory=Yr(c.type)),v=new yo(p,Gn(c),null);i.blueprint[u]=v,a[u]=v,w0(i,s,0,u,_l(i,a,c.hostVars,Rt),c)}function rs(i,s,a){const u=zn(s,i),c=p0(a),p=i[10],v=bl(i,wc(i,c,null,a.onPush?64:16,u,s,p,p.createRenderer(u,a),null,null));i[s.index]=v}function fa(i,s,a,u,c,p){const v=zn(i,s);!function Ic(i,s,a,u,c,p,v){if(null==p)tn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const w=null==v?Q(p):v(p,u||"",c);tn(i)?i.setAttribute(s,c,w,a):a?s.setAttributeNS(a,c,w):s.setAttribute(c,w)}}(s[11],v,p,i.value,a,u,c)}function Sg(i,s,a,u,c,p){const v=p[s];if(null!==v){const w=u.setInput;for(let I=0;I<v.length;){const x=v[I++],k=v[I++],V=v[I++];null!==w?u.setInput(a,V,x,k):a[k]=V}}}function C0(i,s){let a=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return a}function pv(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function gv(i,s){const a=Zn(s,i);if(Di(a)){const u=a[1];80&a[2]?wl(u,a,u.template,a[8]):a[5]>0&&Bf(a)}}function Bf(i){for(let u=ml(i);null!==u;u=yl(u))for(let c=10;c<u.length;c++){const p=u[c];if(1024&p[2]){const v=p[1];wl(v,p,v.template,p[8])}else p[5]>0&&Bf(p)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const c=Zn(a[u],i);Di(c)&&c[5]>0&&Bf(c)}}function mv(i,s){const a=Zn(s,i),u=a[1];(function xg(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Ec(u,a,a[8])}function bl(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Mg(i){for(;i;){i[2]|=64;const s=On(i);if(Gl(i)&&!s)return i;i=s}return null}function zd(i,s,a){const u=s[10];u.begin&&u.begin();try{wl(i,s,i.template,a)}catch(c){throw El(s,c),c}finally{u.end&&u.end()}}function kg(i){!function jf(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=yf(a),c=u[1];ni(c,u,c.template,a)}}(i[8])}function Og(i,s,a){tu(0),s(i,a)}const $f=(()=>Promise.resolve(null))();function yv(i){return i[7]||(i[7]=[])}function Hf(i){return i.cleanup||(i.cleanup=[])}function El(i,s){const a=i[9],u=a?a.get(jr,null):null;u&&u.handleError(s)}function Rg(i,s,a,u,c){for(let p=0;p<a.length;){const v=a[p++],w=a[p++],I=s[v],x=i.data[v];null!==x.setInput?x.setInput(I,c,u,w):I[w]=c}}function Iu(i,s,a){const u=Ii(s,i);!function Nd(i,s,a){tn(i)?i.setValue(s,a):s.textContent=a}(i[11],u,a)}function Wd(i,s,a){let u=a?i.styles:null,c=a?i.classes:null,p=0;if(null!==s)for(let v=0;v<s.length;v++){const w=s[v];"number"==typeof w?p=w:1==p?c=pe(c,w):2==p&&(u=pe(u,w+": "+s[++v]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=c:i.classesWithoutHost=c}const Ng=new kn("INJECTOR",-1);class S0{get(s,a=To){if(a===To){const u=new Error(`NullInjectorError: No provider for ${fe(s)}!`);throw u.name="NullInjectorError",u}return a}}const Du=new kn("Set Injector scope."),qs={},Pg={};let Qd;function Gf(){return void 0===Qd&&(Qd=new S0),Qd}function _v(i,s=null,a=null,u){const c=Rn(i,s,a,u);return c._resolveInjectorDefTypes(),c}function Rn(i,s=null,a=null,u){return new Fg(i,a,s||Gf(),u)}class Fg{constructor(s,a,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Mi(a,w=>this.processProvider(w,s,a)),Mi([s],w=>this.processInjectorType(w,[],p)),this.records.set(Ng,Xd(void 0,this));const v=this.records.get(Du);this.scope=null!=v?v.value:null,this.source=c||("object"==typeof s?null:fe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=To,u=rt.Default){this.assertNotDestroyed();const c=ue(this),p=mn(void 0);try{if(!(u&rt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const I=function x0(i){return"function"==typeof i||"object"==typeof i&&i instanceof kn}(s)&&At(s);w=I&&this.injectableDefInScope(I)?Xd(wv(s),qs):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(u&rt.Self?Gf():this.parent).get(s,a=u&rt.Optional&&a===To?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[pu]=v[pu]||[]).unshift(fe(s)),c)throw v;return function Qn(i,s,a,u){const c=i[pu];throw s[O]&&c.unshift(s[O]),i.message=function Ao(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=fe(s);if(Array.isArray(s))c=s.map(fe).join(" -> ");else if("object"==typeof s){let p=[];for(let v in s)if(s.hasOwnProperty(v)){let w=s[v];p.push(v+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}c=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${c}]: ${i.replace(D,"\n  ")}`}("\n"+i.message,c,a,u),i.ngTokenPath=c,i[pu]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{mn(p),ue(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(fe(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processInjectorType(s,a,u){if(!(s=ee(s)))return!1;let c=er(s);const p=null==c&&s.ngModule||void 0,v=void 0===p?s:p,w=-1!==u.indexOf(v);if(void 0!==p&&(c=er(p)),null==c)return!1;if(null!=c.imports&&!w){let k;u.push(v);try{Mi(c.imports,V=>{this.processInjectorType(V,a,u)&&(void 0===k&&(k=[]),k.push(V))})}finally{}if(void 0!==k)for(let V=0;V<k.length;V++){const{ngModule:G,providers:ne}=k[V];Mi(ne,De=>this.processProvider(De,G,ne||j))}}this.injectorDefTypes.add(v);const I=Yr(v)||(()=>new v);this.records.set(v,Xd(I,qs));const x=c.providers;if(null!=x&&!w){const k=s;Mi(x,V=>this.processProvider(V,k,x))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,u){let c=eh(s=ee(s))?s:ee(s&&s.provide);const p=function qf(i,s,a){return bv(i)?Xd(void 0,i.useValue):Xd(Jd(i),qs)}(s);if(eh(s)||!0!==s.multi)this.records.get(c);else{let v=this.records.get(c);v||(v=Xd(void 0,qs,!0),v.factory=()=>on(v.multi),this.records.set(c,v)),c=s,v.multi.push(s)}this.records.set(c,p)}hydrate(s,a){return a.value===qs&&(a.value=Pg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Cl(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ee(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function wv(i){const s=At(i),a=null!==s?s.factory:Yr(i);if(null!==a)return a;if(i instanceof kn)throw new Fe(204,!1);if(i instanceof Function)return function zC(i){const s=i.length;if(s>0)throw function Yi(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}(s,"?"),new Fe(204,!1);const a=function Xn(i){const s=i&&(i[Rr]||i[Hn]);if(s){const a=function Ei(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Fe(204,!1)}function Jd(i,s,a){let u;if(eh(i)){const c=ee(i);return Yr(c)||wv(c)}if(bv(i))u=()=>ee(i.useValue);else if(function WC(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...on(i.deps||[]));else if(function ZC(i){return!(!i||!i.useExisting)}(i))u=()=>Be(ee(i.useExisting));else{const c=ee(i&&(i.useClass||i.provide));if(!function zf(i){return!!i.deps}(i))return Yr(c)||wv(c);u=()=>new c(...on(i.deps))}return u}function Xd(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function bv(i){return null!==i&&"object"==typeof i&&U in i}function eh(i){return"function"==typeof i}let ko=(()=>{class i{static create(a,u){var c;if(Array.isArray(a))return _v({name:""},u,a,"");{const p=null!==(c=a.name)&&void 0!==c?c:"";return _v({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=To,i.NULL=new S0,i.\u0275prov=Lt({token:i,providedIn:"any",factory:()=>Be(Ng)}),i.__NG_ELEMENT_ID__=-1,i})();function eI(i,s){Si(yf(i)[1],dn())}function jg(i){let s=function P0(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let c;if(Gn(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Fe(903,"");c=s.\u0275dir}if(c){if(a){u.push(c);const v=i;v.inputs=$g(i.inputs),v.declaredInputs=$g(i.declaredInputs),v.outputs=$g(i.outputs);const w=c.hostBindings;w&&Tu(i,w);const I=c.viewQuery,x=c.contentQueries;if(I&&Hg(i,I),x&&L0(i,x),ce(i.inputs,c.inputs),ce(i.declaredInputs,c.declaredInputs),ce(i.outputs,c.outputs),Gn(c)&&c.data.animation){const k=i.data;k.animation=(k.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let v=0;v<p.length;v++){const w=p[v];w&&w.ngInherit&&w(i),w===jg&&(a=!1)}}s=Object.getPrototypeOf(s)}!function F0(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=Te(c.hostAttrs,a=Te(a,c.hostAttrs))}}(u)}function $g(i){return i===_r?{}:i===j?[]:i}function Hg(i,s){const a=i.viewQuery;i.viewQuery=a?(u,c)=>{s(u,c),a(u,c)}:s}function L0(i,s){const a=i.contentQueries;i.contentQueries=a?(u,c,p)=>{s(u,c,p),a(u,c,p)}:s}function Tu(i,s){const a=i.hostBindings;i.hostBindings=a?(u,c)=>{s(u,c),a(u,c)}:s}let Il=null;function Tc(){if(!Il){const i=Vt.Symbol;if(i&&i.iterator)Il=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Il=u)}}}return Il}function Dl(i){return!!nh(i)&&(Array.isArray(i)||!(i instanceof Map)&&Tc()in i)}function nh(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function $a(i,s,a){return i[s]=a}function Mr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Tl(i,s,a,u){const c=Mr(i,s,a);return Mr(i,s+1,u)||c}function Yf(i,s,a,u){const c=Me();return Mr(c,Ti(),s)&&(Nt(),fa(bn(),c,i,s,a,u)),Yf}function Au(i,s,a,u){return Mr(i,Ti(),a)?s+Q(a)+u:Rt}function Sc(i,s,a,u,c,p){const w=Tl(i,function hi(){return pt.lFrame.bindingIndex}(),a,c);return Qr(2),w?s+Q(a)+u+Q(c)+p:Rt}function Ov(i,s,a,u,c,p,v,w){const I=Me(),x=Nt(),k=i+20,V=x.firstCreatePass?function nI(i,s,a,u,c,p,v,w,I){const x=s.consts,k=bc(s,i,4,v||null,Cr(x,w));Hd(s,a,k,Cr(x,I)),Si(s,k);const V=k.tViews=Vf(2,k,u,c,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,x);return null!==s.queries&&(s.queries.template(s,k),V.queries=s.queries.embeddedTView(k)),k}(k,x,I,s,a,u,c,p,v):x.data[k];Ir(V,!1);const G=I[11].createComment("");mg(x,I,G,V),Jr(G,I),bl(I,I[k]=pv(G,I,G,V)),ji(V)&&Lf(x,I,V),null!=v&&av(I,V,w)}function Jf(i){return Lr(function xa(){return pt.lFrame.contextLView}(),20+i)}function Ha(i,s=rt.Default){const a=Me();return null===a?Be(i,s):wo(dn(),a,ee(i),s)}function W0(){throw new Error("invalid")}function gr(i,s,a){const u=Me();return Mr(u,Ti(),s)&&ns(Nt(),bn(),u,i,s,u[11],a,!1),gr}function Pv(i,s,a,u,c){const v=c?"class":"style";Rg(i,a,s.inputs[v],v,u)}function Nn(i,s,a,u){const c=Me(),p=Nt(),v=20+i,w=c[11],I=c[v]=Pd(w,s,function il(){return pt.lFrame.currentNamespace}()),x=p.firstCreatePass?function xl(i,s,a,u,c,p,v){const w=s.consts,x=bc(s,i,2,c,Cr(w,p));return Hd(s,a,x,Cr(w,v)),null!==x.attrs&&Wd(x,x.attrs,!1),null!==x.mergedAttrs&&Wd(x,x.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,x),x}(v,p,c,0,s,a,u):p.data[v];Ir(x,!0);const k=x.mergedAttrs;null!==k&&b(w,I,k);const V=x.classes;null!==V&&Gs(w,I,V);const G=x.styles;return null!==G&&Ww(w,I,G),64!=(64&x.flags)&&mg(p,c,I,x),0===function qo(){return pt.lFrame.elementDepthCount}()&&Jr(I,c),function Yu(){pt.lFrame.elementDepthCount++}(),ji(x)&&(Lf(p,c,x),function Ff(i,s,a){if(ju(s)){const c=s.directiveEnd;for(let p=s.directiveStart;p<c;p++){const v=i.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}(p,x,c)),null!==u&&av(c,x),Nn}function Ga(){let i=dn();Ja()?function Sa(){pt.lFrame.isParent=!1}():(i=i.parent,Ir(i,!1));const s=i;!function zo(){pt.lFrame.elementDepthCount--}();const a=Nt();return a.firstCreatePass&&(Si(a,i),ju(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Kl(i){return 0!=(16&i.flags)}(s)&&Pv(a,s,Me(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function yd(i){return 0!=(32&i.flags)}(s)&&Pv(a,s,Me(),s.stylesWithoutHost,!1),Ga}function tp(i,s,a,u){return Nn(i,s,a,u),Ga(),tp}function oh(){return Me()}function Kg(i){return!!i&&"function"==typeof i.then}function tt(i){return!!i&&"function"==typeof i.subscribe}const K0=tt;function xu(i,s,a,u){const c=Me(),p=Nt(),v=dn();return function Fc(i,s,a,u,c,p,v,w){const I=ji(u),k=i.firstCreatePass&&Hf(i),V=s[8],G=yv(s);let ne=!0;if(3&u.type||w){const Ke=zn(u,s),st=w?w(Ke):Ke,Oe=G.length,yt=w?Mt=>w(Ut(Mt[u.index])):u.index;if(tn(a)){let Mt=null;if(!w&&I&&(Mt=function rp(i,s,a,u){const c=i.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const v=c[p];if(v===a&&c[p+1]===u){const w=s[7],I=c[p+2];return w.length>I?w[I]:null}"string"==typeof v&&(p+=2)}return null}(i,s,c,u.index)),null!==Mt)(Mt.__ngLastListenerFn__||Mt).__ngNextListenerFn__=p,Mt.__ngLastListenerFn__=p,ne=!1;else{p=kl(u,s,V,p,!1);const gn=a.listen(st,c,p);G.push(p,gn),k&&k.push(c,yt,Oe,Oe+1)}}else p=kl(u,s,V,p,!0),st.addEventListener(c,p,v),G.push(p),k&&k.push(c,yt,Oe,v)}else p=kl(u,s,V,p,!1);const De=u.outputs;let $e;if(ne&&null!==De&&($e=De[c])){const Ke=$e.length;if(Ke)for(let st=0;st<Ke;st+=2){const ur=s[$e[st]][$e[st+1]].subscribe(p),Xs=G.length;G.push(p,ur),k&&k.push(c,u.index,Xs,-(Xs+1))}}}(p,c,c[11],v,i,s,!!a,u),xu}function Lv(i,s,a,u){try{return!1!==a(u)}catch(c){return El(i,c),!1}}function kl(i,s,a,u,c){return function p(v){if(v===Function)return u;const w=2&i.flags?Zn(i.index,s):s;0==(32&s[2])&&Mg(w);let I=Lv(s,0,u,v),x=p.__ngNextListenerFn__;for(;x;)I=Lv(s,0,x,v)&&I,x=x.__ngNextListenerFn__;return c&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function Yg(i=1){return function Ai(i){return(pt.lFrame.contextLView=function nl(i,s){for(;i>0;)s=s[15],i--;return s}(i,pt.lFrame.contextLView))[8]}(i)}function ip(i,s,a,u,c){const p=Me(),v=Au(p,s,a,u);return v!==Rt&&ns(Nt(),bn(),p,i,v,p[11],c,!1),ip}function lh(i,s,a,u,c){const p=i[a+1],v=null===s;let w=u?ei(p):Ba(p),I=!1;for(;0!==w&&(!1===I||v);){const k=i[w+1];fI(i[w],s)&&(I=!0,i[w+1]=u?kf(k):_g(k)),w=u?ei(k):Ba(k)}I&&(i[a+1]=u?_g(p):kf(p))}function fI(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&oa(i,s)>=0}function pa(i,s){return function Zs(i,s,a,u){const c=Me(),p=Nt(),v=Qr(2);p.firstUpdatePass&&function Vc(i,s,a,u){const c=i.data;if(null===c[a+1]){const p=c[Wn()],v=function tm(i,s){return s>=i.expandoStartIndex}(i,a);(function sb(i,s){return 0!=(i.flags&(s?16:32))})(p,u)&&null===s&&!v&&(s=!1),s=function No(i,s,a,u){const c=function eu(i){const s=pt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(a=Uc(a=lp(null,i,s,a,u),s.attrs,u),p=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==c)if(a=lp(c,i,s,a,u),null===p){let I=function eb(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Ba(u))return i[ei(u)]}(i,s,u);void 0!==I&&Array.isArray(I)&&(I=lp(null,i,s,I[1],u),I=Uc(I,s.attrs,u),function up(i,s,a,u){i[ei(a?s.classBindings:s.styleBindings)]=u}(i,s,u,I))}else p=function tb(i,s,a){let u;const c=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<c;p++)u=Uc(u,i[p].hostAttrs,a);return Uc(u,s.attrs,a)}(i,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(c,p,s,u),function hI(i,s,a,u,c,p){let v=p?s.classBindings:s.styleBindings,w=ei(v),I=Ba(v);i[u]=a;let k,x=!1;if(Array.isArray(a)){const V=a;k=V[1],(null===k||oa(V,k)>0)&&(x=!0)}else k=a;if(c)if(0!==I){const G=ei(i[w+1]);i[u+1]=xr(G,w),0!==G&&(i[G+1]=Yy(i[G+1],u)),i[w+1]=function FC(i,s){return 131071&i|s<<17}(i[w+1],u)}else i[u+1]=xr(w,0),0!==w&&(i[w+1]=Yy(i[w+1],u)),w=u;else i[u+1]=xr(I,0),0===w?w=u:i[I+1]=Yy(i[I+1],u),I=u;x&&(i[u+1]=_g(i[u+1])),lh(i,k,u,!0),lh(i,k,u,!1),function Y0(i,s,a,u,c){const p=c?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&oa(p,s)>=0&&(a[u+1]=kf(a[u+1]))}(s,k,i,u,p),v=xr(w,I),p?s.classBindings=v:s.styleBindings=v}(c,p,s,a,v,u)}}(p,i,v,u),s!==Rt&&Mr(c,v,s)&&function Gv(i,s,a,u,c,p,v,w){if(!(3&s.type))return;const I=i.data,x=I[w+1];Bc(function Qy(i){return 1==(1&i)}(x)?qv(I,s,a,c,Ba(x),v):void 0)||(Bc(p)||function Yw(i){return 2==(2&i)}(x)&&(p=qv(I,null,a,c,w,v)),function OC(i,s,a,u,c){const p=tn(i);if(s)c?p?i.addClass(a,u):a.classList.add(u):p?i.removeClass(a,u):a.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:ve.DashCase;if(null==c)p?i.removeStyle(a,u,v):a.style.removeProperty(u);else{const w="string"==typeof c&&c.endsWith("!important");w&&(c=c.slice(0,-10),v|=ve.Important),p?i.setStyle(a,u,c,v):a.style.setProperty(u,c,w?"important":"")}}}(u,v,Ii(Wn(),a),c,p))}(p,p.data[Wn()],c,c[11],i,c[v+1]=function _I(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=fe(So(i)))),i}(s,a),u,v)}(i,s,null,!0),pa}function lp(i,s,a,u,c){let p=null;const v=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<v&&(p=s[w],u=Uc(u,p.hostAttrs,c),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),u}function Uc(i,s,a){const u=a?1:2;let c=-1;if(null!==s)for(let p=0;p<s.length;p++){const v=s[p];"number"==typeof v?c=v:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),nr(i,v,!!a||s[++p]))}return void 0===i?null:i}function qv(i,s,a,u,c,p){const v=null===s;let w;for(;c>0;){const I=i[c],x=Array.isArray(I),k=x?I[1]:I,V=null===k;let G=a[c+1];G===Rt&&(G=V?j:void 0);let ne=V?rc(G,u):k===u?G:void 0;if(x&&!Bc(ne)&&(ne=rc(I,u)),Bc(ne)&&(w=ne,v))return w;const De=i[c+1];c=v?ei(De):Ba(De)}if(null!==s){let I=p?s.residualClasses:s.residualStyles;null!=I&&(w=rc(I,u))}return w}function Bc(i){return void 0!==i}function zv(i,s=""){const a=Me(),u=Nt(),c=i+20,p=u.firstCreatePass?bc(u,c,1,s,null):u.data[c],v=a[c]=function Rd(i,s){return tn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);mg(u,a,v,p),Ir(p,!1)}function Ol(i){return qa("",i,""),Ol}function qa(i,s,a){const u=Me(),c=Au(u,i,s,a);return c!==Rt&&Iu(u,Wn(),c),qa}function nm(i,s,a,u,c){const p=Me(),v=Sc(p,i,s,a,u,c);return v!==Rt&&Iu(p,Wn(),v),nm}const Gc=void 0;var II=["en",[["a","p"],["AM","PM"],Gc],[["AM","PM"],Gc,Gc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gc,"{1} 'at' {0}",Gc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function t_(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let ph={};function n_(i){const s=function fb(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=mh(s);if(a)return a;const u=s.split("-")[0];if(a=mh(u),a)return a;if("en"===u)return II;throw new Error(`Missing locale data for the locale "${i}".`)}function gh(i){return n_(i)[_t.PluralCase]}function mh(i){return i in ph||(ph[i]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[i]),ph[i]}var _t=(()=>((_t=_t||{})[_t.LocaleId=0]="LocaleId",_t[_t.DayPeriodsFormat=1]="DayPeriodsFormat",_t[_t.DayPeriodsStandalone=2]="DayPeriodsStandalone",_t[_t.DaysFormat=3]="DaysFormat",_t[_t.DaysStandalone=4]="DaysStandalone",_t[_t.MonthsFormat=5]="MonthsFormat",_t[_t.MonthsStandalone=6]="MonthsStandalone",_t[_t.Eras=7]="Eras",_t[_t.FirstDayOfWeek=8]="FirstDayOfWeek",_t[_t.WeekendRange=9]="WeekendRange",_t[_t.DateFormat=10]="DateFormat",_t[_t.TimeFormat=11]="TimeFormat",_t[_t.DateTimeFormat=12]="DateTimeFormat",_t[_t.NumberSymbols=13]="NumberSymbols",_t[_t.NumberFormats=14]="NumberFormats",_t[_t.CurrencyCode=15]="CurrencyCode",_t[_t.CurrencySymbol=16]="CurrencySymbol",_t[_t.CurrencyName=17]="CurrencyName",_t[_t.Currencies=18]="Currencies",_t[_t.Directionality=19]="Directionality",_t[_t.PluralCase=20]="PluralCase",_t[_t.ExtraData=21]="ExtraData",_t))();const fp="en-US";let s_=fp;function Pl(i,s,a,u,c){if(i=ee(i),Array.isArray(i))for(let p=0;p<i.length;p++)Pl(i[p],s,a,u,c);else{const p=Nt(),v=Me();let w=eh(i)?i:ee(i.provide),I=Jd(i);const x=dn(),k=1048575&x.providerIndexes,V=x.directiveStart,G=x.providerIndexes>>20;if(eh(i)||!i.multi){const ne=new yo(I,c,Ha),De=mp(w,s,c?k:k+G,V);-1===De?(Vr(xn(x,v),p,w),Xc(p,i,s.length),s.push(w),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),a.push(ne),v.push(ne)):(a[De]=ne,v[De]=ne)}else{const ne=mp(w,s,k+G,V),De=mp(w,s,k,k+G),$e=ne>=0&&a[ne],Ke=De>=0&&a[De];if(c&&!Ke||!c&&!$e){Vr(xn(x,v),p,w);const st=function Nb(i,s,a,u,c){const p=new yo(i,a,Ha);return p.multi=[],p.index=s,p.componentProviders=0,y_(p,c,u&&!a),p}(c?Rb:v_,a.length,c,u,I);!c&&Ke&&(a[De].providerFactory=st),Xc(p,i,s.length,0),s.push(w),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),a.push(st),v.push(st)}else Xc(p,i,ne>-1?ne:De,y_(a[c?De:ne],I,!c&&u));!c&&u&&Ke&&a[De].componentProviders++}}}function Xc(i,s,a,u){const c=eh(s),p=function KC(i){return!!i.useClass}(s);if(c||p){const I=(p?ee(s.useClass):s).prototype.ngOnDestroy;if(I){const x=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const k=x.indexOf(a);-1===k?x.push(a,[u,I]):x[k+1].push(u,I)}else x.push(a,I)}}}function y_(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function mp(i,s,a,u){for(let c=a;c<u;c++)if(s[c]===i)return c;return-1}function v_(i,s,a,u){return __(this.multi,[])}function Rb(i,s,a,u){const c=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Ki(a,a[1],this.providerFactory.index,u);p=w.slice(0,v),__(c,p);for(let I=v;I<w.length;I++)p.push(w[I])}else p=[],__(c,p);return p}function __(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function w_(i,s=[]){return a=>{a.providersResolver=(u,c)=>function Jc(i,s,a){const u=Nt();if(u.firstCreatePass){const c=Gn(i);Pl(a,u.data,u.blueprint,c,!0),Pl(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class Ch{}class FI{resolveComponentFactory(s){throw function fm(i){const s=Error(`No component factory found for ${fe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let pm=(()=>{class i{}return i.NULL=new FI,i})();function LI(){return ed(dn(),Me())}function ed(i,s){return new td(zn(i,s))}let td=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=LI,i})();function E_(i){return i instanceof td?i.nativeElement:i}class Fb{}let C_=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Lb(){const i=Me(),a=Zn(dn().index,i);return function UI(i){return i[11]}(ci(a)?a:i)}(),i})(),gm=(()=>{class i{}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:()=>null}),i})();class yp{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const vp=new yp("13.2.5"),mm={};function bi(i,s,a,u,c=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&u.push(Ut(p)),Wr(p))for(let w=10;w<p.length;w++){const I=p[w],x=I[1].firstChild;null!==x&&bi(I[1],I,x,u)}const v=a.type;if(8&v)bi(i,s,a.child,u);else if(32&v){const w=it(a,s);let I;for(;I=w();)u.push(I)}else if(16&v){const w=Zw(s,a);if(Array.isArray(w))u.push(...w);else{const I=On(s[16]);bi(I[1],I,w,u,!0)}}a=c?a.projectionNext:a.next}return u}class Ih{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return bi(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Wr(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Ly(s,u),sa(a,u))}this._attachedToViewContainer=!1}Vy(this._lView[1],this._lView)}onDestroy(s){y0(this._lView[1],this._lView,null,s)}markForCheck(){Mg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function T0(i,s,a){Rs(!0);try{zd(i,s,a)}finally{Rs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fd(i,s){yg(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=s}}class ym extends Ih{constructor(s){super(s),this._view=s}detectChanges(){kg(this._view)}checkNoChanges(){!function A0(i){Rs(!0);try{kg(i)}finally{Rs(!1)}}(this._view)}get context(){return null}}class vm extends pm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Vn(s);return new _m(a,this.ngModule)}}function I_(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class _m extends Ch{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Ky(i){return i.map(NC).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return I_(this.componentDef.inputs)}get outputs(){return I_(this.componentDef.outputs)}create(s,a,u,c){const p=(c=c||this.ngModule)?function Dh(i,s){return{get:(a,u,c)=>{const p=i.get(a,mm,c);return p!==mm||u===mm?p:s.get(a,u,c)}}}(s,c.injector):s,v=p.get(Fb,jo),w=p.get(gm,null),I=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=u?function Ig(i,s,a){if(tn(i))return i.selectRootElement(s,a===ft.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(I,u,this.componentDef.encapsulation):Pd(v.createRenderer(null,this.componentDef),x,function Fl(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(x)),V=this.componentDef.onPush?576:528,G=function N0(i,s){return{components:[],scheduler:i||Oy,clean:$f,playerHandler:s||null,flags:0}}(),ne=Vf(0,null,null,1,0,null,null,null,null,null),De=wc(null,ne,G,V,null,null,v,I,w,p);let $e,Ke;Ns(De);try{const st=function pr(i,s,a,u,c,p){const v=a[1];a[20]=i;const I=bc(v,20,2,"#host",null),x=I.mergedAttrs=s.hostAttrs;null!==x&&(Wd(I,x,!0),null!==i&&(b(c,i,x),null!==I.classes&&Gs(c,i,I.classes),null!==I.styles&&Ww(c,i,I.styles)));const k=u.createRenderer(i,s),V=wc(a,p0(s),null,s.onPush?64:16,a[20],I,u,k,p||null,null);return v.firstCreatePass&&(Vr(xn(I,a),v,s.type),hv(v,I),qd(I,a.length,1)),bl(a,V),a[20]=V}(k,this.componentDef,De,v,I);if(k)if(u)b(I,k,["ng-version",vp.full]);else{const{attrs:Oe,classes:yt}=function PC(i){const s=[],a=[];let u=1,c=2;for(;u<i.length;){let p=i[u];if("string"==typeof p)2===c?""!==p&&s.push(p,i[++u]):8===c&&a.push(p);else{if(!ha(c))break;c=p}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Oe&&b(I,k,Oe),yt&&yt.length>0&&Gs(I,k,yt.join(" "))}if(Ke=wn(ne,20),void 0!==a){const Oe=Ke.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const Mt=a[yt];Oe.push(null!=Mt?Array.from(Mt):null)}}$e=function Tv(i,s,a,u,c){const p=a[1],v=function _0(i,s,a){const u=dn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),fv(i,u,s,_l(i,s,1,null),a));const c=Ki(s,i,u.directiveStart,u);Jr(c,s);const p=zn(u,s);return p&&Jr(p,s),c}(p,a,s);if(u.components.push(v),i[8]=v,c&&c.forEach(I=>I(v,s)),s.contentQueries){const I=dn();s.contentQueries(1,v,I.directiveStart)}const w=dn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Zi(w.index),w0(a[1],w,0,w.directiveStart,w.directiveEnd,s),b0(s,v)),v}(st,this.componentDef,De,G,[eI]),Ec(ne,De,null)}finally{mo()}return new Th(this.componentType,$e,ed(Ke,De),De,Ke)}}class Th extends class b_{}{constructor(s,a,u,c,p){super(),this.location=u,this._rootLView=c,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new ym(c),this.componentType=s}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Qs{}class Ll{}const Vl=new Map;class rd extends Qs{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vm(this);const u=Un(s);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=Rn(s,a,[{provide:Qs,useValue:this},{provide:pm,useValue:this.componentFactoryResolver}],fe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=ko.THROW_IF_NOT_FOUND,u=rt.Default){return s===ko||s===Qs||s===Ng?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class wm extends Ll{constructor(s){super(),this.moduleType=s,null!==Un(s)&&function jI(i){const s=new Set;!function a(u){const c=Un(u,!0),p=c.id;null!==p&&(function Ub(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${fe(s)} vs ${fe(s.name)}`)}(p,Vl.get(p),u),Vl.set(p,u));const v=g(c.imports);for(const w of v)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new rd(this.moduleType,s)}}function jb(i,s,a,u){return function Em(i,s,a,u,c,p){const v=s+a;return Mr(i,v,c)?$a(i,v+1,p?u.call(p,c):u(c)):Bl(i,v+1)}(Me(),In(),i,s,a,u)}function Bl(i,s){const a=i[s];return a===Rt?void 0:a}function Cm(i,s,a,u,c,p,v,w,I){const x=s+a;return function ws(i,s,a,u,c,p){const v=Tl(i,s,a,u);return Tl(i,s+2,c,p)||v}(i,x,c,p,v,w)?$a(i,x+4,I?u.call(I,c,p,v,w):u(c,p,v,w)):Bl(i,x+4)}function zb(i,s){const a=Nt();let u;const c=i+20;a.firstCreatePass?(u=function Zb(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}}(s,a.pipeRegistry),a.data[c]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,u.onDestroy)):u=a.data[c];const p=u.factory||(u.factory=Yr(u.type)),v=mn(Ha);try{const w=Wi(!1),I=p();return Wi(w),function rI(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}(a,Me(),c,I),I}finally{mn(v)}}function M_(i,s,a,u,c,p){const v=i+20,w=Me(),I=Lr(w,v);return function Ah(i,s){return i[1].data[s].pure}(w,v)?Cm(w,In(),s,I.transform,a,u,c,p,I):I.transform(a,u,c,p)}function jl(i){return s=>{setTimeout(i,void 0,s)}}const os=class zI extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var c,p,v;let w=s,I=a||(()=>null),x=u;if(s&&"object"==typeof s){const V=s;w=null===(c=V.next)||void 0===c?void 0:c.bind(V),I=null===(p=V.error)||void 0===p?void 0:p.bind(V),x=null===(v=V.complete)||void 0===v?void 0:v.bind(V)}this.__isAsync&&(I=jl(I),w&&(w=jl(w)),x&&(x=jl(x)));const k=super.subscribe({next:w,error:I,complete:x});return s instanceof X.w0&&s.add(k),k}};function k_(){return this._results[Tc()]()}class Sh{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Tc(),u=Sh.prototype;u[a]||(u[a]=k_)}get changes(){return this._changes||(this._changes=new os)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const c=Ur(s);(this._changesDetected=!function Xl(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],p=s[u];if(a&&(c=a(c),p=a(p)),p!==c)return!1}return!0}(u._results,c,a))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xh=(()=>{class i{}return i.__NG_ELEMENT_ID__=O_,i})();const Kb=xh,ZI=class extends Kb{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=wc(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),Ec(a,u,s),new Ih(u)}};function O_(){return Im(dn(),Me())}function Im(i,s){return 4&i.type?new ZI(s,i,ed(i,s)):null}let Mh=(()=>{class i{}return i.__NG_ELEMENT_ID__=WI,i})();function WI(){return zr(dn(),Me())}const R_=Mh,Yb=class extends R_{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){const s=sl(this._hostTNode,this._hostLView);if(yn(s)){const a=Tr(s,this._hostLView),u=Ft(s);return new Vs(a[1].data[u+8],a)}return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Qb(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const c=s.createEmbeddedView(a||{});return this.insert(c,u),c}createComponent(s,a,u,c,p){const v=s&&!function ia(i){return"function"==typeof i}(s);let w;if(v)w=a;else{const V=a||{};w=V.index,u=V.injector,c=V.projectableNodes,p=V.ngModuleRef}const I=v?s:new _m(Vn(s)),x=u||this.parentInjector;if(!p&&null==I.ngModule){const G=(v?x:this.parentInjector).get(Qs,null);G&&(p=G)}const k=I.create(x,c,void 0,p);return this.insert(k.hostView,w),k}insert(s,a){const u=s._lView,c=u[1];if(function Aa(i){return Wr(i[3])}(u)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const V=u[3],G=new Yb(V,V[6],V[3]);G.detach(G.indexOf(s))}}const p=this._adjustIndex(a),v=this._lContainer;!function vc(i,s,a,u){const c=10+u,p=a.length;u>0&&(a[c-1][4]=s),u<p-10?(s[4]=a[c],ec(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function Ld(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(c,u,v,p);const w=Hy(p,v),I=u[11],x=Sf(I,v[7]);return null!==x&&function Af(i,s,a,u,c,p){u[0]=c,u[6]=s,yg(i,u,a,1,c,p)}(c,v[6],I,u,x,w),s.attachToViewContainerRef(),ec(wp(v),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Qb(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Ly(this._lContainer,a);u&&(sa(wp(this._lContainer),a),Vy(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Ly(this._lContainer,a);return u&&null!=sa(wp(this._lContainer),a)?new Ih(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Qb(i){return i[8]}function wp(i){return i[8]||(i[8]=[])}function zr(i,s){let a;const u=s[i.index];if(Wr(u))a=u;else{let c;if(8&i.type)c=Ut(u);else{const p=s[11];c=p.createComment("");const v=zn(i,s);Hs(p,Sf(p,v),c,function MC(i,s){return tn(i)?i.nextSibling(s):s.nextSibling}(p,v),!1)}s[i.index]=a=pv(u,s,c,i),bl(s,a)}return new Yb(a,i,s)}class N_{constructor(s){this.queryList=s,this.matches=null}clone(){return new N_(this.queryList)}setDirty(){this.queryList.setDirty()}}class P_{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let p=0;p<u;p++){const v=a.getByIndex(p);c.push(this.queries[v.indexInDeclarationView].clone())}return new P_(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==V_(s,a).matches&&this.queries[a].setDirty()}}class Jb{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class bp{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const c=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,c);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new bp(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Dm{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Dm(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const p=u[c];this.matchTNodeWithReadOption(s,a,Xb(a,p)),this.matchTNodeWithReadOption(s,a,du(a,s,p,!1,!1))}else u===xh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,du(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===td||c===Mh||c===xh&&4&a.type)this.addMatch(a.index,-2);else{const p=du(a,s,c,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Xb(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function Tm(i,s,a,u){return-1===a?function F_(i,s){return 11&i.type?ed(i,s):4&i.type?Im(i,s):null}(s,i):-2===a?function Ep(i,s,a){return a===td?ed(s,i):a===xh?Im(s,i):a===Mh?zr(s,i):void 0}(i,s,u):Ki(i,i[1],a,s)}function Cp(i,s,a,u){const c=s[19].queries[u];if(null===c.matches){const p=i.data,v=a.matches,w=[];for(let I=0;I<v.length;I+=2){const x=v[I];w.push(x<0?null:Tm(s,p[x],v[I+1],a.metadata.read))}c.matches=w}return c.matches}function Ip(i,s,a,u){const c=i.queries.getByIndex(a),p=c.matches;if(null!==p){const v=Cp(i,s,c,a);for(let w=0;w<p.length;w+=2){const I=p[w];if(I>0)u.push(v[w/2]);else{const x=p[w+1],k=s[-I];for(let V=10;V<k.length;V++){const G=k[V];G[17]===G[3]&&Ip(G[1],G,x,u)}if(null!==k[9]){const V=k[9];for(let G=0;G<V.length;G++){const ne=V[G];Ip(ne[1],ne,x,u)}}}}}return u}function Am(i){const s=Me(),a=Nt(),u=Qo();tu(u+1);const c=V_(a,u);if(i.dirty&&fo(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const p=c.crossesNgTemplate?Ip(a,s,u,[]):Cp(a,s,c,u);i.reset(p,E_),i.notifyOnChanges()}return!0}return!1}function Sm(i,s,a){const u=Nt();u.firstCreatePass&&(rE(u,new Jb(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),nE(u,Me(),s)}function L_(i,s,a,u){const c=Nt();if(c.firstCreatePass){const p=dn();rE(c,new Jb(s,a,u),p.index),function QI(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}nE(c,Me(),a)}function eE(){return function tE(i,s){return i[19].queries[s].queryList}(Me(),Qo())}function nE(i,s,a){const u=new Sh(4==(4&a));y0(i,s,u,u.destroy),null===s[19]&&(s[19]=new P_),s[19].queries.push(new N_(u))}function rE(i,s,a){null===i.queries&&(i.queries=new bp),i.queries.track(new Dm(s,a))}function V_(i,s){return i.queries.getByIndex(s)}function Lm(...i){}const Vm=new kn("Application Initializer");let Np=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Lm,this.reject=Lm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(Kg(p))a.push(p);else if(K0(p)){const v=new Promise((w,I)=>{p.subscribe({complete:w,error:I})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(c=>{this.reject(c)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Be(Vm,8))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Um=new kn("AppId",{providedIn:"root",factory:function Bm(){return`${Z_()}${Z_()}${Z_()}`}});function Z_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jm=new kn("Platform Initializer"),$m=new kn("Platform ID"),vE=new kn("appBootstrapListener");let _E=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})();const Hm=new kn("LocaleId",{providedIn:"root",factory:()=>Ot(Hm,rt.Optional|rt.SkipSelf)||function wE(){return"undefined"!=typeof $localize&&$localize.locale||fp}()}),bE=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class oD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let aD=(()=>{class i{compileModuleSync(a){return new wm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=g(Un(a).declarations).reduce((v,w)=>{const I=Vn(w);return I&&v.push(new _m(I)),v},[]);return new oD(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const K_=(()=>Promise.resolve(0))();function Y_(i){"undefined"==typeof Zone?K_.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class _a{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new os(!1),this.onMicrotaskEmpty=new os(!1),this.onStable=new os(!1),this.onError=new os(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&a,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Q_(){let i=Vt.requestAnimationFrame,s=Vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function CE(i){const s=()=>{!function X_(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Vt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,ew(i),i.isCheckStableRunning=!0,Gm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),ew(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,c,p,v,w)=>{try{return qm(i),a.invokeTask(c,p,v,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),IE(i)}},onInvoke:(a,u,c,p,v,w,I)=>{try{return qm(i),a.invoke(c,p,v,w,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),IE(i)}},onHasTask:(a,u,c,p)=>{a.hasTask(c,p),u===c&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,ew(i),Gm(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,c,p)=>(a.handleError(c,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_a.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_a.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,c){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+c,s,J_,Lm,Lm);try{return p.runTask(v,a,u)}finally{p.cancelTask(v)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const J_={};function Gm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function ew(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function qm(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function IE(i){i._nesting--,Gm(i)}class tw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new os,this.onMicrotaskEmpty=new os,this.onStable=new os,this.onError=new os}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,c){return s.apply(a,u)}}let DE=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_a.assertNotInAngularZone(),Y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Y_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,c){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:c})}whenStable(a,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(Be(_a))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})(),zm=(()=>{class i{constructor(){this._applications=new Map,Pp.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Pp.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})();class uD{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function nw(i){Pp=i}let Js,Pp=new uD;const TE=new kn("AllowMultipleToken");class iw{constructor(s,a){this.name=s,this.token=a}}function Zm(i,s,a=[]){const u=`Platform: ${s}`,c=new kn(u);return(p=[])=>{let v=SE();if(!v||v.injector.get(TE,!1))if(i)i(a.concat(p).concat({provide:c,useValue:!0}));else{const w=a.concat(p).concat({provide:c,useValue:!0},{provide:Du,useValue:"platform"});!function Nu(i){if(Js&&!Js.destroyed&&!Js.injector.get(TE,!1))throw new Fe(400,"");Js=i.get(xE);const s=i.get(jm,null);s&&s.forEach(a=>a())}(ko.create({providers:w,name:u}))}return function cD(i){const s=SE();if(!s)throw new Fe(401,"");return s}()}}function SE(){return Js&&!Js.destroyed?Js:null}let xE=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const w=function sw(i,s){let a;return a="noop"===i?new tw:("zone.js"===i?void 0:i)||new _a({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),I=[{provide:_a,useValue:w}];return w.run(()=>{const x=ko.create({providers:I,parent:this.injector,name:a.moduleType.name}),k=a.create(x),V=k.injector.get(jr,null);if(!V)throw new Fe(402,"");return w.runOutsideAngular(()=>{const G=w.onError.subscribe({next:ne=>{V.handleError(ne)}});k.onDestroy(()=>{Fp(this._modules,k),G.unsubscribe()})}),function dD(i,s,a){try{const u=a();return Kg(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(V,w,()=>{const G=k.injector.get(Np);return G.runInitializers(),G.donePromise.then(()=>(function TI(i){ot(i,"Expected localeId to be defined"),"string"==typeof i&&(s_=i.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Hm,fp)||fp),this._moduleDoBootstrap(k),k))})})}bootstrapModule(a,u=[]){const c=Wm({},u);return function Ph(i,s,a){const u=new wm(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(a){const u=a.injector.get(ow);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Fe(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Be(ko))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})();function Wm(i,s){return Array.isArray(s)?s.reduce(Wm,i):Object.assign(Object.assign({},i),s)}let ow=(()=>{class i{constructor(a,u,c,p,v){this._zone=a,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=p,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new P.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),I=new P.y(x=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{_a.assertNotInAngularZone(),Y_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{_a.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{k.unsubscribe(),V.unsubscribe()}});this.isStable=(0,ge.T)(w,I.pipe((0,se.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Fe(405,"");let c;c=a instanceof Ch?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const p=function rw(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Qs),w=c.create(ko.NULL,[],u||c.selector,p),I=w.location.nativeElement,x=w.injector.get(DE,null),k=x&&w.injector.get(zm);return x&&k&&k.registerApplication(I,x),w.onDestroy(()=>{this.detachView(w.hostView),Fp(this.components,w),k&&k.unregisterApplication(I)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Fp(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(vE,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Be(_a),Be(ko),Be(jr),Be(pm),Be(Np))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Fp(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let uw=!0,Km=!1;function kE(){return Km=!0,uw}function hD(){if(Km)throw new Error("Cannot enable prod mode after platform setup.");uw=!1}let lw=(()=>{class i{}return i.__NG_ELEMENT_ID__=cw,i})();function cw(i){return function dw(i,s,a){if(ba(i)&&!a){const u=Zn(i.index,s);return new Ih(u,u)}return 47&i.type?new Ih(s[16],s):null}(dn(),Me(),16==(16&i))}class Qm{constructor(){}supports(s){return Dl(s)}create(s){return new pw(s)}}const Fh=(i,s)=>s;class pw{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Fh}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,c=0,p=null;for(;a||u;){const v=!u||a&&a.currentIndex<gw(u,c,p)?a:u,w=gw(v,c,p),I=v.currentIndex;if(v===u)c--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)c++;else{p||(p=[]);const x=w-c,k=I-c;if(x!=k){for(let G=0;G<x;G++){const ne=G<p.length?p[G]:p[G]=0,De=ne+G;k<=De&&De<x&&(p[G]=ne+1)}p[v.previousIndex]=k-x}}w!==I&&s(v,w,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Dl(s))throw new Fe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,p,v,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],v=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,p,v,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,w),u=!0),a=a._next}else c=0,function xv(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Tc()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,w=>{v=this._trackByFn(c,w),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,w,v,c)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,v,c),u=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,c){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,c)):s=this._addAfter(new _D(a,u),p,c),s}_verifyReinsertion(s,a,u,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,p=s._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new UE),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class _D{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class UE{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new wD,this.map.set(a,u)),u.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gw(i,s,a){const u=i.previousIndex;if(null===u)return u;let c=0;return a&&u<a.length&&(c=a[u]),u+s+c}class BE{constructor(){}supports(s){return s instanceof Map||nh(s)}create(){return new jE}}class jE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||nh(s)))throw new Fe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(c,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const p=c._prev,v=c._next;return p&&(p._next=v),v&&(v._prev=p),c._next=null,c._prev=null,c}const u=new bD(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class bD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $E(){return new mw([new Qm])}let mw=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||$E()),deps:[[i,new Ji,new ys]]}}find(a){const u=this.factories.find(c=>c.supports(a));if(null!=u)return u;throw new Fe(901,"")}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:$E}),i})();function yw(){return new Bp([new BE])}let Bp=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||yw()),deps:[[i,new Ji,new ys]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new Fe(901,"")}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:yw}),i})();const qE=Zm(null,"core",[{provide:$m,useValue:"unknown"},{provide:xE,deps:[ko]},{provide:zm,deps:[]},{provide:_E,deps:[]}]);let zE=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Be(ow))},i.\u0275mod=wr({type:i}),i.\u0275inj=Zt({}),i})()},3942:(ut,xe,L)=>{"use strict";L.d(xe,{Z:()=>Fe});var d=L(2090),X=L(4859),P=L(9681),ge=L(1877);class se{constructor(Q,he){this._delegate=Q,this.firebase=he,(0,P._addComponent)(Q,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this._delegate.automaticDataCollectionEnabled=Q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Q=>{this._delegate.checkDestroyed(),Q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Q,he=P._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(Q);return!Le.isInitialized()&&"EXPLICIT"===(null===(Re=Le.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:he})}_removeServiceInstance(Q,he=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Q).clearInstance(he)}_addComponent(Q){(0,P._addComponent)(this._delegate,Q)}_addOrOverwriteComponent(Q){(0,P._addOrOverwriteComponent)(this._delegate,Q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function pe(){const He=function fe(He){const Q={},he={__esModule:!0,initializeApp:function de(q,ae={}){const K=P.initializeApp(q,ae);if((0,d.r3)(Q,K.name))return Q[K.name];const le=new He(K,he);return Q[K.name]=le,le},app:Le,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ie(q){const ae=q.name,K=ae.replace("-compat","");if(P._registerComponent(q)&&"PUBLIC"===q.type){const le=(me=Le())=>{if("function"!=typeof me[K])throw ce.create("invalid-app-argument",{appName:ae});return me[K]()};void 0!==q.serviceProps&&(0,d.ZB)(le,q.serviceProps),he[K]=le,He.prototype[K]=function(...me){return this._getService.bind(this,ae).apply(this,q.multipleInstances?me:[])}}return"PUBLIC"===q.type?he[K]:null},removeApp:function Re(q){delete Q[q]},useAsService:function ze(q,ae){return"serverAuth"===ae?null:ae},modularAPIs:P}};function Le(q){if(!(0,d.r3)(Q,q=q||P._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:q});return Q[q]}return he.default=he,Object.defineProperty(he,"apps",{get:function Ee(){return Object.keys(Q).map(q=>Q[q])}}),Le.App=He,he}(se);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function Q(he){(0,d.ZB)(He,he)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),He}(),$=new ge.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=H;!function ke(He){(0,P.registerVersion)("@firebase/app-compat","0.1.18",He)}()},9681:(ut,xe,L)=>{"use strict";L.r(xe),L.d(xe,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>er,_DEFAULT_ENTRY_NAME:()=>En,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>Cn,_apps:()=>et,_clearComponents:()=>At,_components:()=>an,_getProvider:()=>mr,_registerComponent:()=>Lt,_removeServiceInstance:()=>Zt,deleteApp:()=>un,getApp:()=>us,getApps:()=>Hn,initializeApp:()=>Rr,onLog:()=>Wt,registerVersion:()=>Nr,setLogLevel:()=>mn});var d=L(5861),X=L(4859),P=L(1877),ge=L(2090);class se{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function _e(gt){const Ve=gt.getComponent();return"VERSION"===(null==Ve?void 0:Ve.type)}(wt)){const Ht=wt.getImmediate();return`${Ht.library}/${Ht.version}`}return null}).filter(wt=>wt).join(" ")}}const ce="@firebase/app",pe=new P.Yd("@firebase/app"),En="[DEFAULT]",ot={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,an=new Map;function Xt(gt,Ve){try{gt.container.addComponent(Ve)}catch(wt){pe.debug(`Component ${Ve.name} failed to register with FirebaseApp ${gt.name}`,wt)}}function Cn(gt,Ve){gt.container.addOrOverwriteComponent(Ve)}function Lt(gt){const Ve=gt.name;if(an.has(Ve))return pe.debug(`There were multiple attempts to register component ${Ve}.`),!1;an.set(Ve,gt);for(const wt of et.values())Xt(wt,gt);return!0}function mr(gt,Ve){return gt.container.getProvider(Ve)}function Zt(gt,Ve,wt=En){mr(gt,Ve).clearInstance(wt)}function At(){an.clear()}const Xn=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ei{constructor(Ve,wt,Ht){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=Ht,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const er="9.6.7";function Rr(gt,Ve={}){"object"!=typeof Ve&&(Ve={name:Ve});const wt=Object.assign({name:En,automaticDataCollectionEnabled:!1},Ve),Ht=wt.name;if("string"!=typeof Ht||!Ht)throw Xn.create("bad-app-name",{appName:String(Ht)});const Tn=et.get(Ht);if(Tn){if((0,ge.vZ)(gt,Tn.options)&&(0,ge.vZ)(wt,Tn.config))return Tn;throw Xn.create("duplicate-app",{appName:Ht})}const ft=new X.H0(Ht);for(const ct of an.values())ft.addComponent(ct);const Ze=new Ei(gt,wt,ft);return et.set(Ht,Ze),Ze}function us(gt=En){const Ve=et.get(gt);if(!Ve)throw Xn.create("no-app",{appName:gt});return Ve}function Hn(){return Array.from(et.values())}function un(gt){return rt.apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(gt){const Ve=gt.name;et.has(Ve)&&(et.delete(Ve),yield Promise.all(gt.container.getProviders().map(wt=>wt.delete())),gt.isDeleted=!0)})).apply(this,arguments)}function Nr(gt,Ve,wt){var Ht;let Tn=null!==(Ht=ot[gt])&&void 0!==Ht?Ht:gt;wt&&(Tn+=`-${wt}`);const ft=Tn.match(/\s|\//),Ze=Ve.match(/\s|\//);if(ft||Ze){const ct=[`Unable to register library "${Tn}" with version "${Ve}":`];return ft&&ct.push(`library name "${Tn}" contains illegal characters (whitespace or "/")`),ft&&Ze&&ct.push("and"),Ze&&ct.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void pe.warn(ct.join(" "))}Lt(new X.wA(`${Tn}-version`,()=>({library:Tn,version:Ve}),"VERSION"))}function Wt(gt,Ve){if(null!==gt&&"function"!=typeof gt)throw Xn.create("invalid-log-argument");(0,P.Am)(gt,Ve)}function mn(gt){(0,P.Ub)(gt)}!function ls(gt){Lt(new X.wA("platform-logger",Ve=>new se(Ve),"PRIVATE")),Nr(ce,"0.7.17",gt),Nr(ce,"0.7.17","esm2017"),Nr("fire-js","")}("")},4859:(ut,xe,L)=>{"use strict";L.d(xe,{wA:()=>P,H0:()=>fe});var d=L(5861),X=L(2090);class P{constructor(H,$,ee){this.name=H,this.instanceFactory=$,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ge="[DEFAULT]";class se{constructor(H,$){this.name=H,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const $=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has($)){const ee=new X.BH;if(this.instancesDeferred.set($,ee),this.isInitialized($)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:$});Ge&&ee.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get($).promise}getImmediate(H){var $;const ee=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Ge=null!==($=null==H?void 0:H.optional)&&void 0!==$&&$;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ke){if(Ge)return null;throw ke}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ce(pe){return"EAGER"===pe.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ge})}catch($){}for(const[$,ee]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier($);try{const ke=this.getOrInitializeService({instanceIdentifier:Ge});ee.resolve(ke)}catch(ke){}}}}clearInstance(H=ge){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,d.Z)(function*(){const $=Array.from(H.instances.values());yield Promise.all([...$.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...$.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ge){return this.instances.has(H)}getOptions(H=ge){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:$={}}=H,ee=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ee,options:$});for(const[ke,Fe]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(ke)&&Fe.resolve(Ge);return Ge}onInit(H,$){var ee;const Ge=this.normalizeInstanceIdentifier($),ke=null!==(ee=this.onInitCallbacks.get(Ge))&&void 0!==ee?ee:new Set;ke.add(H),this.onInitCallbacks.set(Ge,ke);const Fe=this.instances.get(Ge);return Fe&&H(Fe,Ge),()=>{ke.delete(H)}}invokeOnInitCallbacks(H,$){const ee=this.onInitCallbacks.get($);if(ee)for(const Ge of ee)try{Ge(H,$)}catch(ke){}}getOrInitializeService({instanceIdentifier:H,options:$={}}){let ee=this.instances.get(H);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=H,pe===ge?void 0:pe),options:$}),this.instances.set(H,ee),this.instancesOptions.set(H,$),this.invokeOnInitCallbacks(ee,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ee)}catch(Ge){}var pe;return ee||null}normalizeInstanceIdentifier(H=ge){return this.component?this.component.multipleInstances?H:ge:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const $=this.getProvider(H.name);if($.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);$.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const $=new se(H,this);return this.providers.set(H,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,xe,L)=>{"use strict";L.d(xe,{in:()=>X,Yd:()=>ce,Ub:()=>fe,Am:()=>pe});const d=[];var X=(()=>{return(H=X||(X={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",X;var H})();const P={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ge=X.INFO,se={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},_e=(H,$,...ee)=>{if($<H.logLevel)return;const Ge=(new Date).toISOString(),ke=se[$];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[ke](`[${Ge}]  ${H.name}:`,...ee)};class ce{constructor($){this.name=$,this._logLevel=ge,this._logHandler=_e,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in X))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?P[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...$),this._logHandler(this,X.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...$),this._logHandler(this,X.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,X.INFO,...$),this._logHandler(this,X.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,X.WARN,...$),this._logHandler(this,X.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...$),this._logHandler(this,X.ERROR,...$)}}function fe(H){d.forEach($=>{$.setLogLevel(H)})}function pe(H,$){for(const ee of d){let Ge=null;$&&$.level&&(Ge=P[$.level]),ee.userLogHandler=null===H?null:(ke,Fe,...He)=>{const Q=He.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch(Re){return null}}).filter(he=>he).join(" ");Fe>=(null!=Ge?Ge:ke.logLevel)&&H({level:X[Fe].toLowerCase(),message:Q,args:He,type:ke.name})}}}},5861:(ut,xe,L)=>{"use strict";function d(P,ge,se,_e,ce,fe,pe){try{var H=P[fe](pe),$=H.value}catch(ee){return void se(ee)}H.done?ge($):Promise.resolve($).then(_e,ce)}function X(P){return function(){var ge=this,se=arguments;return new Promise(function(_e,ce){var fe=P.apply(ge,se);function pe($){d(fe,_e,ce,pe,H,"next",$)}function H($){d(fe,_e,ce,pe,H,"throw",$)}pe(void 0)})}}L.d(xe,{Z:()=>X})}},ut=>{ut(ut.s=6243)}]);